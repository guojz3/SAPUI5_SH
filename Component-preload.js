/**
* This file was auto-generated by SAP Web IDE build and includes all
* the source files required by SAPUI5 runtime for performance optimization.
* PLEASE DO NOT EDIT THIS FILE!! Changes will be overwritten the next time the build is run.
*/
jQuery.sap.registerPreloadedModules({
	"version": "2.0",
	"name": "sh/bz/common/Component-preload",
	"modules": {
		"sh/bz/common/view/View1.view.xml": "<mvc:View controllerName=\"sh.bz.common.controller.View1\" xmlns:html=\"http://www.w3.org/1999/xhtml\" xmlns:mvc=\"sap.ui.core.mvc\"\n\tdisplayBlock=\"true\" xmlns=\"sap.m\">\n\t<App>\n\t\t<pages>\n\t\t\t<Page title=\"{i18n>title}\">\n\t\t\t\t<content></content>\n\t\t\t</Page>\n\t\t</pages>\n\t</App>\n</mvc:View>",
		"sh/bz/common/Component.js": "sap.ui.define([\n\t\"sap/ui/core/UIComponent\",\n\t\"sap/ui/Device\",\n\t\"sh/bz/common/model/models\"\n], function(UIComponent, Device, models) {\n\t\"use strict\";\n\n\treturn UIComponent.extend(\"sh.bz.common.Component\", {\n\n\t\tmetadata: {\n\t\t\tmanifest: \"json\"\n\t\t},\n\n\t\t/**\n\t\t * The component is initialized by UI5 automatically during the startup of the app and calls the init method once.\n\t\t * @public\n\t\t * @override\n\t\t */\n\t\tinit: function() {\n\t\t\t// call the base component's init function\n\t\t\tUIComponent.prototype.init.apply(this, arguments);\n\n\t\t\t// set the device model\n\t\t\tthis.setModel(models.createDeviceModel(), \"device\");\n\t\t}\n\t});\n});",
		"sh/bz/common/common/fragment/DialogBukrs.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>公司}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Burklists\" items=\"{path: 'model_BUKRS>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索公司列表}\" value=\"{model_search>/BUKRS}\" \n\t\t\t\t\t\tsearch=\"onSearchBurks\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"30%\">\n\t\t\t\t\t\t<Text text=\"{i18n>公司代码}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"70%\">\n\t\t\t\t\t\t<Text text=\"{i18n>公司}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedBukr\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_BUKRS>Bxbukrs}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_BUKRS>Butxt}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmBukr\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelBukrsSelects\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/CLBX_DIALOG_Hx.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\">\n\t<Dialog id=\"CLBX_dialog_hx\" title=\"选择核销单\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"CLBX_dialogtable_hx\" items=\"{ path: '/HxSet', sorter: { path: 'Jkdh', descending: false } }\"\n\t\t\t\tnoDataText=\"{worklistView>/tableNoDataText}\" growing=\"true\" growingScrollToLoad=\"true\" updateFinished=\"onUpdateFinished\"\n\t\t\t\tincludeItemInSelection=\"true\" mode=\"MultiSelect\" modeAnimationOn=\"false\">\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"30%\">\n\t\t\t\t\t\t<Text text=\"单据编号\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"20%\">\n\t\t\t\t\t\t<Text text=\"借款日期\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"20%\">\n\t\t\t\t\t\t<Text text=\"借款金额\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"30%\">\n\t\t\t\t\t\t<Text text=\"借款人\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"30%\">\n\t\t\t\t\t\t<Text text=\"已核销金额\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"onPress\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{Jkdh}\"/>\n\t\t\t\t\t\t\t<Text text=\"{ path: 'Redate', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'yyyy/MM/dd' } }\"/>\n\t\t\t\t\t\t\t<VBox>\n\t\t\t\t\t\t\t\t<Text text=\"{path: 'Dmbtr', formatter: '.formatter.FloatFormat'}\" textAlign=\"Right\" width=\"100%\"/>\n\t\t\t\t\t\t\t</VBox>\n\t\t\t\t\t\t\t<Text text=\"{SnameJ}\"/>\n\t\t\t\t\t\t\t<VBox>\n\t\t\t\t\t\t\t\t<Text text=\"{path: 'Yhxje', formatter: '.formatter.FloatFormat'}\" textAlign=\"Right\" width=\"100%\"/>\n\t\t\t\t\t\t\t</VBox>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button id=\"DialogSavehx\" text=\"保存\" press=\"onDialogSaveHx\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"取消\" id=\"DialogCancelhx\" press=\"onDialogBackHx\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogCtkdHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>城市}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Ctkdlist\" items=\"{path: 'model_Ctkd>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索城市列表}\" value=\"\" search=\"onSearchCtkd\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"30%\" >\n\t\t\t\t\t\t<Text text=\"{i18n>城市代码}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"70%\" >\n\t\t\t\t\t\t<Text text=\"{i18n>城市名称}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedCtkd\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Ctkd>Ctkd}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Ctkd>Ctnm}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onCancelCtkdSelect\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelCtkdSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogBanknHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>付款银行账号列表}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Banknlist\" items=\"{path: 'model_Bankn>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索付款银行账号}\" value=\"{model_search>/Bankn}\" search=\"onSearchBankn\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"30%\">\n\t\t\t\t\t\t<Text text=\"{i18n>付款银行账号}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"70%\">\n\t\t\t\t\t\t<Text text=\"{i18n>描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedBankn\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Bankn>Bankn}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Bankn>Text1}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t \n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelBanknSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/CLBX_ALL.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:u=\"sap.ui.unified\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\"\n\txmlns:core=\"sap.ui.core\" xmlns:mvc=\"sap.ui.core.mvc\">\n\t<core:Fragment fragmentName=\"sh.bz.common.fragment.CLBX_HEADER\" type=\"XML\"/>\n\t<core:Fragment fragmentName=\"sh.bz.common.fragment.CLBX_ITEM\" type=\"XML\"/>\n\t<core:Fragment fragmentName=\"sh.bz.common.fragment.CLBX_FP\" type=\"XML\"/>\n\t<core:Fragment fragmentName=\"sh.bz.common.fragment.CLBX_SQD\" type=\"XML\"/>\n\t<core:Fragment fragmentName=\"sh.bz.common.fragment.CLBX_HX\" type=\"XML\"/>\n\t<core:Fragment fragmentName=\"sh.bz.common.fragment.Upload\" type=\"XML\"/>\n\t<!--<core:Fragment fragmentName=\"sh.bz.common.fragment.CLBX_FP\" type=\"XML\"/>-->\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogCostCenteredHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>成本中心}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Partlist\" items=\"{path: 'model_PROPOSER_KOSTLed>/results'}\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>成本中心列表}\" value=\"{model_search>/PROPOSER_KOSTL}\" search=\"onSearchPROPOSER_KOSTLed\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"30%\">\n\t\t\t\t\t\t<Text text=\"{i18n>成本中心}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"70%\">\n\t\t\t\t\t\t<Text text=\"{i18n>成本中心描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedPROPOSER_KOSTLed\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_PROPOSER_KOSTLed>Kostl}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_PROPOSER_KOSTLed>Ktext}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmPROPOSER_KOSTL\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelPartSelected\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogZzjshkdwHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>往来业务性质列表}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Zzjshkdwlist\" items=\"{path: 'model_Zzjshkdw>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索往来业务性质列表}\" value=\"{model_search>/Zzjshkdw}\" search=\"onSearchZzjshkdw\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"40%\">\n\t\t\t\t\t\t<Text text=\"{i18n>往来业务性质}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"60%\">\n\t\t\t\t\t\t<Text text=\"{i18n>描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedZzjshkdw\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzjshkdw>Zzjshkdw}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzjshkdw>Zzjshkdwms}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmZzjshkdw\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelZzjshkdwSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogZzfzhs04Help.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>辅助核算04列表}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Zzfzhs04slist\" items=\"{path: 'model_Zzfzhs04>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索辅助核算04列表}\" value=\"{model_search>/Zzfzhs04}\" search=\"onSearchZzfzhs04\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"40%\">\n\t\t\t\t\t\t<Text text=\"{i18n>辅助核算04}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"60%\">\n\t\t\t\t\t\t<Text text=\"{i18n>描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedZzfzhs04\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzfzhs04>Zzfzhs04}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzfzhs04>Zzfzhs04ms}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmZzfzhs04\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelZzfzhs04Select\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogEinm.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>费用项目}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Einmlist\" items=\"{path: 'model_Einm>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索费用项目列表}\" value=\"{model_Einm>/SearchRetinue}\" search=\"onSearchEinm\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"30%\">\n\t\t\t\t\t\t<Text text=\"{i18n>费用编码}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"70%\">\n\t\t\t\t\t\t<Text text=\"{i18n>费用项目}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\"  press=\"rowSelectedEinm\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Einm>Eikd}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Einm>Einm}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<!--<Button text=\"{i18n>确定}\" press=\"onConfirmSelectRetinue\"/>-->\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onCancelEinmSelect\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelEinmSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogZzfzhs03Help.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>辅助核算03列表}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Zzfzhs03slist\" items=\"{path: 'model_Zzfzhs03>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索辅助核算03列表}\" value=\"{model_search>/Zzfzhs03}\" search=\"onSearchZzfzhs03\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"40%\">\n\t\t\t\t\t\t<Text text=\"{i18n>辅助核算03}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"60%\">\n\t\t\t\t\t\t<Text text=\"{i18n>描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedZzfzhs03\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzfzhs03>Zzfzhs03}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzfzhs03>Zzfzhs03ms}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmZzfzhs03\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelZzfzhs03Select\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/CLBX_HX.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:u=\"sap.ui.unified\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\"\n\txmlns:core=\"sap.ui.core\" xmlns:mvc=\"sap.ui.core.mvc\">\n\t<Toolbar id=\"tableHeader_hx\">\n\t\t<Title text=\"核销借款\"/>\n\t\t<ToolbarSpacer/>\n\t\t<Button icon=\"sap-icon://add\" press=\"onHx\" type=\"Transparent\" id=\"CLBX_hx_ONBUTTON\"/>\n\t\t<Button icon=\"sap-icon://delete\" press=\"onDeleteHx\" type=\"Transparent\" id=\"CLBX_hx_ONDELETE\"/>\n\t</Toolbar>\n\t<Table id=\"table_hx\" items=\"{ path: 'Header_to_hxd_r', sorter: { path: 'Jkdh', descending: false } }\" noDataText=\" \" growing=\"true\"\n\t\tgrowingScrollToLoad=\"true\" updateFinished=\"onUpdateFinished\" mode=\"MultiSelect\">\n\t\t<columns>\n\t\t\t<!--<Column id=\"nameColumn_hx\">-->\n\t\t\t<!--\t<Text text=\"序号\" id=\"nameColumnTitle_hx\"/>-->\n\t\t\t<!--</Column>-->\n\t\t\t<Column id=\"nameColumn_hx2\">\n\t\t\t\t<Text text=\"单据编号\" id=\"nameColumnTitle_hx2\"/>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn_hx3\">\n\t\t\t\t<Text text=\"单据日期\" id=\"nameColumnTitle_hx3\"/>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn_hx5\" hAlign=\"Center\">\n\t\t\t\t<Text text=\"借款人\" id=\"nameColumnTitle_hx5\"/>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn_hx4\" hAlign=\"End\">\n\t\t\t\t<Text text=\"借款金额\" id=\"nameColumnTitle_hx4\"/>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn_hx7\" hAlign=\"End\">\n\t\t\t\t<Text text=\"已核销金额\" id=\"nameColumnTitle_hx7\"/>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn_hx6\" hAlign=\"End\">\n\t\t\t\t<Text text=\"本次核销金额\" id=\"nameColumnTitle_hx6\"/>\n\t\t\t</Column>\n\t\t</columns>\n\t\t<items>\n\t\t\t<ColumnListItem type=\"Active\" id=\"table_item_hx\">\n\t\t\t\t<cells>\n\t\t\t\t\t<!--<ObjectIdentifier title=\"{Hxdjh}\"/>-->\n\t\t\t\t\t<Text text=\"{Jkdh}\"/>\n\t\t\t\t\t<Text text=\"{ path: 'Redate', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'yyyy/MM/dd' } }\"/>\n\t\t\t\t\t<Text text=\"{SnameJ}\"/>\n\t\t\t\t\t<Text text=\"{path: 'Dmbtr', formatter: '.formatter.FloatFormat'}\"/>\n\t\t\t\t\t<!--<Input value=\"{path: 'Bchxje', formatter: '.formatter.FloatFormat'}\" change = \"changeBchxje\"/>-->\n\t\t\t\t\t<Text text=\"{Yhxje}\"/>\n\t\t\t\t\t<Input value=\"{Bchxje}\" change=\"changeBchxje\" width=\"90px\" textAlign=\"Right\" id=\"ip_Bchxje\"/>\n\t\t\t\t</cells>\n\t\t\t</ColumnListItem>\n\t\t</items>\n\t</Table>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogEtdscHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>费用类型}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Etdsclist\" items=\"{path: 'model_Etdsc>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索费用类型列表}\" value=\"{model_Etdsc>/Etdsc}\" search=\"onSearchEtdsc\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"30%\">\n\t\t\t\t\t\t<Text text=\"{i18n>费用类型编码}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"70%\">\n\t\t\t\t\t\t<Text text=\"{i18n>费用类型名称}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedEtdsc\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Etdsc>Etkd}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Etdsc>Etdsc}\"/> \n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmEtdsc\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelEtdscSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/Fkxx.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\" xmlns:core=\"sap.ui.core\"\n\txmlns:mvc=\"sap.ui.core.mvc\">\n\t<f:SimpleForm class=\"headerForm noPaddingTop noPaddingBottom\" editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanM=\"3\" labelSpanL=\"3\"\n\t\temptySpanM=\"1\" emptySpanL=\"1\" columnsL=\"2\" columnsM=\"2\">\n\t\t<f:content>\n\t\t\t<core:Title text=\" \"/>\n\t\t\t<Label text=\"付款方\" required=\"true\"/>\n\t\t\t<Input id=\"Todo_IP_Fkfzh\" value=\"{fkxx_data>/Fkfzh}\" width='100%'/>\n\t\t\t<!--<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" valueHelpRequest=\"onShowFkfzhsHelp\" id=\"view_Edit_Fkfzh\" value=\" {Fkfzh}{=${Text1} ? '|'+ ${Text1}:''}\"></MultiInput>-->\n\t\t\t<Label text=\"付款银行名称\" required=\"true\"/>\n\t\t\t<MultiInput showValueHelp=\"true\" valueHelpRequest=\"onShowHbkidHelp\"  width='100%'\n\t\t\t\tvalue=\"{= !${fkxx_data>/Hbkid} ? '' : ${fkxx_data>/Hbkid}+'|'+${fkxx_data>/Banka}}\" valueHelpOnly=\"true\" id=\"Todo_IP_Hbkid\"\n\t\t\t\tliveChange=\"onClearValueState\"></MultiInput>\n\t\t\t<Label text=\"付款银行账号\" required=\"true\"/>\n\t\t\t<MultiInput showValueHelp=\"true\" width='100%' valueHelpRequest=\"onShowBanknHelp\" value=\"{fkxx_data>/Bankn}\" valueHelpOnly=\"true\" id=\"Todo_IP_Bankn\"\n\t\t\t\tliveChange=\"onClearValueState\"></MultiInput>\n\t\t\t<Label text=\"原因代码\" required=\"true\"/>\n\t\t\t<MultiInput showValueHelp=\"true\" value=\"{= !${fkxx_data>/Rstgr}? '' : ${fkxx_data>/Rstgr}+'|'+${fkxx_data>/Txt20}}\" valueHelpOnly=\"true\"\n\t\t\t\tid=\"Todo_IP_Rstgr\"  width='100%' liveChange=\"onClearValueState\" showSuggestion=\"true\" valueHelpRequest=\"onShowRstgrHelp\"></MultiInput>\n\t\t\t<core:Title text=\" \"/>\n\t\t\t<Label text=\"合同号\"/>\n\t\t\t<MultiInput showValueHelp=\"true\" value=\"{= !${fkxx_data>/Zzhth} ? '' : ${fkxx_data>/Zzhth}+'|'+${fkxx_data>/Zzhthms}}\" valueHelpOnly=\"true\"\n\t\t\t\tid=\"Todo_IP_Zzhth\"  width='100%' liveChange=\"onClearValueState\" valueHelpRequest=\"onShowZzhthHelp\"></MultiInput>\n\t\t\t<Label text=\"利润中心\"/>\n\t\t\t<MultiInput showValueHelp=\"true\" value=\"{= !${fkxx_data>/Prctr} ? '' : ${fkxx_data>/Prctr}+'|'+${fkxx_data>/KtextPrctr}}\"\n\t\t\t\tvalueHelpOnly=\"true\" width='100%' id=\"Todo_IP_Prctr\" liveChange=\"onClearValueState\" valueHelpRequest=\"onShowCostBukrsHelp\"></MultiInput>\n\t\t\t<Label text=\"资金计划项目\"/>\n\t\t\t<MultiInput showValueHelp=\"true\" value=\"{= !${fkxx_data>/Zzzjjh}? '' : ${fkxx_data>/Zzzjjh}+'|'+${fkxx_data>/Zzzjjhms}}\"\n\t\t\t\tvalueHelpOnly=\"true\" width='100%' id=\"Todo_IP_Zzzjjh\" liveChange=\"onClearValueState\" valueHelpRequest=\"onShowZzzjjhHelp\"></MultiInput>\n\t\t\t<Label text=\"更新\" visible=\"false\"/>\n\t\t\t<Input value=\"{fkxx_data>/Flag}\" editable=\"false\" id=\"Todo_IP_Flag\" visible=\"false\"/>\n\t\t\t<Label text=\"公司代码\" visible=\"false\"/>\n\t\t\t<Input value=\"{fkxx_data>/Bukrs}\" editable=\"false\" id=\"Todo_IP_Bukrs\" visible=\"false\"/>\n\t\t\t<Label text=\"单据编号\" required=\"true\" visible=\"false\"/>\n\t\t\t<Input value=\"{model_edit>/Recode}\" visible=\"false\" editable=\"false\" id=\"Todo_IP_Recode\"/>\n\t\t</f:content>\n\t</f:SimpleForm>\n\t<Toolbar>\n\t\t<ToolbarSpacer/>\n\t\t<Button id=\"view_Fkxx_save\" text=\"保存\" type=\"Accept\" width=\"80px\" press=\"TodoListFkxxsavePressed\"/>\n\t</Toolbar>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/SQ.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\" xmlns:core=\"sap.ui.core\"\n\txmlns:mvc=\"sap.ui.core.mvc\">\n\t<Panel id=\"Panel_hCLINFOR\" headerText=\"单据信息\" expandable=\"false\">\n\t\t<!--  大屏幕2列，中等屏幕2列，手机1列（缺省）  -->\n\t\t<f:SimpleForm class=\"headerForm noPaddingTop noPaddingBottom\" editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanM=\"2\" emptySpanM=\"2\"\n\t\t\temptySpanL=\"2\" columnsL=\"2\" columnsM=\"2\">\n\t\t\t<f:content>\n\t\t\t\t<core:Title text=\" \"/>\n\t\t\t\t<Label text=\"单据编号\" required=\"true\"/>\n\t\t\t\t<Input id=\"view_Edit_RECEIPT_CODE\" value=\"{Recode}\" editable=\"false\" liveChange=\"onClearValueState\"\n\t\t\t\t\tvalueState=\"{model_edit>/RECEIPT_CODEValueState}\" valueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>\n\t\t\t\t<Label text=\"经办人\"/>\n\t\t\t\t<Input value=\"{Pernr}{=${Sname} ? '|'+ ${Sname}:''}\" id=\"view_Edit_SNAME\" editable=\"false\"/>\n\t\t\t\t<Label text=\"申请人\" required=\"true\"/>\n\t\t\t\t<MultiInput id=\"view_Edit_PROPOSER\" showValueHelp=\"true\" valueHelpOnly=\"true\" valueHelpRequest=\"onShowPROPOSERHelp\"\n\t\t\t\t\tvalue=\"{= ${PernrS} === undefined ? '' : ' '+${PernrS}+'|'+${SnameS}}\" items=\"{model_edit>/PROPOSERNumber'}\"\n\t\t\t\t\tvalueState=\"{model_edit>/PROPOSERValueState}\" valueStateText=\"{model_edit>/PROPOSERValueStateText}\"/>\n\t\t\t\t<core:Title text=\" \"/>\n\t\t\t\t<Label text=\"单据日期\" required=\"true\"/>\n\t\t\t\t<Input id=\"view_Edit_REDATE\" editable=\"false\"\n\t\t\t\t\tvalue=\"{ path: 'Redate', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'yyyy/MM/dd' } }\"/>\n\t\t\t\t<Label text=\"申请公司\" required=\"true\"/>\n\t\t\t\t<MultiInput id=\"IP_BUKRS\" showValueHelp=\"true\" valueHelpOnly=\"true\" valueHelpRequest=\"onShowBUKRS\"\n\t\t\t\t\tvalue=\"{Bukrs}{=${Butxt} ? '|'+ ${Butxt}:''}\"/>\n\t\t\t\t<!--<Input id=\"view_Edit_BUTXT\" value=\"{Bukrs}{=${Butxt} ? '|'+ ${Butxt}:''}\"/>-->\n\t\t\t\t<Label text=\"申请人部门\" required=\"true\"/>\n\t\t\t\t<MultiInput id=\"view_Edit_PROPOSER_KOSTL\" showValueHelp=\"true\" valueHelpOnly=\"true\" valueHelpRequest=\"onShowCostPartHelp\"\n\t\t\t\t\tvalue=\"{= ${OrgehText} === undefined ? '' : ' '+${Orgeh}+'|'+${OrgehText}}\" liveChange=\"onClearValueState\"\n\t\t\t\t\tvalueState=\"{model_edit>/PROPOSER_KOSTLState}\" valueStateText=\"{model_edit>/PROPOSER_KOSTLStateText}\"></MultiInput>\n\t\t\t\t<core:Title text=\" \"/>\n\t\t\t\t<Label text=\"申请金额\" required=\"true\"/>\n\t\t\t\t<Input id=\"view_Edit_AMOUNTSUM\" value=\"{Amountsum}\" valueState=\"{model_edit>/AMOUNTSUMState}\"\n\t\t\t\t\tvalueStateText=\"{model_edit>/AMOUNTSUMStateText}\" change=\"onTwoAmountsum\"/>\n\t\t\t\t<Label text=\"利润中心\" required=\"true\"/>\n\t\t\t\t<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"view_Edit_PROPOSER_PRCTR\" liveChange=\"onClearValueState\"\n\t\t\t\t\tvalueHelpRequest=\"onShowCostCenterHelp\" value=\"{= ${Prctr} === undefined ? '' : ' '+${Prctr}+'|'+${KtextPrctr}}\"\n\t\t\t\t\titems=\"{model_edit>/PROPOSER_PRCTRSNumber'}\" valueState=\"{model_edit>/PROPOSER_PRCTRState}\"\n\t\t\t\t\tvalueStateText=\"{model_edit>/PROPOSER_PRCTRStateText}\"></MultiInput>\n\t\t\t\t<Label text=\"订单\" id=\"FYSQ_IP_Aufnr_label\" required=\"false\"/>\n\t\t\t\t<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"view_Edit_AUFNR\" liveChange=\"onClearValueState\" valueHelpRequest=\"onShowAufnrHelp\"\n\t\t\t\t\tvalue=\"{Aufnr}{=${KtextAufnr} ? '|'+ ${KtextAufnr}:''}\" items=\"{model_edit>/AUFNRNumber'}\"\n\t\t\t\t\tvalueState=\"{model_edit>/AUFNRState}\" valueStateText=\"{model_edit>/AUFNRStateText}\"></MultiInput>\n\t\t\t\t<core:Title text=\" \"/>\n\t\t\t\t<Label text=\"费用类型\" required=\"true\"/>\n\t\t\t\t<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"view_Edit_ETDSC\" valueHelpRequest=\"onShowEtdscHelp\"\n\t\t\t\t\tvalue=\" {Etkd}{=${Etnm} ? '|'+ ${Etnm}:''}\" valueState=\"{model_edit>/ETDSCState}\" valueStateText=\"{model_edit>/ETDSCStateText}\"></MultiInput>\n\t\t\t\t<Label text=\"联系方式\" required=\"true\"/>\n\t\t\t\t<Input value=\"{Telnum}\" id=\"view_Edit_TELNUM\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/TELNUMState}\"\n\t\t\t\t\tvalueStateText=\"{model_edit>/TELNUMStateText}\"/>\n\t\t\t</f:content>\n\t\t</f:SimpleForm>\n\t\t<f:SimpleForm maxContainerCols=\"1\" class=\"NotesForm\" editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanL=\"2\" labelSpanM=\"2\"\n\t\t\temptySpanL=\"1\" emptySpanM=\"1\" columnsL=\"1\" columnsM=\"1\">\n\t\t\t<f:content>\n\t\t\t\t<core:Title text=\" \"/>\n\t\t\t\t<Label text=\"费用用途.\" required=\"true\"/>\n\t\t\t\t<TextArea id=\"view_Edit_ACCOUNTFOR\" growing=\"false\" rows=\"3\" placeholder=\"费用用途\" value=\"{Accountfor}\"\n\t\t\t\t\tvalueState=\"{model_edit>/ACCOUNTFORState}\" valueStateText=\"{model_edit>/ACCOUNTFORStateText}\"/>\n\t\t\t</f:content>\n\t\t</f:SimpleForm>\n\t</Panel>\n\t<!--<Toolbar>-->\n\t<!--\t<ToolbarSpacer/>-->\n\t<!--\t<Button id=\"view_Edit_save\" text=\"保存\" type=\"Accept\" width=\"80px\" press=\"savePressed\"/>-->\n\t<!--\t<Button id=\"view_Edit_submit\" text=\"提交\" type=\"Accept\" width=\"80px\" press=\"submitPressed\"/>-->\n\t<!--</Toolbar>-->\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/CLBX_ITEM.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:u=\"sap.ui.unified\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\"\n\txmlns:core=\"sap.ui.core\" xmlns:mvc=\"sap.ui.core.mvc\">\n\t<Toolbar>\n\t\t<!--<Title id=\"tableHeader\" text=\"差旅信息\"/>-->\n\t\t<Title id=\"tableHeader\" text=\"{=${GLOBLEDATA>/DKKD} === 'BX'? '费用明细' : '差旅信息'}\"/>\n\t\t<ToolbarSpacer/>\n\t\t<Button icon=\"sap-icon://add\" press=\"onAddCLINFOR\" type=\"Transparent\" id=\"CLBX_ITEM_ONBUTTON\"/>\n\t\t<Button icon=\"sap-icon://delete\" press=\"onDeleteXX\" type=\"Transparent\" id=\"CLBX_ITEM_ONDELETE\"/>\n\t</Toolbar>\n\t<Table id=\"CLBX_CLXX_table\" items=\"{ path: 'Header_to_item_r', sorter: { path: 'Recode', descending: false } }\" noDataText=\" \"\n\t\tgrowing=\"true\" growingScrollToLoad=\"true\" mode=\"MultiSelect\">\n\t\t<columns>\n\t\t\t<Column id=\"nameColumn2\">\n\t\t\t\t<Text text=\"费用项目\" id=\"nameColumnTitle3\"/>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn3\">\n\t\t\t\t<Text text=\"费用金额\" id=\"nameColumnTitle4\"/>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn4\">\n\t\t\t\t<Text text=\"发票金额\" id=\"nameColumnTitle5\"/>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn5\">\n\t\t\t\t<Text text=\"发票不含税金额\" id=\"nameColumnTitle6\"/>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn6\">\n\t\t\t\t<Text text=\"发票税额\" id=\"nameColumnTitle7\"/>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn7\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? false : true}\">\n\t\t\t\t<Text text=\"出发日期\" id=\"nameColumnTitl7\"/>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn8\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? false : true}\">\n\t\t\t\t<Text text=\"出发地点\" id=\"nameColumnTitle8\"/>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn9\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? false : true}\">\n\t\t\t\t<Text text=\"到达日期\" id=\"nameColumnTitle9\"/>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn10\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? false : true}\">\n\t\t\t\t<Text text=\"到达地点\" id=\"nameColumnTitle10\"/>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn11\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? false : true}\">\n\t\t\t\t<Text text=\"交通工具\" id=\"nameColumnTitle11\"/>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn12\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? false : true}\">\n\t\t\t\t<Text text=\"出差天数\" id=\"nameColumnTitle12\"/>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn13\">\n\t\t\t\t<Text text=\"票据张数\" id=\"nameColumnTitle13\"/>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn14\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? false : true}\">\n\t\t\t\t<Text text=\"住宿城市\" id=\"nameColumnTitle14\"/>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn15\">\n\t\t\t\t<Text text=\"成本中心\" id=\"nameColumnTitle15\"/>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn16\">\n\t\t\t\t<Text text=\"备注\" id=\"nameColumnTitle16\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? true : false}\"/>\n\t\t\t</Column>\n\t\t</columns>\n\t\t<items>\n\t\t\t<ColumnListItem type=\"Active\" press=\"onPress_clxx\" id=\"clbx_clxx_table_item\">\n\t\t\t\t<cells>\n\t\t\t\t\t<!--<ObjectIdentifier title=\"{Recode}\"/>-->\n\t\t\t\t\t<!--<ObjectIdentifier title=\"{Posnr}\"/>-->\n\t\t\t\t\t<Text text=\"{Einm}\"/>\n\t\t\t\t\t<Text text=\"{Wrbtr}\"/>\n\t\t\t\t\t<Text text=\"{Zfpje}\"/>\n\t\t\t\t\t<!--<Text text=\"{Sfzp}\"/>-->\n\t\t\t\t\t<Text text=\"{Netpr}\"/>\n\t\t\t\t\t<Text text=\"{Wmwst}\"/>\n\t\t\t\t\t<!--<Text text=\"{ path: 'Cfrq', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'yyyy/MM/dd' } }\"/>-->\n\t\t\t\t\t<!--<Text text=\"{ path: 'Cfrq'}\"/>-->\n\t\t\t\t\t<Text text=\"{ path: 'Cfrq',formatter:'.formatter.formatDate'} \"/>\n\t\t\t\t\t<Text text=\"{Ctkd1}\"/>\n\t\t\t\t\t<!--<Text text=\"{ path: 'Ddrq'}\"/>-->\n\t\t\t\t\t<Text text=\"{ path: 'Ddrq',formatter:'.formatter.formatDate'} \"/>\n\t\t\t\t\t<!--<Text text=\"{ path: 'Ddrq', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'yyyy/MM/dd' } }\"/>-->\n\t\t\t\t\t<Text text=\"{Ctkd2}\"/>\n\t\t\t\t\t<Text text=\"{Vektp_Veknm}\"/>\n\t\t\t\t\t<Text text=\"{Ccts}\"/>\n\t\t\t\t\t<Text text=\"{Pjzs}\"/>\n\t\t\t\t\t<Text text=\"{Ctkd_Ctnm}\"/>\n\t\t\t\t\t<Text text=\"{Ktext}\"/>\n\t\t\t\t\t<Text text=\"{Note}\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? true : false}\"/>\n\t\t\t\t</cells>\n\t\t\t</ColumnListItem>\n\t\t</items>\n\t</Table>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogZzfzhs05Help.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>辅助核算05列表}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Zzfzhs05slist\" items=\"{path: 'model_Zzfzhs05>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索辅助核算05列表}\" value=\"{model_search>/Zzfzhs05}\" search=\"onSearchZzfzhs05\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"40%\">\n\t\t\t\t\t\t<Text text=\"{i18n>辅助核算05}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"60%\">\n\t\t\t\t\t\t<Text text=\"{i18n>描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedZzfzhs05\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzfzhs05>Zzfzhs05}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzfzhs05>Zzfzhs05ms}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmZzfzhs05\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelZzfzhs05Select\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogZzfzhsnrHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>辅助核算内容}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Zzfzhsnrlist\" items=\"{path: 'model_Zzfzhsnr>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索辅助核算内容列表}\" value=\"{model_search>/Zzfzhsnr}\" search=\"onSearchZzfzhsnr\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"40%\">\n\t\t\t\t\t\t<Text text=\"{i18n>辅助核算内容}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"60%\">\n\t\t\t\t\t\t<Text text=\"{i18n>描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedZzfzhsnr\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzfzhsnr>Zzfzhsnr}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzfzhsnr>Zzfzhsnrms}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmZzfzhsnr\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelZzfzhsnrSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogZzchHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>车号列表}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Zzchlist\" items=\"{path: 'model_Zzch>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索车号列表}\" value=\"{model_search>/Zzch}\" search=\"onSearchZzch\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"40%\">\n\t\t\t\t\t\t<Text text=\"{i18n>车号}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"60%\">\n\t\t\t\t\t\t<Text text=\"{i18n>描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedZzch\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzch>Zzch}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzch>Zzchms}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmZzch\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelZzchSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogVektpHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>交通工具}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Vektplist\" items=\"{path: 'model_Vektp>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索交通工具列表}\" value=\"\" search=\"onSearchVektp\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"40%\">\n\t\t\t\t\t\t<Text text=\"{i18n>交通工具类型}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"60%\">\n\t\t\t\t\t\t<Text text=\"{i18n>交通工具名称}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedVektp\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Vektp>Vektp}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Vektp>Veknm}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onCancelVektpSelect\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelVektpSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogZzfxcbHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>分线核算列表}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Zzfxcblist\" items=\"{path: 'model_Zzfxcb>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索分线核算列表}\" value=\"{model_search>/Zzfxcb}\" search=\"onSearchZzfxcb\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"40%\">\n\t\t\t\t\t\t<Text text=\"{i18n>分线核算}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"60%\">\n\t\t\t\t\t\t<Text text=\"{i18n>描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedZzfxcb\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzfxcb>Zzfxcb}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzfxcb>Zzfxcbms}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmZzfxcb\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelZzfxcbSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogZzqtyyHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>其他营业项}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Zzqtyylist\" items=\"{path: 'model_Zzqtyy>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索其他营业项列表}\" value=\"{model_search>/Zzqtyy}\" search=\"onSearchZzqtyy\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"40%\">\n\t\t\t\t\t\t<Text text=\"{i18n>其他营业项}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"60%\">\n\t\t\t\t\t\t<Text text=\"{i18n>描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedZzqtyy\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzqtyy>Zzqtyy}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzqtyy>Zzqtyyms}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmZzqtyy\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelZzqtyySelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogZzfzhs02Help.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>辅助核算02列表}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Zzfzhs02slist\" items=\"{path: 'model_Zzfzhs02>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索辅助核算02列表}\" value=\"{model_search>/Zzfzhs02}\" search=\"onSearchZzfzhs02\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"40%\">\n\t\t\t\t\t\t<Text text=\"{i18n>辅助核算02}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"60%\">\n\t\t\t\t\t\t<Text text=\"{i18n>描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedZzfzhs02\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzfzhs02>Zzfzhs02}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzfzhs02>Zzfzhs02ms}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmZzfzhs02\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelZzfzhs02Select\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogZzhthHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>合同编号}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Zzhthlist\" items=\"{path: 'model_Zzhth>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索合同编号列表}\" value=\"{model_search>/Zzhth}\" search=\"onSearchZzhth\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"40%\">\n\t\t\t\t\t\t<Text text=\"{i18n>合同编号}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"60%\">\n\t\t\t\t\t\t<Text text=\"{i18n>描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedZzhth\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzhth>Zzhth}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzhth>Zzhthms}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelZzhthSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogZzhtbhHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>合同编号}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Zzhtbhlist\" items=\"{path: 'model_Zzhtbh>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索合同编号列表}\" value=\"{model_search>/Zzhtbh}\" search=\"onSearchZzhtbh\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"40%\">\n\t\t\t\t\t\t<Text text=\"{i18n>合同编号}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"60%\">\n\t\t\t\t\t\t<Text text=\"{i18n>描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedZzhtbh\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzhtbh>Zzhth}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzhtbh>Zzhthms}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelZzhtbhSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogCostCenterHelpName.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>申请人列表}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Namelist\" items=\"{path: 'model_PROPOSER>/results' }\" >\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索申请人列表}\" value=\"{model_search>/PROPOSE}\" search=\"onSearchPROPOSE\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"40%\">\n\t\t\t\t\t\t<Text text=\"{i18n>人员编号}\"/>\n\t\t\t\t\t</Column>\t\n\t\t\t\t\t<Column width=\"30%\">\n\t\t\t\t\t\t<Text text=\"{i18n>员工姓名}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"30%\">\n\t\t\t\t\t\t<Text text=\"{i18n>部门}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<!--<Column width=\"40%\">-->\n\t\t\t\t\t<!--\t<Text text=\"{i18n>公司}\"/>-->\n\t\t\t\t\t<!--</Column>-->\n\t\t\t\t\t<!--<Column width=\"40%\">-->\n\t\t\t\t\t<!--\t<Text text=\"{i18n>利润中心}\"/>-->\n\t\t\t\t\t<!--</Column>\t\t\t\t\t-->\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelected\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_PROPOSER>Pernr}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_PROPOSER>Sname}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_PROPOSER>Ktext}\"/>\n\t\t\t\t\t\t\t<!--<Text text=\"{model_PROPOSER>Butxt}\"/>-->\n\t\t\t\t\t\t\t<!--<Text text=\"{model_PROPOSER>Sname}\"/>-->\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmNameSelect\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelNameSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogZzfzhs06Help.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>辅助核算06列表}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Zzkbfslist\" items=\"{path: 'model_Zzkbf>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索辅助核算06列表}\" value=\"{model_search>/Zzkbf}\" search=\"onSearchZzkbf\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"40%\">\n\t\t\t\t\t\t<Text text=\"{i18n>辅助核算06}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"60%\">\n\t\t\t\t\t\t<Text text=\"{i18n>描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedZzkbf\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzkbf>Zzkbf}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzkbf>Zzkbfms}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmZzkbf\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelZzkbfSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/JKD.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\" xmlns:core=\"sap.ui.core\"\n\txmlns:mvc=\"sap.ui.core.mvc\">\n\t<Panel id=\"Panel_hCLINFOR\" headerText=\"单据信息\" expandable=\"false\">\n\t\t<!--  大屏幕2列，中等屏幕2列，手机1列（缺省）  -->\n\t\t<f:SimpleForm class=\"headerForm noPaddingTop noPaddingBottom\" editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanM=\"2\" emptySpanM=\"2\"\n\t\t\temptySpanL=\"2\" columnsL=\"2\" columnsM=\"2\">\n\t\t\t<f:content>\n\t\t\t\t<core:Title text=\" \"/>\n\t\t\t\t<Label text=\"单据编号\" required=\"false\"/>\n\t\t\t\t<Input id=\"JKD_IP_Recode\" value=\"{path: 'Recode'}\" editable=\"false\"/>\n\t\t\t\t<Label text=\"经办人\" required=\"false\"/>\n\t\t\t\t<Input id=\"JKD_IP_Pernr\" value=\"{Pernr}{=${Sname} ? '|'+ ${Sname}:''}\" editable=\"false\"/>\n\t\t\t\t<Label text=\"借款人\" required=\"false\"/>\n\t\t\t\t<MultiInput id=\"JKD_IP_PernrJ\" showValueHelp=\"true\" valueHelpOnly=\"true\" valueHelpRequest=\"onShowPROPOSERHelp\"\n\t\t\t\t\tsuggestionItemSelected=\"onClearValueState\" tokenUpdate=\"onClearValueState\"\n\t\t\t\t\tvalue=\"{= ${PernrJ} === undefined ? '' : ' '+${PernrJ}+'|'+${SnameJ}}\"/>\n\t\t\t\t<Label text=\"借款金额\" required=\"true\"/>\n\t\t\t\t<Input id=\"JKD_IP_Wrbtr\" value=\"{Wrbtr}\" editable=\"true\" change=\"onCurrencyChange\"/>\n\t\t\t\t<Label text=\"本位币金额\" required=\"false\"/>\n\t\t\t\t<Input id=\"JKD_IP_Dmbtr\" value=\"{Dmbtr}\" editable=\"false\"/>\n\t\t\t\t<Label text=\"付款方式\" required=\"false\"/>\n\t\t\t\t<MultiInput id=\"JKD_IP_Zlsch\" showValueHelp=\"true\" valueHelpOnly=\"true\" valueHelpRequest=\"onShowZlschTHelp\"\n\t\t\t\t\tsuggestionItemSelected=\"onClearValueState\" tokenUpdate=\"onClearValueState\"\n\t\t\t\t\tvalue=\"{= (${Zlsch} === undefined)||(${Zlsch} === '') ? '' : ' '+${Zlsch}+'|'+${Text2}}\"/>\n\t\t\t\t<Label text=\"订单\" id=\"JKD_IP_Aufnr_label\" required=\"false\"/>\n\t\t\t\t<MultiInput id=\"JKD_IP_Aufnr\" showValueHelp=\"true\" valueHelpOnly=\"true\" liveChange=\"onClearValueState\" valueHelpRequest=\"onShowAufnrHelp\"\n\t\t\t\t\tvalue=\"{Aufnr}{=${KtextAufnr} ? '|'+ ${KtextAufnr}:''}\"/>\n\t\t\t\t<Label text=\"利润中心\" required=\"true\"/>\n\t\t\t\t<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"JKD_IP_Prctr\" liveChange=\"onClearValueState\"\n\t\t\t\t\tvalueHelpRequest=\"onShowCostCenterHelp\" value=\"{= ${Prctr} === undefined ? '' : ' '+${Prctr}+'|'+${KtextPrctr}}\"/>\n\t\t\t\t<core:Title text=\" \"/>\n\t\t\t\t<Label text=\"单据日期\" required=\"false\"/>\n\t\t\t\t<Input id=\"JKD_IP_Redate\" editable=\"false\" value=\"{ path: 'Redate', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'yyyy/MM/dd' } }\"/>\n\t\t\t\t<Label text=\"借款人公司\" required=\"false\"/>\n\t\t\t\t<MultiInput id=\"IP_BUKRS\" showValueHelp=\"true\" valueHelpOnly=\"true\" valueHelpRequest=\"onShowBUKRSHelp\"\n\t\t\t\t\tvalue=\"{Bukrs}{=${Butxt} ? '|'+ ${Butxt}:''}\"/>\n\t\t\t\t<Label text=\"借款人部门\" required=\"false\"/>\n\t\t\t\t<MultiInput id=\"JKD_IP_Kostl\" showValueHelp=\"true\" valueHelpOnly=\"true\" valueHelpRequest=\"onShowCostPartHelp\"\n\t\t\t\t\tvalue=\"{= ${Orgeh} === undefined ? '' : ' '+${Orgeh}+'|'+${OrgehText}}\"/>\n\t\t\t\t<Label text=\"货币\" required=\"false\"/>\n\t\t\t\t<MultiInput id=\"JKD_IP_Currency\" showValueHelp=\"true\" valueHelpOnly=\"true\" valueHelpRequest=\"onShowWaersHelp\" change=\"onCurrencyChange\"\n\t\t\t\t\tvalue=\"{= ${Currency} === undefined ? '' : ' '+${Currency}+'|'+${Ktext_waers}}\"/>\n\t\t\t\t<Label text=\"汇率\" required=\"false\"/>\n\t\t\t\t<Input id=\"JKD_IP_Kursf\" value=\"{Kursf}\" editable=\"false\"/>\n\t\t\t\t<Label text=\"附件张数\" required=\"true\"/>\n\t\t\t\t<Input id=\"JKD_IP_Numpg\" value=\"{Numpg}\" editable=\"true\"/>\n\t\t\t\t<Label text=\"预计还款日期\" required=\"true\"/>\n\t\t\t\t<DatePicker id=\"JKD_IP_Yjhkrq\" placeholder=\" \" dateValue=\"{Yjhkrq}\" valueFormat=\"yyyy/MM/dd\" displayFormat=\"yyyy/MM/dd\"/>\n\t\t\t\t<Label text=\"联系方式\" required=\"true\"/>\n\t\t\t\t<Input id=\"JKD_IP_Telnum\" value=\"{Telnum}\" liveChange=\"onClearValueState\"/>\n\t\t\t</f:content>\n\t\t</f:SimpleForm>\n\t\t<f:SimpleForm maxContainerCols=\"1\" class=\"NotesForm\" editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanL=\"2\" labelSpanM=\"2\"\n\t\t\temptySpanL=\"1\" emptySpanM=\"1\" columnsL=\"1\" columnsM=\"1\">\n\t\t\t<f:content>\n\t\t\t\t<core:Title text=\" \"/>\n\t\t\t\t<Label text=\"借款用途\" required=\"true\"/>\n\t\t\t\t<TextArea id=\"JKD_IP_Accountfor\" growing=\"false\" rows=\"3\" placeholder=\"借款\" value=\"{Accountfor}\"/>\n\t\t\t</f:content>\n\t\t</f:SimpleForm>\n\t\t<!--  大屏幕2列，中等屏幕2列，手机1列（缺省）  -->\n\t\t<f:SimpleForm class=\"headerForm noPaddingTop noPaddingBottom\" editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanM=\"2\" emptySpanM=\"2\"\n\t\t\temptySpanL=\"2\" columnsL=\"2\" columnsM=\"2\">\n\t\t\t<f:content>\n\t\t\t\t<core:Title text=\" \"/>\n\t\t\t\t<Label text=\"户名\" required=\"true\"/>\n\t\t\t\t<Input id=\"JKD_IP_Accountname\" value=\"{Accountname}\" editable=\"true\"/>\n\t\t\t\t<Label text=\"开户行\" required=\"true\"/>\n\t\t\t\t<Input id=\"JKD_IP_Banka\" value=\"{Banka}\" editable=\"true\"/>\n\t\t\t\t<core:Title text=\" \"/>\n\t\t\t\t<Label text=\"账号\" required=\"true\"/>\n\t\t\t\t<Input id=\"JKD_IP_Bankn\" value=\"{Bankn}\" editable=\"true\"/>\n\t\t\t\t<Label text=\"往来业务性质\" required=\"true\"/>\n\t\t\t\t<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"JKD_IP_Zzjshkdw\" liveChange=\"onClearValueState\"\n\t\t\t\t\tvalueHelpRequest=\"onShowZzjshkdwHelp\" value=\"{= ${Zzjshkdw} === undefined ? '' : ' '+${Zzjshkdw}+'|'+${Zzjshkdwms}}\"/>\n\t\t\t</f:content>\n\t\t</f:SimpleForm>\n\t</Panel>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogZzzjjhHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\r\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>资金计划项}\" contentWidth=\"50%\" contentHeight=\"100%\">\r\n\t\t<content>\r\n\t\t\t<Table id=\"Zzzjjhlist\" items=\"{path: 'model_Zzzjjh>/results' }\">\r\n\t\t\t\t<headerToolbar>\r\n\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索其他资金计划项}\" value=\"{model_search>/Zzzjjh}\" search=\"onSearchZzzjjh\"/>\r\n\t\t\t\t\t</Toolbar>\r\n\t\t\t\t</headerToolbar>\r\n\t\t\t\t<columns>\r\n\t\t\t\t\t<Column width=\"40%\">\r\n\t\t\t\t\t\t<Text text=\"{i18n>资金计划项}\"/>\r\n\t\t\t\t\t</Column>\r\n\t\t\t\t\t<Column width=\"60%\">\r\n\t\t\t\t\t\t<Text text=\"{i18n>描述}\"/>\r\n\t\t\t\t\t</Column>\r\n\t\t\t\t</columns>\r\n\t\t\t\t<items>\r\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedZzzjjh\">\r\n\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t<Text text=\"{model_Zzzjjh>Zzzjjh}\"/>\r\n\t\t\t\t\t\t\t<Text text=\"{model_Zzzjjh>Zzzjjhms}\"/>\r\n\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t</items>\r\n\t\t\t</Table>\r\n\t\t</content>\r\n\t\t<endButton>\r\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelZzzjjhSelect\"/>\r\n\t\t</endButton>\r\n\t</Dialog>\r\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogZzghjhHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>业务类型列表}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Zzghjhlist\" items=\"{path: 'model_Zzghjh>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索业务类型列表}\" value=\"{model_search>/Zzghjh}\" search=\"onSearchZzghjh\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"40%\">\n\t\t\t\t\t\t<Text text=\"{i18n>业务类型}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"60%\">\n\t\t\t\t\t\t<Text text=\"{i18n>描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedZzghjh\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzghjh>Zzghjh}\"/>  \n\t\t\t\t\t\t\t<Text text=\"{model_Zzghjh>Zzghjhms}\"/> \n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmZzghjh\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelZzghjhSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogZlschHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\r\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>付款方式}\" contentWidth=\"50%\" contentHeight=\"100%\">\r\n\t\t<content>\r\n\t\t\t<Table id=\"zlschlist\" items=\"{ path: '/T042ZTSet', sorter: { path: 'Zlsch', descending: false } }\">\r\n\t\t\t\t\r\n\t\t\t\t<headerToolbar>\r\n\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索付款方式}\" value=\"{model_search>/Zlsch}\" search=\"onSearchZlsch\"/>\r\n\t\t\t\t\t</Toolbar>\r\n\t\t\t\t</headerToolbar>\r\n\t\t\t\t<columns>\r\n\t\t\t\t\t<Column width=\"30%\">\r\n\t\t\t\t\t\t<Text text=\"{i18n>编码}\"/>\r\n\t\t\t\t\t</Column>\r\n\t\t\t\t\t<Column width=\"70%\">\r\n\t\t\t\t\t\t<Text text=\"{i18n>付款方式}\"/>\r\n\t\t\t\t\t</Column>\r\n\t\t\t\t</columns>\r\n\t\t\t\t<items>\r\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedZlsch\">\r\n\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t<Text text=\"{Zlsch}\"/>\r\n\t\t\t\t\t\t\t<Text text=\"{Text2}\"/> \r\n\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t</items>\r\n\t\t\t</Table>\r\n\t\t</content>\r\n\t\t<endButton>\r\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelZlschSelect\"/>\r\n\t\t</endButton>\r\n\t</Dialog>\r\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogZzfzhslbHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>辅助核算类别}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Zzfzhslblist\" items=\"{path: 'model_Zzfzhslb>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索辅助核算类别列表}\" value=\"{model_search>/Zzfzhslb}\" search=\"onSearchZzfzhslb\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"40%\">\n\t\t\t\t\t\t<Text text=\"{i18n>辅助核算类别}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"60%\">\n\t\t\t\t\t\t<Text text=\"{i18n>描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedZzfzhslb\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzfzhslb>Zzfzhslb}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzfzhslb>Zzfzhslbms}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmZzfzhslb\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelZzfzhslbSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogHbkidHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>付款银行列表}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Hbkidlist\" items=\"{path: 'model_Hbkid>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索付款银行}\" value=\"{model_search>/Hbkid}\" search=\"onSearchHbkid\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"50%\">\n\t\t\t\t\t\t<Text text=\"{i18n>付款银行编码}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"50%\">\n\t\t\t\t\t\t<Text text=\"{i18n>名称}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedHbkid\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Hbkid>Hbkid}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Hbkid>Text1}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t \n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelHbkidSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/CLBX_FP.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:u=\"sap.ui.unified\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\"\n\txmlns:core=\"sap.ui.core\" xmlns:mvc=\"sap.ui.core.mvc\">\n\t<Toolbar>\n\t\t<Title id=\"tableHeader_fp\" text=\"增值税发票\"/>\n\t\t<ToolbarSpacer/>\n\t\t<Button icon=\"sap-icon://add\" press=\"onFp\" type=\"Transparent\" id=\"CLBX_FP_ONBUTTON\"/>\n\t\t<Button icon=\"sap-icon://delete\" press=\"onDeleteFp\" type=\"Transparent\" id=\"CLBX_FP_ONDELETE\"/>\n\t</Toolbar>\n\t<Table id=\"table_fp\" items=\"{ path: 'header_to_zzsp_r' }\" mode=\"MultiSelect\" noDataText=\" \" growing=\"true\" growingScrollToLoad=\"true\"\n\t\tupdateFinished=\"onUpdateFinishedfp\">\n\t\t<columns>\n\t\t\t<Column id=\"nameColumn_fp\">\n\t\t\t\t<Text text=\"序号\" id=\"nameColumnTitle_fp\"/>\n\t\t\t\t<footer>\n\t\t\t\t\t<Text text=\"合计:\" id=\"nameColumn_fp_foot\"/>\n\t\t\t\t</footer>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn_fp2\">\n\t\t\t\t<Text text=\"发票号码\" id=\"nameColumnTitle_fp2\"/>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn_fp3\">\n\t\t\t\t<Text text=\"发票类型\" id=\"nameColumnTitle_fp3\"/>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn_fp4\">\n\t\t\t\t<Text text=\"发票代码\" id=\"nameColumnTitle_fp4\"/>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn_fp5\" hAlign=\"End\">\n\t\t\t\t<Text text=\"不含税金额\" id=\"nameColumnTitle_fp5\"/>\n\t\t\t\t<footer>\n\t\t\t\t\t<Text text=\"{path: 'fphjmodel>/bhxje', formatter: '.formatter.FloatFormat'}\" id=\"nameColumn_fp5_foot\"/>\n\t\t\t\t</footer>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn_fp6\" hAlign=\"End\">\n\t\t\t\t<Text text=\"税额\" id=\"nameColumnTitle_fp6\"/>\n\t\t\t\t<footer>\n\t\t\t\t\t<Text text=\"{path: 'fphjmodel>/bhxse', formatter: '.formatter.FloatFormat'}\" id=\"nameColumn_fp6_foot\"/>\n\t\t\t\t</footer>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn_fp7\" hAlign=\"End\">\n\t\t\t\t<Text text=\"含税金额\" id=\"nameColumnTitle_fp7\"/>\n\t\t\t\t<footer>\n\t\t\t\t\t<Text text=\"{path: 'fphjmodel>/hsje', formatter: '.formatter.FloatFormat'}\" id=\"nameColumn_fp7_foot\"/>\n\t\t\t\t</footer>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn_fp8\">\n\t\t\t\t<Text text=\"图片\" id=\"nameColumnTitle_fp8\"/>\n\t\t\t</Column>\n\t\t</columns>\n\t\t<items>\n\t\t\t<ColumnListItem type=\"Active\" id=\"table_item_fp\">\n\t\t\t\t<cells>\n\t\t\t\t\t<Text text=\"{Inno}\"/>\n\t\t\t\t\t<Text text=\"{Inno}\"/>\n\t\t\t\t\t<Text text=\"{path: 'Intype', formatter: '.formatter.IntypeString'}\"/>\n\t\t\t\t\t<Text text=\"{Incode}\"/>\n\t\t\t\t\t<Text text=\"{path: 'Awotax', formatter: '.formatter.FloatFormat'}\" textAlign=\"Right\"/>\n\t\t\t\t\t<Text text=\"{path: 'Taxamount', formatter: '.formatter.FloatFormat'}\" textAlign=\"Right\"/>\n\t\t\t\t\t<Text text=\"{path: 'Awtax', formatter: '.formatter.FloatFormat'}\" textAlign=\"Right\"/>\n\t\t\t\t\t<Link text=\"点击链接\" href=\"{Imgurl}\" target=\"_blank\"/>\n\t\t\t\t</cells>\n\t\t\t</ColumnListItem>\n\t\t</items>\n\t</Table>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogFbkidHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>付款银行列表}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Fbkidlist\" items=\"{path: 'model_Fbkid>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索付款银行}\" value=\"{model_search>/Fbkid}\" search=\"onSearchFbkid\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"40%\">\n\t\t\t\t\t\t<Text text=\"{i18n>付款银行}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"60%\">\n\t\t\t\t\t\t<Text text=\"{i18n>描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedFbkid\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Fbkid>Fbkid}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Fbkid>Text}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmFbkid\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelFbkidSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogZzdqlbHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>地区类别列表}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Zzdqlblist\" items=\"{path: 'model_Zzdqlb>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索地区类别列表}\" value=\"{model_search>/Zzdqlb}\" search=\"onSearchZzdqlb\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"40%\">\n\t\t\t\t\t\t<Text text=\"{i18n>地区类别}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"60%\">\n\t\t\t\t\t\t<Text text=\"{i18n>描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedZzdqlb\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzdqlb>Zzdqlb}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzdqlb>Zzdqlbms}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmZzdqlb\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelZzdqlbSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogDqlbHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog  class=\"sapUiSizeCompact\"  title=\"{i18n>地区类别}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Dqlblist\" items=\"{path: 'model_Dqlb>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索地区类别列表}\" value=\"\" search=\"onSearchDqlb\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"30%\" >\n\t\t\t\t\t\t<Text text=\"{i18n>地区类别}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"70%\" >\n\t\t\t\t\t\t<Text text=\"{i18n>地区类别描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedDqlb\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Dqlb>Zzdqlb}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Dqlb>Zzdqlbms}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onCancelDqlbSelect\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelDqlbSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/CLBX_XX.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:u=\"sap.ui.unified\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\"\n\txmlns:core=\"sap.ui.core\" xmlns:mvc=\"sap.ui.core.mvc\">\n\t<Panel id=\"Panel_hCLINFOR\" headerText=\"单据信息\" expandable=\"false\">\n\t\t<headerToolbar>\n\t\t\t<OverflowToolbar width=\"100%\" id=\"__toolbar3\">\n\t\t\t\t<ToolbarSpacer/>\n\t\t\t\t<Button text=\"保存\" id=\"bt_homesave\" icon=\"sap-icon://save\" type=\"Accept\" press=\"savePressed\"/>\n\t\t\t\t<!--<Button text=\"取消\" id=\"bt_homecancel\" icon=\"sap-icon://sys-cancel\" type=\"Accept\" press=\"cancelPressed\"/>-->\n\t\t\t\t<Button text=\"返回\" id=\"bt_homebackl\" icon=\"sap-icon://sys-cancel\" type=\"Accept\" press=\"onNavBack\"/>\n\t\t\t</OverflowToolbar>\n\t\t</headerToolbar>\n\t</Panel>\n\t<Panel id=\"Panel_hJCXX\" headerText=\"基础信息\" expandable=\"false\">\n\t\t<f:SimpleForm class=\"headerForm noPaddingTop noPaddingBottom\" editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanM=\"2\" emptySpanM=\"2\"\n\t\t\temptySpanL=\"2\" columnsL=\"2\" columnsM=\"2\">\n\t\t\t<f:content>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"费用项目\" required=\"true\"/>\n\t\t\t\t<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"IP_Einm\" valueHelpRequest=\"onShowEinmHelp\"\n\t\t\t\t\tvalue=\"{Eikd}{=${Einm} ? '|'+ ${Einm}:''}\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"\n\t\t\t\t\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"是否专票\" required=\"true\"/>\n\t\t\t\t<RadioButtonGroup id=\"IP_RBGselect\" columns=\"2\" width=\"100%\" select=\"changeselect\"\n\t\t\t\t\tselectedIndex=\"{= (${Sfzp} === undefined)||(${Sfzp} === '') ? 1 : 0}\">\n\t\t\t\t\t<buttons>\n\t\t\t\t\t\t<RadioButton id=\"RB1-1\" text=\"{i18n>是}\"/>\n\t\t\t\t\t\t<RadioButton id=\"RB1-2\" text=\"{i18n>否}\"/>\n\t\t\t\t\t</buttons>\n\t\t\t\t</RadioButtonGroup>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"票据张数\" required=\"true\"/>\n\t\t\t\t<Input id=\"IP_Pjzs\" value=\"{Pjzs}\" editable=\"true\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"\n\t\t\t\t\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"税码\" required=\"true\" id=\"IP_Mwskz_label\"/>\n\t\t\t\t<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"IP_Mwskz\" valueHelpRequest=\"onShowMwskzHelp\"\n\t\t\t\t\tvalue=\"{Mwskz}{=${Mwskz_Text1}?'|'+${Mwskz_Text1}:''}\" enabled=\"{= (${Sfzp} === undefined)||(${Sfzp} === '') ? false : true}\"\n\t\t\t\t\tvalueState=\"{model_edit>/RECEIPT_CODEValueState}\" valueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"费用金额\" required=\"true\"/>\n\t\t\t\t<Input id=\"IP_Wrbtr\" value=\"{Wrbtr}\" editable=\"true\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"\n\t\t\t\t\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\" change=\"ChangeWrbtr\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"发票不含税金额\" required=\"true\" id=\"IP_Netpr_label\"/>\n\t\t\t\t<Input id=\"IP_Netpr\" value=\"{Netpr}\" editable=\"true\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"\n\t\t\t\t\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\" change=\"ChangeNetpr\"\n\t\t\t\t\tenabled=\"{= (${Sfzp} === undefined)||(${Sfzp} === '') ? false : true}\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"发票金额\" required=\"true\" id=\"IP_Zfpje_label\"/>\n\t\t\t\t<Input id=\"IP_Zfpje\" value=\"{Zfpje}\" editable=\"true\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"\n\t\t\t\t\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\" change=\"changeZfpje\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"发票税额\" required=\"true\" id=\"IP_Wmwst_label\"/>\n\t\t\t\t<Input id=\"IP_Wmwst\" value=\"{Wmwst}\" editable=\"true\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"\n\t\t\t\t\tenabled=\"{= (${Sfzp} === undefined)||(${Sfzp} === '') ? false : true}\" valueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"\n\t\t\t\t\tchange=\"changeWmwst\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"说明\"/>\n\t\t\t\t<Input id=\"IP_Note\" value=\"{Note}\" editable=\"true\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"\n\t\t\t\t\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>\n\t\t\t</f:content>\n\t\t</f:SimpleForm>\n\t</Panel>\n\t<Panel id=\"Panel_hCLXX\" expandable=\"false\" headerText=\"差旅信息\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? false : true}\">\n\t\t<f:SimpleForm class=\"headerForm noPaddingTop noPaddingBottom\" editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanM=\"2\" emptySpanM=\"2\"\n\t\t\temptySpanL=\"2\" columnsL=\"2\" columnsM=\"2\">\n\t\t\t<f:content>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"交通工具\"/>\n\t\t\t\t<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"IP_Vektp\" valueHelpRequest=\"onShowVektpHelp\"\n\t\t\t\t\tvalue=\"{Vektp}{=${Vektp_Veknm}?'|'+${Vektp_Veknm}:''}\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"\n\t\t\t\t\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>\n\t\t\t\t<Label text=\"舱位席别\"/>\n\t\t\t\t<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"IP_Sps\" valueHelpRequest=\"onShowSpsHelp\"\n\t\t\t\t\tvalue=\"{Sps}{=${Sps_Spsdsc}?'|'+${Sps_Spsdsc}:''}\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"\n\t\t\t\t\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>\n\t\t\t\t<Label text=\"住宿城市\"/>\n\t\t\t\t<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"IP_Ctkd\" valueHelpRequest=\"onShowCtkdHelp\"\n\t\t\t\t\tvalue=\"{Ctkd}{=${Ctkd_Ctnm}?'|'+${Ctkd_Ctnm}:''}\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"\n\t\t\t\t\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>\n\t\t\t\t<Label text=\"出差天数\"/>\n\t\t\t\t<Input id=\"IP_ICcts\" value=\"{Ccts}\" editable=\"true\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"\n\t\t\t\t\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"出发日期\"/>\n\t\t\t\t<DatePicker change=\"setDate\" id=\"IP_Cfrq\" placeholder=\" \" dateValue=\"{Cfrq}\" valueFormat=\"yyyy.MM.dd\" displayFormat=\"yyyy/MM/dd\"/>\n\t\t\t\t<Label text=\"出发地点\"/>\n\t\t\t\t<Input id=\"IP_Ctkd1\" placeholder=\" \" value=\"{Ctkd1}\" editable=\"true\" liveChange=\"onClearValueState\"\n\t\t\t\t\tvalueState=\"{model_edit>/RECEIPT_CODEValueState}\" valueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>\n\t\t\t\t<Label text=\"到达日期\"/>\n\t\t\t\t<DatePicker change=\"setDate\" id=\"IP_Ddrq\" placeholder=\" \" dateValue=\"{Ddrq}\" valueFormat=\"yyyy.MM.dd\" displayFormat=\"yyyy/MM/dd\"/>\n\t\t\t\t<Label text=\"到达地点\"/>\n\t\t\t\t<Input id=\"IP_Ctkd2\" value=\"{Ctkd2}\" editable=\"true\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"\n\t\t\t\t\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>\n\t\t\t</f:content>\n\t\t</f:SimpleForm>\n\t</Panel>\n\t<Panel headerText=\"辅助核算信息\" expandable=\"false\">\n\t\t<f:SimpleForm class=\"headerForm noPaddingTop noPaddingBottom\" editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanM=\"2\" emptySpanM=\"2\"\n\t\t\temptySpanL=\"2\" columnsL=\"2\" columnsM=\"2\" id=\"Fuzhuhsxx\">\n\t\t\t<f:content>\n\t\t\t\t<!--<core:Title text=\"\"/>-->\n\t\t\t\t<!--<Label text=\"成本中心\" required=\"true\"/>-->\n\t\t\t\t<!--<MultiInput id=\"IP_KOSTL\" showValueHelp=\"true\" valueHelpOnly=\"true\" valueHelpRequest=\"onShowCostCenteredHelp\" value=\" {Kostl}{=${Ktext} ? '|'+ ${Ktext}:''}\"-->\n\t\t\t\t<!--\tliveChange=\"onClearValueState\"/>-->\n\t\t\t\t<!--<core:Title text=\"\"/>-->\n\t\t\t\t<!--<Label text=\"订单\" id=\"IP_Aufnr_label\" required=\"false\"/>-->\n\t\t\t\t<!--<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"IP_Aufnr\" valueHelpRequest=\"onShowAufnrClbxHelp\"-->\n\t\t\t\t<!--\tvalue=\"{Aufnr}{=${Aufnr_Ktext}?'|'+${Aufnr_Ktext}:''}\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>-->\n\t\t\t\t<!--<core:Title text=\"\"/>-->\n\t\t\t\t<!--<Label text=\"地区类别\" id=\"IP_Dqlb_label\" required=\"false\"/>-->\n\t\t\t\t<!--<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"IP_Dqlb\" valueHelpRequest=\"onShowDqlbHelp\"-->\n\t\t\t\t<!--\tvalue=\"{Dqlb}{=${Zzdqlbms}?'|'+${Zzdqlbms}:''}\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>-->\n\t\t\t\t<!--<core:Title text=\"\"/>-->\n\t\t\t\t<!--<Label text=\"WBS元素\"/>-->\n\t\t\t\t<!--<Input id=\"IP_Posid\" value=\"{Posid}\" editable=\"true\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? true : false}\"/>-->\n\t\t\t\t<!--<core:Title text=\"\"/>-->\n\t\t\t\t<!--<Label text=\"功能范围\"/>-->\n\t\t\t\t<!--<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"IP_Fkber\" valueHelpRequest=\"onShowFkberHelp\"-->\n\t\t\t\t<!--\tvalue=\"{Fkber}{=${Fkber_Fkbtx}?'|'+${Fkber_Fkbtx}:''}\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? true : false}\"/>-->\n\t\t\t\t<!--<Input id=\"IP_Fkber\" value=\"{Fkber}\" editable=\"true\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>-->\n\t\t\t\t<!--<core:Title text=\"\"/>-->\n\t\t\t\t<!--<Label text=\"车型\"/>-->\n\t\t\t\t<!--<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"IP_Zzcx\" valueHelpRequest=\"onShowZzcxHelp\"-->\n\t\t\t\t<!--\tvalue=\"{Zzcx}{=${Zzcx_Zzcxms}?'|'+${Zzcx_Zzcxms}:''}\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? true : false}\"/>-->\n\t\t\t\t<!--<Input id=\"IP_Zzcx\" value=\"{Zzcx}\" editable=\"true\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>-->\n\t\t\t\t<!--<core:Title text=\"\"/>-->\n\t\t\t\t<!--<Label text=\"车号\"/>-->\n\t\t\t\t<!--<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"IP_Zzch\" valueHelpRequest=\"onShowZzchHelp\"-->\n\t\t\t\t<!--\tvalue=\"{Zzch}{=${Zzch_Zzchms}?'|'+${Zzch_Zzchms}:''}\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? true : false}\"/>-->\n\t\t\t\t<!--<Input id=\"IP_Zzch\" value=\"{Zzch}\" editable=\"true\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>\t-->\n\t\t\t\t<!--<core:Title text=\"\"/>-->\n\t\t\t\t<!--<Label text=\"分线核算\"/>-->\n\t\t\t\t<!--<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"IP_Zzfxcb\" valueHelpRequest=\"onShowZzfxcbHelp\"-->\n\t\t\t\t<!--\tvalue=\"{Zzfxcb}{=${Zzfxcb_Zzfxcbms}?'|'+${Zzfxcb_Zzfxcbms}:''}\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? true : false}\"/>-->\n\t\t\t\t<!--<Input id=\"IP_Zzfxcb\" value=\"{Zzfxcb}\" editable=\"true\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>-->\n\t\t\t\t<!--<core:Title text=\"\"/>-->\n\t\t\t\t<!--<Label id=\"IP_Zzfzhs01_label\" text=\"辅助核算01\"/>-->\n\t\t\t\t<!--<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"IP_Zzfzhs01\" valueHelpRequest=\"onShowZzfzhs01Help\"-->\n\t\t\t\t<!--\tvalue=\"{Zzfzhs01}{=${Zzfzhs01_Zzfzhs01ms}?'|'+${Zzfzhs01_Zzfzhs01ms}:''}\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>-->\n\t\t\t\t<!--<Input id=\"IP_Zzfzhs01\" value=\"{Zzfzhs01}\" editable=\"true\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>-->\n\t\t\t\t<!--<core:Title text=\"\"/>-->\n\t\t\t\t<!--<Label text=\"辅助核算02\"/>-->\n\t\t\t\t<!--<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"IP_Zzfzhs02\" valueHelpRequest=\"onShowZzfzhs02Help\"-->\n\t\t\t\t<!--\tvalue=\"{Zzfzhs02}{=${Zzfzhs02_Zzfzhs02ms}?'|'+${Zzfzhs02_Zzfzhs02ms}:''}\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? true : false}\"/>-->\n\t\t\t\t<!--<Input id=\"IP_Zzfzhs02\" value=\"{Zzfzhs02}\" editable=\"true\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>-->\n\t\t\t\t<!--<core:Title text=\"\"/>-->\n\t\t\t\t<!--<Label text=\"辅助核算03\"/>-->\n\t\t\t\t<!--<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"IP_Zzfzhs03\" valueHelpRequest=\"onShowZzfzhs03Help\"-->\n\t\t\t\t<!--\tvalue=\"{Zzfzhs03}{=${Zzfzhs03_Zzfzhs03ms}?'|'+${Zzfzhs03_Zzfzhs03ms}:''}\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? true : false}\"/>-->\n\t\t\t\t<!--<Input id=\"IP_Zzfzhs03\" value=\"{Zzfzhs03}\" editable=\"true\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>\t-->\n\t\t\t\t<!--<core:Title text=\"\"/>-->\n\t\t\t\t<!--<Label text=\"辅助核算04\"/>-->\n\t\t\t\t<!--<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"IP_Zzfzhs04\" valueHelpRequest=\"onShowZzfzhs04Help\"-->\n\t\t\t\t<!--\tvalue=\"{Zzfzhs04}{=${Zzfzhs04_Zzfzhs04ms}?'|'+${Zzfzhs04_Zzfzhs04ms}:''}\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? true : false}\"/>-->\n\t\t\t\t<!--<Input id=\"IP_Zzfzhs04\" value=\"{Zzfzhs04}\" editable=\"true\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>-->\n\t\t\t\t<!--<core:Title text=\"\"/>-->\n\t\t\t\t<!--<Label text=\"辅助核算05\"/>-->\n\t\t\t\t<!--<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"IP_Zzfzhs05\" valueHelpRequest=\"onShowZzfzhs05Help\"-->\n\t\t\t\t<!--\tvalue=\"{Zzfzhs05}{=${Zzfzhs05_Zzfzhs05ms}?'|'+${Zzfzhs05_Zzfzhs05ms}:''}\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? true : false}\"/>-->\n\t\t\t\t<!--<Input id=\"IP_Zzfzhs05\" value=\"{Zzfzhs05}\" editable=\"true\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>-->\n\t\t\t\t<!--<core:Title text=\"\"/>-->\n\t\t\t\t<!--<Label text=\"辅助核算类别\"/>-->\n\t\t\t\t<!--<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"IP_Zzfzhslb\" valueHelpRequest=\"onShowZzfzhslbHelp\"-->\n\t\t\t\t<!--\tvalue=\"{Zzfzhslb}{=${Zzfzhslb_Zzfzhslbms}?'|'+${Zzfzhslb_Zzfzhslbms}:''}\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? true : false}\"/>-->\n\t\t\t\t<!--<Input id=\"IP_Zzfzhslb\" value=\"{Zzfzhslb}\" editable=\"true\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>-->\n\t\t\t\t<!--<core:Title text=\"\"/>-->\n\t\t\t\t<!--<Label text=\"辅助核算内容\"/>-->\n\t\t\t\t<!--<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"IP_Zzfzhsnr\" valueHelpRequest=\"onShowZzfzhsnrHelp\"-->\n\t\t\t\t<!--\tvalue=\"{Zzfzhsnr}{=${Zzfzhsnr_Zzfzhsnrms}?'|'+${Zzfzhsnr_Zzfzhsnrms}:''}\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? true : false}\"/>-->\n\t\t\t\t<!--<Input id=\"IP_Zzfzhsnr\" value=\"{Zzfzhsnr}\" editable=\"true\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>\t-->\n\t\t\t\t<!--<core:Title text=\"\"/>-->\n\t\t\t\t<!--<Label text=\"业务类型\"/>-->\n\t\t\t\t<!--<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"IP_Zzghjh\" valueHelpRequest=\"onShowZzghjhHelp\"-->\n\t\t\t\t<!--\tvalue=\"{Zzghjh}{=${Zzghjh_Zzghjhms}?'|'+${Zzghjh_Zzghjhms}:''}\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? true : false}\"/>-->\n\t\t\t\t<!--<Input id=\"IP_Zzghjh\" value=\"{Zzghjh}\" editable=\"true\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>-->\n\t\t\t\t<!--<core:Title text=\"\"/>-->\n\t\t\t\t<!--<Label text=\"合同编号\"/>-->\n\t\t\t\t<!--<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"IP_Zzhth\" valueHelpRequest=\"onShowZzhtbhHelp\"-->\n\t\t\t\t<!--\tvalue=\"{Zzhth}{=${Zzhtbh_Zzhtbhms}?'|'+${Zzhtbh_Zzhtbhms}:''}\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? true : false}\"/>-->\n\t\t\t\t<!--<Input id=\"IP_Zzhth\" value=\"{Zzhth}\" editable=\"true\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>-->\n\t\t\t\t<!--<core:Title text=\"\"/>-->\n\t\t\t\t<!--<Label text=\"往来业务性质\"/>-->\n\t\t\t\t<!--<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"IP_Zzjshkdw\" valueHelpRequest=\"onShowZzjshkdwHelp\"-->\n\t\t\t\t<!--\tvalue=\"{Zzjshkdw}{=${Zzjshkdw_Zzjshkdwms}?'|'+${Zzjshkdw_Zzjshkdwms}:''}\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? true : false}\"/>-->\n\t\t\t\t<!--<Input id=\"IP_Zzjshkdw\" value=\"{Zzjshkdw}\" editable=\"true\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"-->\n\t\t\t\t<!--\tvalueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>-->\n\t\t\t</f:content>\n\t\t</f:SimpleForm>\n\t</Panel>\n\t<Panel id=\"Panel_hBXBZ\" headerText=\"报销标准\" expandable=\"false\" visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? false : true}\">\n\t\t<Image src=\"{model_show>/url}\" densityAware=\"false\" width=\"{model_show>/width}\"></Image>\n\t</Panel>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/Edit.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\" xmlns:core=\"sap.ui.core\"\r\n\txmlns:mvc=\"sap.ui.core.mvc\">\r\n\t<!--  大屏幕2列，中等屏幕2列，手机1列（缺省）  -->\r\n\t<f:SimpleForm class=\"headerForm noPaddingTop noPaddingBottom\" editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanM=\"2\" emptySpanM=\"2\"\r\n\t\temptySpanL=\"2\" columnsL=\"2\" columnsM=\"2\">\r\n\t\t<f:content>\r\n\t\t\t<core:Title text=\" \"/>\r\n\t\t\t<Label text=\"单据编号\" required=\"true\"/>\r\n\t\t\t<Input id=\"view_Edit_RECEIPT_CODE\" value=\"{path: 'model_edit>/results/0/Recode'}\" editable=\"false\" liveChange=\"onClearValueState\"\r\n\t\t\t\tvalueState=\"{model_edit>/RECEIPT_CODEValueState}\" valueStateText=\"{model_edit>/RECEIPT_CODEValueStateText}\"/>\r\n\t\t\t<Label text=\"经办人\"/>\r\n\t\t\t<Input value=\"{model_edit>/results/0/Sname}\" id=\"view_Edit_SNAME\" editable=\"false\"/>\r\n\t\t\t<Label text=\"申请人\" required=\"true\"/>\r\n\t\t\t<MultiInput id=\"view_Edit_PROPOSER\" showValueHelp=\"true\" valueHelpOnly=\"true\" valueHelpRequest=\"onShowPROPOSERHelp\"\r\n\t\t\t\tvalue=\" {model_edit>/results/0/PernrS}{=${model_edit>/results/0/SnameS} ? '|'+ ${model_edit>/results/0/SnameS}:''}\" items=\"{model_edit>/PROPOSERNumber'}\"\r\n\t\t\t\tvalueState=\"{model_edit>/PROPOSERValueState}\" valueStateText=\"{model_edit>/PROPOSERValueStateText}\" editable=\"{model_edit>/results/0/able}\"/>\r\n\t\t\t<core:Title text=\" \"/>\r\n\t\t\t<Label text=\"单据日期\" required=\"true\"/>\r\n\t\t\t<Input editable=\"false\" value=\"{ path: 'model_edit>/results/0/Redate', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'yyyy/MM/dd' } }\"/>\r\n\t\t\t<Label text=\"申请公司\"/>\r\n\t\t\t<Input value=\"{model_edit>/results/0/Bukrs}{=${model_edit>/results/0/Butxt} ? '|'+ ${model_edit>/results/0/Butxt}:''}\" editable=\"false\"/>\r\n\t\t\t<Label text=\"申请人部门\"/>\r\n\t\t\t<MultiInput id=\"view_Edit_PROPOSER_KOSTL\" showValueHelp=\"true\" valueHelpOnly=\"true\" valueHelpRequest=\"onShowCostPartHelp\"\r\n\t\t\t\tvalue=\" {model_edit>/results/0/Kostl}{=${model_edit>/results/0/Ktext} ? '|'+ ${model_edit>/results/0/Ktext}:''}\" liveChange=\"onClearValueState\" editable=\"{model_edit>/results/0/able}\"\r\n\t\t\t\tvalueState=\"{model_edit>/PROPOSER_KOSTLState}\" valueStateText=\"{model_edit>/PROPOSER_KOSTLStateText}\"></MultiInput>\r\n\t\t\t<core:Title text=\" \"/>\r\n\t\t\t<Label text=\"申请金额\" required=\"true\"/>\r\n\t\t\t<Input value=\"{path: 'model_edit>/results/0/Amountsum', type : 'sap.ui.model.type.Float', constraints : { minimum: 0.0 } }\" id=\"view_Edit_AMOUNTSUM\"\r\n\t\t\teditable=\"{model_edit>/results/0/able}\"\tvalueState=\"{model_edit>/AMOUNTSUMState}\" valueStateText=\"{model_edit>/AMOUNTSUMStateText}\" change=\"onTwoAmountsum\"/>\r\n\t\t\t<Label text=\"利润中心\"/>\r\n\t\t\t<!-- TODO should be Ktext -->\r\n\t\t\t<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"view_Edit_PROPOSER_PRCTR\" liveChange=\"onClearValueState\"\r\n\t\t\t\tvalueHelpRequest=\"onShowCostCenterHelp\" value=\" {model_edit>/results/0/Prctr}{=${model_edit>/results/0/Ktext_prctr} ? '|'+ ${model_edit>/results/0/Ktext_prctr}:''}\"\r\n\t\t\t\titems=\"{model_edit>/PROPOSER_PRCTRSNumber'}\" valueState=\"{model_edit>/PROPOSER_PRCTRState}\" editable=\"{model_edit>/results/0/able}\"\r\n\t\t\t\tvalueStateText=\"{model_edit>/PROPOSER_PRCTRStateText}\"></MultiInput>\r\n\t\t\t<Label text=\"订单\"/>\r\n\t\t\t<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"view_Edit_AUFNR\" liveChange=\"onClearValueState\"\r\n\t\t\t\tvalueHelpRequest=\"onShowAufnrHelp\" value=\" {model_edit>/results/0/Aufnr}{=${model_edit>/results/0/Ktext_aufnr} ? '|'+ ${model_edit>/results/0/Ktext_aufnr}:''}\" items=\"{model_edit>/AUFNRNumber'}\"\r\n\t\t\t\tvalueState=\"{model_edit>/AUFNRState}\" valueStateText=\"{model_edit>/AUFNRStateText}\" editable=\"{model_edit>/results/0/able}\"></MultiInput>\r\n\t\t\t<core:Title text=\" \"/>\r\n\t\t\t<Label text=\"费用类型\"/>\r\n\t\t\t<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"view_Edit_ETDSC\" valueHelpRequest=\"onShowEtdscHelp\" editable=\"{model_edit>/results/0/able}\"\r\n\t\t\tvalue=\" {model_edit>/results/0/Etnm}\" valueState=\"{model_edit>/ETDSCState}\" valueStateText=\"{model_edit>/ETDSCStateText}\"></MultiInput>\r\n\t\t\t<!--<Input value=\"{model_edit>/ETDSC}\" editable=\"false\" id=\"view_Edit_ETNAME\"  liveChange=\"onClearValueState\"-->\r\n\t\t\t<!--       valueState=\"{model_edit>/ETNAMEState}\" valueStateText=\"{model_edit>/ETNAMEStateText}\"/>-->\r\n\t\t\t<Label text=\"联系方式\"/>\r\n\t\t\t<Input value=\"{model_edit>/results/0/Telnum}\" id=\"view_Edit_TELNUM\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/TELNUMState}\"\r\n\t\t\t\tvalueStateText=\"{model_edit>/TELNUMStateText}\" editable=\"{model_edit>/results/0/able}\"/>\r\n\t\t</f:content>\r\n\t</f:SimpleForm>\r\n\t<f:SimpleForm maxContainerCols=\"1\" class=\"NotesForm\" editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanL=\"2\" labelSpanM=\"2\"\r\n\t\temptySpanL=\"1\" emptySpanM=\"1\" columnsL=\"1\" columnsM=\"1\">\r\n\t\t<f:content>\r\n\t\t\t<core:Title text=\" \"/>\r\n\t\t\t<Label text=\"费用用途\" required=\"true\"/>\r\n\t\t\t<TextArea id=\"view_Edit_ACCOUNTFOR\" growing=\"false\" rows=\"3\" placeholder=\"关于XX因XX事的费用申请\" value=\"{model_edit>/results/0/Accountfor}\"\r\n\t\t\t\tvalueState=\"{model_edit>/ACCOUNTFORState}\" valueStateText=\"{model_edit>/ACCOUNTFORStateText}\" editable=\"{model_edit>/results/0/able}\"/>\r\n\t\t</f:content>\r\n\t</f:SimpleForm>\r\n\t<Table items=\"{path: 'model_edit>/Item', sorter: { path: 'Number' } }\" delete=\"onDeleteItem\" mode=\"Delete\" id=\"childtabel\">\r\n\t\t<headerToolbar>\r\n\t\t\t<Toolbar>\r\n\t\t\t\t<Title text=\"附件\" level=\"H2\"/>\r\n\t\t\t\t<ToolbarSpacer/>\r\n\t\t\t\t<Button icon=\"sap-icon://add\" press=\"onAddItem\" type=\"Transparent\"></Button>\r\n\t\t\t</Toolbar>\r\n\t\t</headerToolbar>\r\n\t\t<columns>\r\n\t\t\t<Column width=\"50%\">\r\n\t\t\t\t<Text text=\"附件名称\"/>\r\n\t\t\t</Column>\r\n\t\t\t<Column>\r\n\t\t\t\t<Text text=\"备注\"/>\r\n\t\t\t</Column>\r\n\t\t\t<Column width=\"2rem\">\r\n\t\t\t\t<Text text=\"\"/>\r\n\t\t\t</Column>\r\n\t\t</columns>\r\n\t\t<items>\r\n\t\t\t<ColumnListItem>\r\n\t\t\t\t<cells>\r\n\t\t\t\t\t<Label text=\"{model_edit>HELPERS}\"/>\r\n\t\t\t\t\t<Label text=\"{model_edit>NOTE}\"/>\r\n\t\t\t\t</cells>\r\n\t\t\t</ColumnListItem>\r\n\t\t</items>\r\n\t</Table>\r\n\t<Toolbar>\r\n\t\t<ToolbarSpacer/>\r\n\t\t<Button id=\"view_Edit_save\" text=\"保存\" type=\"Accept\" width=\"80px\" press=\"savePressed\"/>\r\n\t\t<Button id=\"view_Edit_submit\" text=\"提交\" type=\"Accept\" width=\"80px\" press=\"submitPressed\"/>\r\n\t</Toolbar>\r\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogZzfzhs01Help.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>辅助核算01列表}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Zzfzhs01slist\" items=\"{path: 'model_Zzfzhs01>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索辅助核算01列表}\" value=\"{model_search>/Zzfzhs01}\" search=\"onSearchZzfzhs01\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"40%\">\n\t\t\t\t\t\t<Text text=\"{i18n>辅助核算01}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"60%\">\n\t\t\t\t\t\t<Text text=\"{i18n>描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedZzfzhs01\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzfzhs01>Zzfzhs01}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzfzhs01>Zzfzhs01ms}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmZzfzhs01\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelZzfzhs01Select\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogAufnrClbxHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>订单列表}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Aufnrlist\" items=\"{path: 'model_Aufnr>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索订单列表}\" value=\"{model_search>/PROPOSER_PRCTR}\" search=\"onSearchAufnrClbx\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"30%\">\n\t\t\t\t\t\t<Text text=\"{i18n>订单编码}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"70%\">\n\t\t\t\t\t\t<Text text=\"{i18n>订单描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedAufnrClbx\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Aufnr>Aufnr}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Aufnr>Ktext}\"/> \n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onCancelAufnrClbxSelect\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelAufnrClbxSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/TodoList.fragment.xml": "<core:FragmentDefinition \n\txmlns=\"sap.m\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\" xmlns:core=\"sap.ui.core\" xmlns:mvc=\"sap.ui.core.mvc\">\n\t\t\t<!--  大屏幕2列，中等屏幕2列，手机1列（缺省）  -->\n\t\t\t<f:SimpleForm class=\"headerForm noPaddingTop noPaddingBottom\" editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanM=\"2\"\n\t\t\temptySpanM=\"2\" emptySpanL=\"2\" columnsL=\"2\" columnsM=\"2\">\n\t\t\t\t<f:content>\n\t\t\t\t\t<core:Title text=\" \"/>\n\t\t\t\t\t<Label text=\"单据编号\" required=\"true\" />\n\t\t\t\t\t<Input value=\"{model_edit>/results/0/Recode}\" editable=\"false\"/>\n\t\t\t\t\t<Label text=\"经办人\"/>\n\t\t\t\t\t<Input value=\"{model_edit>/results/0/Sname}\" id=\"view_Edit_SNAME\" editable=\"false\"/>\n\t\t\t\t\t<Label text=\"申请人\" required=\"true\"/>\n\t\t\t\t\t<Input value=\"{model_edit>/results/0/SnameS}\" editable=\"false\"/>\n\t\t\t\t\t<core:Title text=\" \"/>\n\t\t\t\t\t<Label text=\"单据日期\" required=\"true\"/>\n\t\t\t\t\t<Input  editable=\"false\"  value=\"{ path: 'model_edit>/results/0/Redate', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'yyyy/MM/dd' } }\" />\n\t\t\t\t\t<!--<DatePicker id=\"view_Edit_RECEIPT_DATE\" value=\"{model_edit>/RECEIPT_DATE}\" valueFormat=\"yyyy-MM-dd\" displayFormat=\"yyyy-MM-dd\" change=\"onClearValueState\"-->\n\t\t\t\t\t<!--liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_DATEState}\" valueStateText=\"{model_edit>/RECEIPT_DATEValueStateText}\" />-->\n\t\t\t\t\t<Label text=\"申请公司\"/>\n\t\t\t\t\t<Input value=\"{model_edit>/results/0/Bukrs}\" editable=\"false\"/>\n\t\t\t\t\t<Label text=\"申请人部门\"/>\n\t\t\t\t\t<Input value=\"{model_edit>/results/0/Kostl}\" editable=\"false\"/>\n\t\t\t\t\t<core:Title text=\" \"/>\n\t\t\t\t\t<Label text=\"申请金额\" required=\"true\"/>\n\t\t\t\t\t<Input value=\"{model_edit>/results/0/Amountsum}\" editable=\"false\"/>\n\t\t\t\t\t<Label text=\"利润中心\"/>    <!-- TODO should be Ktext -->\n\t\t\t\t\t<Input value=\"{model_edit>/results/0/Prctr}\" editable=\"false\"/>\n\t\t\t\t\t<Label text=\"订单\"/>    <!-- TODO should be Ktext -->\n\t\t\t\t\t<Input value=\"{model_edit>/results/0/}\" editable=\"false\"/>\t\t\t\t\t\n\t\t\t\t\t<core:Title text=\" \"/>\n\t\t\t\t\t<Label text=\"费用类型\"/>\n\t\t\t\t\t<Input value=\"{model_edit>/results/0/Dknm}\" editable=\"false\"/>\n\t\t\t\t\t<Label text=\"联系方式\"/>\n\t\t\t\t\t<Input value=\"{model_edit>/results/0/Telnum}\" editable=\"false\"/>\n\t\t\t\t</f:content>\n\t\t\t</f:SimpleForm>\n\t\t\t<f:SimpleForm maxContainerCols=\"1\" class=\"NotesForm\" editable=\"true\" layout=\"ResponsiveGridLayout\" \n\t\t\tlabelSpanL=\"2\" labelSpanM=\"2\" emptySpanL=\"1\" emptySpanM=\"1\" columnsL=\"1\" columnsM=\"1\">\n\t\t\t\t<f:content>\n\t\t\t\t\t<core:Title text=\" \"/>\n\t\t\t\t\t<Label text=\"费用申请说明\"/>\n\t\t\t\t\t<TextArea id=\"view_Edit_ACCOUNTFOR\" growing=\"false\" rows=\"3\" value=\"{model_edit>/results/0/Accountfor}\" editable=\"false\"/>\n\t\t\t\t</f:content>\n\t\t\t</f:SimpleForm>\n\t\t\t<Table items=\"{path: 'model_edit>/Item', sorter: { path: 'Number' } }\" delete=\"onDeleteItem\" mode=\"Delete\" id=\"childtabel\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Title text=\"附件\" level=\"H2\"/>\n\t\t\t\t\t\t<ToolbarSpacer/>\n\t\t\t\t\t\t<Button icon=\"sap-icon://add\" press=\"onAddItem\" type=\"Transparent\"></Button>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"50%\">\n\t\t\t\t\t\t<Text text=\"附件名称\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<!--<Column>-->\n\t\t\t\t\t<!--\t<Text text=\"费用项目\"/>-->\n\t\t\t\t\t<!--</Column>-->\n\t\t\t\t\t<!--<Column>-->\n\t\t\t\t\t<!--\t<Text text=\"申请金额\"/>-->\n\t\t\t\t\t<!--</Column>-->\n\t\t\t\t\t<!--<Column>-->\n\t\t\t\t\t<!--\t<Text text=\"辅助对象类别\"/>-->\n\t\t\t\t\t<!--</Column>-->\n\t\t\t\t\t<!--<Column>-->\n\t\t\t\t\t<!--\t<Text text=\"辅助对象\"/>-->\n\t\t\t\t\t<!--</Column>-->\n\t\t\t\t\t<Column>\n\t\t\t\t\t\t<Text text=\"备注\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"2rem\">\n\t\t\t\t\t\t<Text text=\"\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<!--<Text text=\"{model_edit>NO}\"/>-->\n\t\t\t\t\t\t\t<!--<Label text=\"{model_edit>EINM}\"/>-->\n\t\t\t\t\t\t\t<!--<Label text=\"{model_edit>AMOUNT}\"/>-->\n\t\t\t\t\t\t\t<!--<Select selectedKey=\"{model_edit>HETYPE}\" enabled=\"false\">-->\n\t\t\t\t\t\t\t<!--\t<core:Item text=\"订单\" key=\"01\"/>-->\n\t\t\t\t\t\t\t<!--\t<core:Item text=\"WBS\" key=\"02\"/>-->\n\t\t\t\t\t\t\t<!--\t<core:Item text=\"线路\" key=\"03\"/>-->\n\t\t\t\t\t\t\t<!--</Select>-->\n\t\t\t\t\t\t\t<Label text=\"{model_edit>HELPERS}\"/>\n\t\t\t\t\t\t\t<Label text=\"{model_edit>NOTE}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogCostCenterHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>利润中心列表}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"centerlist\" items=\"{path: 'model_PROPOSER_PRCTR>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索利润中心列表}\" value=\"{model_search>/PROPOSER_PRCTR}\" search=\"onSearchPROPOSER_PRCTR\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"30%\">\n\t\t\t\t\t\t<Text text=\"{i18n>利润中心编码}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"70%\">\n\t\t\t\t\t\t<Text text=\"{i18n>利润中心}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedPROPOSER_PRCTR\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_PROPOSER_PRCTR>Prctr}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_PROPOSER_PRCTR>Ktext}\"/> \n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmPROPOSER_PRCTR\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelCenterSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/Ysxq.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\" xmlns:core=\"sap.ui.core\"\n\txmlns:mvc=\"sap.ui.core.mvc\">\n\t<Table items=\"{path:'item_data>/results'}\" id=\"ysxqitemtabel\">\n\t\t<headerToolbar>\n\t\t\t<Toolbar>\n\t\t\t\t<Title text=\"预算信息\" level=\"H2\"/>\n\t\t\t\t<ToolbarSpacer/>\n\t\t\t</Toolbar>\n\t\t</headerToolbar>\n\t\t<columns>\n\t\t\t<Column >\n\t\t\t\t<Text text=\"序号\"/>\n\t\t\t</Column>\n\t\t\t<Column>\n\t\t\t\t<Text text=\"预算科目\"/>\n\t\t\t</Column>\n\t\t\t<Column>\n\t\t\t\t<Text text=\"预算科目描述\"/>\n\t\t\t</Column>\n\t\t\t<Column>\n\t\t\t\t<Text text=\"基金中心\"/>\n\t\t\t</Column>\n\t\t\t<Column>\n\t\t\t\t<Text text=\"基金中心描述\"/>\n\t\t\t</Column>\n\t\t\t<Column hAlign=\"End\">\n\t\t\t\t<Text text=\"预算金额\"/>\n\t\t\t</Column>\n\t\t\t<Column hAlign=\"End\">\n\t\t\t\t<Text text=\"占用金额\"/>\n\t\t\t</Column>\n\t\t\t<Column hAlign=\"End\">\n\t\t\t\t<Text text=\"可用预算\"/>\n\t\t\t</Column>\n\t\t\t<Column hAlign=\"End\">\n\t\t\t\t<Text text=\"本次金额\"/>\n\t\t\t</Column>\n\t\t</columns>\n\t\t<items>\n\t\t\t<ColumnListItem>\n\t\t\t\t<cells>\n\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Num}\"/>\n\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Rcmmtitem}\"/>\n\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>RcmmtitemT}\"/>\n\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Rfundsctr}\"/>\n\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>RfundsctrT}\"/>\n\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Ysxdje}\"/>\n\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Yszyje}\"/>\n\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Yskyje}\"/>\n\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Bcje}\"/>\n\t\t\t\t</cells>\n\t\t\t</ColumnListItem>\n\t\t</items>\n\t</Table>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogMwskzHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>税码}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Mwskzlist\" items=\"{path: 'model_Mwskz>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索税码列表}\" value=\"\" search=\"onSearchMwskz\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"30%\">\n\t\t\t\t\t\t<Text text=\"{i18n>税码}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"70%\">\n\t\t\t\t\t\t<Text text=\"{i18n>税码名称}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedMwskz\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Mwskz>Mwskz}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Mwskz>Text1}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onCancelMwskzSelect\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelMwskzSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogCheckName.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>审批人列表}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table  items=\"{path: 'model_CHECK>/results' }\"  mode=\"MultiSelect\" id=\"table1\">\n\t\t\t\t<!--<Table class=\"sapUiSizeCompact myCustomSize\" mode=\"MultiSelect\" items=\"{model_data>/results}\" id=\"table1\">-->\n\t\t\t\t<!--<headerToolbar>-->\n\t\t\t\t<!--\t<Toolbar>-->\n\t\t\t\t<!--\t\t<SearchField placeholder=\"{i18n>搜索申请人列表}\" value=\"{model_search>/PROPOSE}\" search=\"onSearchPROPOSE\"/>-->\n\t\t\t\t<!--\t</Toolbar>-->\n\t\t\t\t<!--</headerToolbar>-->\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"50%\">\n\t\t\t\t\t\t<Text text=\"{i18n>用户名}\"/>\n\t\t\t\t\t</Column>\t\n\t\t\t\t\t<Column width=\"50%\">\n\t\t\t\t\t\t<Text text=\"{i18n>员工姓名}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"tablePressed\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_CHECK>Username}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_CHECK>Empname}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmCheckName\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelCheckName\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogCostCenterBukrsHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>利润中心}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"CostCenterlist\" items=\"{path: 'model_CostCenter>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索利润中心列表}\" value=\"{model_search>/Prctr}\" search=\"onSearchCostCenterBukrs\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"30%\">\n\t\t\t\t\t\t<Text text=\"{i18n>利润中心编码}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"70%\">\n\t\t\t\t\t\t<Text text=\"{i18n>利润中心}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedCostCenterBukrs\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_CostCenter>Prctr}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_CostCenter>Ktext}\"/> \n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelCostCenterSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogSpsHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>舱位席别}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Spslist\" items=\"{path: 'model_Sps>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索舱位席别列表}\" value=\"\" search=\"onSearchSps\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"40%\" >\n\t\t\t\t\t\t<Text text=\"{i18n>舱位席别类型}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"60%\">\n\t\t\t\t\t\t<Text text=\"{i18n>舱位席别名称}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedSps\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Sps>Sps}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Sps>Spsdsc}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onCancelSpsSelect\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelSpsSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogWaersHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\r\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>货币}\" contentWidth=\"50%\" contentHeight=\"100%\">\r\n\t\t<content>\r\n\t\t\t<Table id=\"waerslist\" items=\"{ path: '/WAERSSet', sorter: { path: 'Waers', descending: false } }\">\r\n\t\t\t\t\r\n\t\t\t\t<headerToolbar>\r\n\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索货币列表}\" value=\"{model_search>/Waers}\" search=\"onSearchWaers\"/>\r\n\t\t\t\t\t</Toolbar>\r\n\t\t\t\t</headerToolbar>\r\n\t\t\t\t<columns>\r\n\t\t\t\t\t<Column width=\"50%\">\r\n\t\t\t\t\t\t<Text text=\"{i18n>货币编码}\"/>\r\n\t\t\t\t\t</Column>\r\n\t\t\t\t\t<Column width=\"50%\">\r\n\t\t\t\t\t\t<Text text=\"{i18n>货币名称}\"/>\r\n\t\t\t\t\t</Column>\r\n\t\t\t\t</columns>\r\n\t\t\t\t<items>\r\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedWaers\">\r\n\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t<Text text=\"{Waers}\"/>\r\n\t\t\t\t\t\t\t<Text text=\"{Ktext}\"/> \r\n\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t</items>\r\n\t\t\t</Table>\r\n\t\t</content>\r\n\t\t<endButton>\r\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelWaersSelect\"/>\r\n\t\t</endButton>\r\n\t</Dialog>\r\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DocPost.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\" xmlns:core=\"sap.ui.core\"\n\txmlns:mvc=\"sap.ui.core.mvc\">\n\t<Panel>\n\t\t<Title text=\"{header_data>/Butxt}\" textAlign=\"Center\" width=\"100%\"/>\n\t</Panel>\n\t<f:SimpleForm class=\"headerForm noPaddingTop noPaddingBottom\" editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanM=\"2\" emptySpanM=\"2\"\n\t\temptySpanL=\"2\" columnsL=\"2\" columnsM=\"2\">\n\t\t<f:content>\n\t\t\t<core:Title text=\"Office\"/>\n\t\t\t<Label text=\"凭证日期\" required=\"true\"/>\n\t\t\t<DatePicker id=\"view_BLDAT\" placeholder=\" \" dateValue=\"{header_data>/Bldat}\" displayFormat=\"yyyy.MM.dd\" change=\"handleChange\"/>\n\t\t\t<Label text=\"记账日期\" required=\"true\"/>\n\t\t\t<DatePicker id=\"view_BUDAT\" placeholder=\" \" dateValue=\"{header_data>/Budat}\" displayFormat=\"yyyy.MM.dd\" change=\"handleChange\"/>\n\t\t\t<Label text=\"凭证类型\"/>\n\t\t\t<Input value=\"BZ\" id=\"view_BLART\" editable=\"false\"/>\n\t\t\t<Label text=\"公司代码\"/>\n\t\t\t<Input value=\"{header_data>/Bukrs}\" id=\"view_BUKRS\" editable=\"false\"/>\n\t\t\t<Label text=\"附件张数\" required=\"true\"/>\n\t\t\t<Input value=\"{header_data>/Numpg}\" id=\"view_NUMPG\" />\n\t\t\t<Label text=\"抬头文本\"/>\n\t\t\t<Input value=\"{header_data>/Bktxt}\" id=\"view_BKTXT\"/>\n\t\t\t<core:Title text=\" \"/>\n\t\t\t<Label text=\"凭证编号\"/>\n\t\t\t<Input value=\"{header_data>/Belnr}\" id=\"view_BELNR\" editable=\"false\"/>\n\t\t\t<Label text=\"用户名\"/>\n\t\t\t<Input value=\"{header_data>/Usnam}\" id=\"view_USNAM\" editable=\"false\"/>\n\t\t\t<Label text=\"货币\"/>\n\t\t\t<Input value=\"{header_data>/Waers}\" id=\"view_WAERS\" editable=\"false\"/>\n\t\t\t<Label text=\"汇率\" required=\"true\"/>\n\t\t\t<Input value=\"{header_data>/Kursf}\" id=\"view_KURSF\"/>\n\t\t\t<Label text=\"单据编号\"/>\n\t\t\t<Input value=\"{model_edit>/Recode}\" editable=\"false\" id=\"view_CODE\"/>\n\t\t</f:content>\n\t</f:SimpleForm>\n\t<ScrollContainer height=\"75%\" width=\"100%\" horizontal=\"true\" vertical=\"true\" focusable=\"flase\">\n\t\t<Table items=\"{path:'item_data>/results'}\" id=\"docitemtabel\">\n\t\t\t<headerToolbar>\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<Title text=\"\" level=\"H2\"/>\n\t\t\t\t\t<ToolbarSpacer/>\n\t\t\t\t</Toolbar>\n\t\t\t</headerToolbar>\n\t\t\t<columns>\n\t\t\t\t<Column >\n\t\t\t\t\t<Text text=\"序号\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column >\n\t\t\t\t\t<Text text=\"记账码\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column >\n\t\t\t\t\t<Text text=\"借/贷\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"总账科目\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column hAlign=\"End\">\n\t\t\t\t\t<Text text=\"金额\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"供应商\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"行项目文本\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"成本中心\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"利润中心\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"原因代码\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"分配\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"订单\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"往来业务性质\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"税码\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"wbs元素\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"客户\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"资金计划项\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"合同号\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"车型\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"车号\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"地区类别\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"分线核算\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"辅助核算01\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"辅助核算02\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"辅助核算03\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"辅助核算04\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"辅助核算类别\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"辅助核算内容\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"业务类型\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"功能范围\"/>\n\t\t\t\t</Column>\n\t\t\t\t<Column>\n\t\t\t\t\t<Text text=\"数量\"/>\n\t\t\t\t</Column>\n\t\t\t</columns>\n\t\t\t<items>\n\t\t\t\t<ColumnListItem>\n\t\t\t\t\t<cells>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Reitem}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Bschl}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Shkzg}\"/>\n\t\t\t\t\t\t<ObjectIdentifier title=\"{item_data>Hkont}\" text=\"{item_data>Txt20}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Wrbtr}\"/>\n\t\t\t\t\t\t<ObjectIdentifier title=\"{item_data>Lifnr}\" text=\"{item_data>Name1}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Sgtxt}\"/>\n\t\t\t\t\t\t<ObjectIdentifier title=\"{item_data>Kostl}\" text=\"{item_data>Ktext_kostl}\"/>\n\t\t\t\t\t\t<ObjectIdentifier title=\"{item_data>Prctr}\" text=\"{item_data>Ktext_prctr}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Rstgr}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Zuonr}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Aufnr}\"/>\n\t\t\t\t\t\t<!--<Text visible=\"true\" text=\"{item_data>Zzjshkdw}\"/>-->\n\t\t\t\t\t\t<ObjectIdentifier title=\"{item_data>Zzjshkdw}\" text=\"{item_data>Zzjshkdwms}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Mwskz}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Posid}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Kunnr}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Zzzjjh}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Zzflht}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Zzcx}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Zzch}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Zzdqlb}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Zzfxcb}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Zzfzhs01}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Zzfzhs02}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Zzfzhs03}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Zzfzhs04}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Zzfzhslb}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Zzfzhsnr}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Zzghjh}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Fkber}\"/>\n\t\t\t\t\t\t<Text visible=\"true\" text=\"{item_data>Menge}\"/>\n\t\t\t\t\t</cells>\n\t\t\t\t</ColumnListItem>\n\t\t\t</items>\n\t\t</Table>\n\t</ScrollContainer>\n\t<Toolbar>\n\t\t<ToolbarSpacer/>\n\t\t<VBox>\n\t\t\t<Button id=\"view_Doc_post\" text=\"过账\" type=\"Accept\" width=\"80px\" press=\"DocPostPress\"/>\n\t\t\t<Label text=\".\"/>\n\t\t</VBox>\n\t</Toolbar>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/CLBX_SQD.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:u=\"sap.ui.unified\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\"\n\txmlns:core=\"sap.ui.core\" xmlns:mvc=\"sap.ui.core.mvc\">\n\t<Toolbar>\n\t\t<Title id=\"tableHeader_sq\" text=\"关联申请单\"/>\n\t\t<ToolbarSpacer/>\n\t\t<Button icon=\"sap-icon://add\" press=\"onGlsqd\" type=\"Transparent\" id=\"CLBX_SQD_ONBUTTON\"/>\n\t\t<Button icon=\"sap-icon://delete\" press=\"onDeleteGL\" type=\"Transparent\" id=\"CLBX_SQD_ONDELETE\"/>\n\t</Toolbar>\n\t<Table visible=\"true\" id=\"table_sq\" items=\"{ path: 'Header_to_fysq_r', sorter: { path: 'Recode', descending: false } }\" noDataText=\" \"\n\t\tgrowing=\"true\" growingScrollToLoad=\"true\" updateFinished=\"onUpdateFinished\">\n\t\t<columns>\n\t\t\t<!--<Column id=\"nameColumn_sq\">-->\n\t\t\t<!--\t<Text text=\"序号\" id=\"nameColumnTitle_sq\"/>-->\n\t\t\t<!--</Column>-->\n\t\t\t<Column id=\"nameColumn_sq2\">\n\t\t\t\t<Text text=\"单据编号\" id=\"nameColumnTitle_sq2\"/>\n\t\t\t</Column>\n\t\t\t<Column id=\"nameColumn_sq3\">\n\t\t\t\t<Text text=\"单据日期\" id=\"nameColumnTitle_sq3\"/></Column>\n\t\t\t<Column id=\"nameColumn_sq4\">\n\t\t\t\t<Text text=\"费用类型\" id=\"nameColumnTitle_sq4\"/></Column>\n\t\t\t<Column id=\"nameColumn_sq5\">\n\t\t\t\t<Text text=\"申请金额\" id=\"nameColumnTitle_sq5\"/></Column>\n\t\t\t<Column id=\"nameColumn_sq6\">\n\t\t\t\t<Text text=\"申请人\" id=\"nameColumnTitle_sq6\"/></Column>\n\t\t</columns>\n\t\t<items>\n\t\t\t<ColumnListItem type=\"Active\" id=\"table_item_sq\">\n\t\t\t\t<cells>\n\t\t\t\t\t<!--<ObjectIdentifier title=\"{Aufnr}\"/>-->\n\t\t\t\t\t<Text text=\"{Recode}\"/>\n\t\t\t\t\t<Text text=\"{ path: 'Redate', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'yyyy/MM/dd' } }\"/>\n\t\t\t\t\t<Text text=\"{Etkd}\"/>\n\t\t\t\t\t<Text text=\"{Amountsum}\"/>\n\t\t\t\t\t<Text text=\"{Pernr}\"/>\n\t\t\t\t</cells>\n\t\t\t</ColumnListItem>\n\t\t</items>\n\t</Table>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogCostConHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>公司}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"conlist\" items=\"{path: 'model_PROPOSER_BUKRS>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索公司列表}\" value=\"{model_search>/PROPOSER_BUKRS}\" \n\t\t\t\t\t\tsearch=\"onSearchPROPOSER_BUKRS\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"30%\">\n\t\t\t\t\t\t<Text text=\"{i18n>公司代码}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"70%\">\n\t\t\t\t\t\t<Text text=\"{i18n>公司}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedPROPOSER_BUKRS\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_PROPOSER_BUKRS>Bukrs}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_PROPOSER_BUKRS>Butxt}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmPROPOSER_BUKRS\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelConSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/CLBX_DIALOG_Fp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\">\n\t<Dialog id=\"CLBX_Dialog_Fp\" title=\"选择增值税发票\" contentWidth=\"70%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"CLBX_dialogtable_fp\" items=\"{ path: '/ZzspSet'}\" noDataText=\"{worklistView>/tableNoDataText}\" growing=\"true\"\n\t\t\t\tgrowingScrollToLoad=\"true\" updateFinished=\"onUpdateFinished\" includeItemInSelection=\"true\" mode=\"MultiSelect\" modeAnimationOn=\"false\">\n\t\t\t\t<columns>\n\t\t\t\t\t<Column>\n\t\t\t\t\t\t<Text text=\"发票类型\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column>\n\t\t\t\t\t\t<Text text=\"发票号码\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column>\n\t\t\t\t\t\t<Text text=\"发票代码\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column hAlign=\"End\">\n\t\t\t\t\t\t<Text text=\"不含税金额\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column hAlign=\"End\">\n\t\t\t\t\t\t<Text text=\"税额\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column hAlign=\"End\">\n\t\t\t\t\t\t<Text text=\"含税金额\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column>\n\t\t\t\t\t\t<Text text=\"开票日期\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column>\n\t\t\t\t\t\t<Text text=\"开票单位\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column>\n\t\t\t\t\t\t<Text text=\"验证状态\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column>\n\t\t\t\t\t\t<Text text=\"图片\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"onPress\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{path: 'Intype', formatter: '.formatter.IntypeString'}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{Inno}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{Incode}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{path: 'Awotax', formatter: '.formatter.FloatFormat'}\" textAlign=\"Right\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{path: 'Taxamount', formatter: '.formatter.FloatFormat'}\" textAlign=\"Right\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{path: 'Awtax', formatter: '.formatter.FloatFormat'}\" textAlign=\"Right\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{ path: 'Pddate', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'yyyy/MM/dd' } }\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{Sellername}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{Vtext}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Link text=\"点击链接\" href=\"{Imgurl}\" target=\"_blank\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button id=\"DialogSavefp\" text=\"保存\" press=\"onDialogSaveFp\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"取消\" id=\"DialogCancelfp\" press=\"onDialogBackFp\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogCostPartHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>部门}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Partlist\" items=\"{path: 'model_PROPOSER_KOSTL>/results'}\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索部门列表}\" value=\"{model_search>/PROPOSER_KOSTL}\" search=\"onSearchPROPOSER_KOSTL\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"30%\">\n\t\t\t\t\t\t<Text text=\"{i18n>部门}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"70%\">\n\t\t\t\t\t\t<Text text=\"{i18n>部门描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedPROPOSER_KOSTL\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_PROPOSER_KOSTL>Orgeh}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_PROPOSER_KOSTL>OrgehText}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmPROPOSER_KOSTL\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelPartSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogZzcxHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>车型列表}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Zzcxlist\" items=\"{path: 'model_Zzcx>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索车型列表}\" value=\"{model_search>/Zzcx}\" search=\"onSearchZzcx\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"40%\">\n\t\t\t\t\t\t<Text text=\"{i18n>车型}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"60%\">\n\t\t\t\t\t\t<Text text=\"{i18n>描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedZzcx\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzcx>Zzcx}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Zzcx>Zzcxms}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmZzcx\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelZzcxSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogBukrsHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>公司}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Burklist\" items=\"{path: 'model_BUKRS>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索公司列表}\" value=\"{model_search>/BUKRS}\" \n\t\t\t\t\t\tsearch=\"onSearchBUKRS\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"30%\">\n\t\t\t\t\t\t<Text text=\"{i18n>公司代码}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"70%\">\n\t\t\t\t\t\t<Text text=\"{i18n>公司}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedBukrs\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_BUKRS>Bxbukrs}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_BUKRS>Butxt}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmBukrs\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelBukrsSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogFkberHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>功能范围列表}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Fkberlist\" items=\"{path: 'model_Fkber>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索功能范围列表}\" value=\"{model_search>/Fkber}\" search=\"onSearchFkber\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"50%\">\n\t\t\t\t\t\t<Text text=\"{i18n>功能范围}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"50%\">\n\t\t\t\t\t\t<Text text=\"{i18n>名称}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedFkber\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Fkber>Fkber}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Fkber>Fkbtx}\"/> \n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmFkber\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelFkberSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogRstgrHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>原因代码列表}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Rstgrlist\" items=\"{path: 'model_Rstgr>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索原因代码}\" value=\"{model_search>/Rstgr}\" search=\"onSearchRstgr\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"50%\">\n\t\t\t\t\t\t<Text text=\"{i18n>原因代码}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"50%\">\n\t\t\t\t\t\t<Text text=\"{i18n>描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedRstgr\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Rstgr>Rstgr}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Rstgr>Txt20}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n \n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelRstgrSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/DialogAufnrHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\n\t<Dialog class=\"sapUiSizeCompact\" title=\"{i18n>订单列表}\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<content>\n\t\t\t<Table id=\"Aufnrlist\" items=\"{path: 'model_Aufnr>/results' }\">\n\t\t\t\t<headerToolbar>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<SearchField placeholder=\"{i18n>搜索订单列表}\" value=\"{model_search>/PROPOSER_PRCTR}\" search=\"onSearchAufnr\"/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</headerToolbar>\n\t\t\t\t<columns>\n\t\t\t\t\t<Column width=\"30%\">\n\t\t\t\t\t\t<Text text=\"{i18n>订单编码}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column width=\"70%\">\n\t\t\t\t\t\t<Text text=\"{i18n>订单描述}\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"rowSelectedAufnr\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{model_Aufnr>Aufnr}\"/>\n\t\t\t\t\t\t\t<Text text=\"{model_Aufnr>Ktext}\"/> \n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button text=\"{i18n>确定}\" press=\"onConfirmAufnr\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"{i18n>取消}\" press=\"onCancelAufnrSelect\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/CLBX_DIALOG_Glsqd.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\">\n\t<Dialog id=\"CLBX_Dialog_glsqd\" title=\"关联费用申请单\" contentWidth=\"50%\" contentHeight=\"100%\">\n\t\t<!--<customHeader>-->\n\t\t<!--\t<Toolbar>-->\n\t\t<!--\t\t<Title text=\"关联申请单\" level=\"H2\"/>-->\n\t\t<!--\t\t<content/>-->\n\t\t<!--\t</Toolbar>-->\n\t\t<!--</customHeader>-->\n\t\t<content>\n\t\t\t<Table id=\"CLBX_dialogtable_sq\" items=\"{ path: '/FysqSet', sorter: { path: 'Recode', descending: false } }\"\n\t\t\t\tnoDataText=\" \" growing=\"true\" growingScrollToLoad=\"true\" updateFinished=\"onUpdateFinished\"\n\t\t\t\tincludeItemInSelection=\"true\" mode=\"SingleSelectLeft\" modeAnimationOn=\"false\">\n\t\t\t\t<!--<Table id=\"CLBX_dialogtable_sq\" items=\"{ path: '/FysqSet', sorter: { path: 'Recode', descending: false } }\" noDataText=\"{worklistView>/tableNoDataText}\" growing=\"true\" growingScrollToLoad=\"true\" updateFinished=\"onUpdateFinished\" includeItemInSelection=\"true\" mode=\"SingleSelectLeft\" modeAnimationOn=\"false\">-->\n\t\t\t\t<columns>\n\t\t\t\t\t<Column>\n\t\t\t\t\t\t<Text text=\"单据编号\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column>\n\t\t\t\t\t\t<Text text=\"单据日期\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column>\n\t\t\t\t\t\t<Text text=\"费用类型\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t\t<Column>\n\t\t\t\t\t\t<Text text=\"申请金额\"/>\n\t\t\t\t\t</Column>\n\t\t\t\t</columns>\n\t\t\t\t<items>\n\t\t\t\t\t<ColumnListItem type=\"Active\" press=\"onPress\">\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{Recode}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{ path: 'Redate', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'yyyy/MM/dd' } }\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{Dknm}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t\t<cells>\n\t\t\t\t\t\t\t<Text text=\"{Amountsum}\"/>\n\t\t\t\t\t\t</cells>\n\t\t\t\t\t</ColumnListItem>\n\t\t\t\t</items>\n\t\t\t</Table>\n\t\t</content>\n\t\t<beginButton>\n\t\t\t<Button id=\"DialogSave\" text=\"保存\" width=\"100px\" press=\"onDialogSaveGL\"/>\n\t\t</beginButton>\n\t\t<endButton>\n\t\t\t<Button text=\"取消\" width=\"100px\" id=\"DialogCancel\" press=\"onDialogBackGL\"/>\n\t\t</endButton>\n\t</Dialog>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/Upload.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:u=\"sap.ui.unified\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\"\n\txmlns:core=\"sap.ui.core\" xmlns:mvc=\"sap.ui.core.mvc\">\n\t<Table items=\"{path: 'model_file>/Item'}\" delete=\"onDeleteItem\" mode=\"MultiSelect\" id=\"JKD_IP_table_file\"\n\t\t\tnoDataText=\" \">\n\t\t<headerToolbar>\n\t\t\t<Toolbar>\n\t\t\t\t<Title text=\"附件\" level=\"H2\"/>\n\t\t\t\t<ToolbarSpacer/>\n\t\t\t\t<u:FileUploader id=\"fileUploader\" name=\"myFileUpload\" buttonOnly=\"true\" useMultipart=\"false\" multiple=\"false\" icon=\"sap-icon://add\"\n\t\t\t\t\ticonOnly=\"true\" uploadUrl=\"/sap/opu/odata/SAP/ZFYBX_ATTACHMENT_SRV/FjSet\" uploadComplete=\"handleUploadComplete\" change=\"fileChange\"\n\t\t\t\t\tenabled =\"{= (${Recode} === undefined)||(${Recode} === '')||(${Recode} === '保存后生成') ? false :  true}\" \n\t\t\t\t\ttooltip=\"{= (${Recode} === undefined)||(${Recode} === '')||(${Recode} === '保存后生成') ? '保存单据后上传文件' :  '选择文件上传'}\" \n\t\t\t\t\tplaceholder=\"\">\n\t\t\t\t\t<!--<u:FileUploader id=\"fileUploader\" name=\"myFileUpload\" buttonOnly=\"true\" useMultipart=\"true\" multiple=\"true\" icon=\"sap-icon://add\"-->\n\t\t\t\t\t<!--\ticonOnly=\"true\" uploadUrl=\"/sap/opu/odata/SAP/ZSFUPLOAD_SRV/ZPROJKD\" uploadOnChange=\"true\"-->\n\t\t\t\t\t<!--\ttooltip=\"请选择图片上传\" uploadComplete=\"handleUploadComplete\" change=\"fileChange\" typeMissmatch=\"handleTypeMissmatch\"-->\n\t\t\t\t\t<!--\tfileType=\"txt,jpg,png\" placeholder=\"\">-->\n\t\t\t\t\t<u:parameters>\n\t\t\t\t\t\t<u:FileUploaderParameter name=\"param1\" value=\"Foo\"/>\n\t\t\t\t\t\t<u:FileUploaderParameter name=\"param2\" value=\"bar\"/>\n\t\t\t\t\t</u:parameters>\n\t\t\t\t\t<u:headerParameters>\n\t\t\t\t\t\t<u:FileUploaderParameter name=\"headerParam1\" value=\"Foo\"/>\n\t\t\t\t\t\t<u:FileUploaderParameter name=\"headerParam2\" value=\"bar\"/>\n\t\t\t\t\t</u:headerParameters>\n\t\t\t\t</u:FileUploader>\n\t\t\t\t<Button icon=\"sap-icon://delete\" press=\"onDeleteFile\" type=\"Transparent\" id = \"fileUpload_delete\"/>\n\t\t\t</Toolbar>\n\t\t</headerToolbar>\n\t\t<columns>\n\t\t\t<!--\n\t\t\t<Column width=\"20%\">\n\t\t\t\t<Text text=\"序号\"/>\n\t\t\t</Column>\n\t\t\t-->\n\t\t\t<Column>\n\t\t\t\t<Text text=\"文件名\"/>\n\t\t\t</Column>\n\t\t</columns>\n\t\t<items>\n\t\t\t<ColumnListItem>\n\t\t\t\t<cells>\n\t\t\t\t\t<!--\t\t<Text text=\"{model_file>NO}\"/>  -->\n\t\t\t\t\t<Link text=\"{model_file>Filename}\" href=\"{model_file>Location}\" target=\"_blank\"/>\n\t\t\t\t</cells>\n\t\t\t</ColumnListItem>\n\t\t</items>\n\t</Table>\n</core:FragmentDefinition>",
		"sh/bz/common/common/fragment/CLBX_HEADER.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:u=\"sap.ui.unified\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\"\n\txmlns:core=\"sap.ui.core\" xmlns:mvc=\"sap.ui.core.mvc\">\n\t<Panel id=\"Panel_h\" headerText=\"单据信息\" expandable=\"false\">\n\t\t<f:SimpleForm class=\"headerForm noPaddingTop noPaddingBottom\" editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanM=\"2\" emptySpanM=\"2\"\n\t\t\temptySpanL=\"2\" columnsL=\"2\" columnsM=\"2\">\n\t\t\t<f:content>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"单据编号\"/>\n\t\t\t\t<Input id=\"IP_RECEIPT_CODE\" value=\"{Recode}\" editable=\"false\" liveChange=\"onClearValueState\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"经办人\"/>\n\t\t\t\t<Input id=\"IP_PERNR\" value=\"{Pernr}{=${Sname} ? '|'+ ${Sname}:''}\" editable=\"false\" liveChange=\"onClearValueState\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"费用类型\" required=\"true\"/>\n\t\t\t\t<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"IP_ETNAME\" valueHelpRequest=\"onShowEtdscHelp\"\n\t\t\t\t\tvalue=\" {Etkd}{=${Etnm} ? '|'+ ${Etnm}:''}\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"单据日期\"/>\n\t\t\t\t<Input id=\"IP_REDATE\" editable=\"false\" value=\"{ path: 'Redate', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'yyyy/MM/dd' } }\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"报销人\" required=\"true\"/>\n\t\t\t\t<MultiInput id=\"IP_PERNR_B\" showValueHelp=\"true\" valueHelpOnly=\"true\" valueHelpRequest=\"onShowPROPOSERHelp\"\n\t\t\t\t\tvalue=\" {PernrB}{=${SnameB} ? '|'+ ${SnameB}:''}\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"报销金额\"/>\n\t\t\t\t<Input id=\"IP_WRBTR\" value=\"{Wrbtr}\" editable=\"false\" liveChange=\"onClearValueState\" change=\"onTwoAmountsum\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"报销人公司\"/>\n\t\t\t\t<MultiInput id=\"IP_BUKRS\" showValueHelp=\"true\" valueHelpOnly=\"true\" valueHelpRequest=\"onShowBUKRS\"\n\t\t\t\t\tvalue=\"{Bukrs}{=${Butxt} ? '|'+ ${Butxt}:''}\"/>\n\t\t\t\t<!--<Input id=\"IP_BUKRS\" value=\"{Bukrs}{=${Butxt} ? '|'+ ${Butxt}:''}\" editable=\"false\" liveChange=\"onClearValueState\"/>-->\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"本次核销金额\"/>\n\t\t\t\t<Input value=\"{Bchxje}\" id=\"IP_BCHXJE\" editable=\"false\" change=\"onTwoAmountsum\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"费用所属部门\"/>\n\t\t\t\t<MultiInput id=\"IP_Orgeh\" showValueHelp=\"true\" valueHelpOnly=\"true\" valueHelpRequest=\"onShowCostPartHelp\"\n\t\t\t\t\tvalue=\" {Orgeh}{=${OrgehText} ? '|'+ ${OrgehText}:''}\" liveChange=\"onClearValueState\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"本次支付金额\"/>\n\t\t\t\t<Input id=\"IP_BCZFJE\" value=\"{Bczfje}\" editable=\"false\" liveChange=\"onClearValueState\" valueState=\"{model_edit>/RECEIPT_CODEValueState}\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"利润中心\" required=\"true\"/>\n\t\t\t\t<MultiInput showValueHelp=\"true\" valueHelpOnly=\"true\" id=\"IP_PRCTR\" liveChange=\"onClearValueState\" valueHelpRequest=\"onShowCostCenterHelp\"\n\t\t\t\t\tvalue=\" {Prctr}{=${PrctrKtext} ? '|'+ ${PrctrKtext}:''}\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"付款方式\" required=\"true\"/>\n\t\t\t\t<MultiInput id=\"IP_ZLSCH\" showValueHelp=\"true\" valueHelpOnly=\"true\" valueHelpRequest=\"onShowZlschTHelp\"\n\t\t\t\t\tsuggestionItemSelected=\"onClearValueState\" tokenUpdate=\"onClearValueState\"\n\t\t\t\t\tvalue=\"{= ${Zlsch} === undefined ? '' : ' '+${Zlsch}+'|'+${TextZlsch}}\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"联系方式\" required=\"true\"/>\n\t\t\t\t<Input value=\"{Telnum}\" id=\"IP_TELNUM\" liveChange=\"onClearValueState\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"收款方\" required=\"true\"/>\n\t\t\t\t<Input id=\"IP_ACCOUNTNAME\" value=\"{Accountname}\" editable=\"true\" liveChange=\"onClearValueState\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"附件张数\" required=\"true\"/>\n\t\t\t\t<Input id=\"IP_FJZS\" value=\"{Fjzs}\" editable=\"true\" liveChange=\"onClearValueState\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"收款银行\" required=\"true\"/>\n\t\t\t\t<Input id=\"IP_BANKA\" value=\"{Banka}\" editable=\"true\" liveChange=\"onClearValueState\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"费用事由\" required=\"true\"/>\n\t\t\t\t<Input id=\"IP_NOTE\" value=\"{Note}\" editable=\"true\" liveChange=\"onClearValueState\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"收款账号\" required=\"true\"/>\n\t\t\t\t<Input id=\"IP_BANKN\" value=\"{Bankn}\" editable=\"true\" liveChange=\"onClearValueState\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"同行人员\"/>\n\t\t\t\t<Input id=\"IP_TXRY\" value=\"{Txry}\" editable=\"true\" liveChange=\"onClearValueState\"  visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? false : true}\"/>\n\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t<Label text=\"备注\"/>\n\t\t\t\t<Input id=\"IP_TSSX\" value=\"{Tssx}\" editable=\"true\" liveChange=\"onClearValueState\"  visible=\"{=${GLOBLEDATA>/DKKD} === 'BX'? false : true}\"/>\n\t\t\t</f:content>\n\t\t</f:SimpleForm>\n\t</Panel>\n</core:FragmentDefinition>",
		"sh/bz/common/common/view/DocPost.view.xml": "<mvc:View controllerName=\"sh.bz.common.controller.DocPost\" xmlns=\"sap.m\" xmlns:mvc=\"sap.ui.core.mvc\" xmlns:core=\"sap.ui.core\"\n\txmlns:semantic=\"sap.m.semantic\" xmlns:footerbar=\"sap.ushell.ui.footerbar\">\n\t<core:Fragment fragmentName=\"sh.bz.common.fragment.DocPost\" type=\"XML\"/>\n</mvc:View>",
		"sh/bz/common/common/view/CLBX_ALLINFOR.view.xml": "<mvc:View controllerName=\"sh.bz.common.controller.CLBX_ALLINFOR\" xmlns=\"sap.m\" xmlns:mvc=\"sap.ui.core.mvc\" xmlns:core=\"sap.ui.core\"\n\txmlns:semantic=\"sap.m.semantic\" xmlns:footerbar=\"sap.ushell.ui.footerbar\">\n\t<!--<semantic:FullscreenPage-->\n\t<!--\tid=\"page\"-->\n\t<!--\tnavButtonPress=\"onNavBack\"-->\n\t<!--\tshowNavButton=\"true\"-->\n\t<!--\ttitle=\"{i18n>objectTitle}\"-->\n\t<!--\tbusy=\"{objectView>/busy}\"-->\n\t<!--\tbusyIndicatorDelay=\"{objectView>/delay}\">-->\n\t<!--\t<semantic:content>-->\n\t<App>\n\t\t<Page id = \"CLBXPAGE\" title=\"{= (${GLOBLEDATA>/DKKD} === 'CL')||(${GLOBLEDATA>/DKKD} === null) ? '差旅报销' :  '费用报销'}\">\n\t\t\t<core:Fragment fragmentName=\"sh.bz.common.fragment.CLBX_ALL\" type=\"XML\"/>\n\t\t\t<footer>\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<ToolbarSpacer/>\n\t\t\t\t\t<Button text=\"保存\" id=\"view_Edit_save\" icon=\"sap-icon://save\" type=\"Accept\" press=\"saveallorder\"/>\n\t\t\t\t\t<Button text=\"提交\" id=\"view_Edit_submit\" icon=\"sap-icon://duplicate\" type=\"Accept\" press=\"submitorder\"/>\n\t\t\t\t</Toolbar>\n\t\t\t</footer>\n\t\t</Page>\n\t</App>\n\t<!--\t\t</semantic:content>-->\n\t<!--\t<semantic:sendEmailAction>-->\n\t<!--\t\t<semantic:SendEmailAction id=\"shareEmail\" press=\"onShareEmailPress\"/>-->\n\t<!--\t</semantic:sendEmailAction>-->\n\t<!--\t<semantic:shareInJamAction>-->\n\t<!--\t\t<semantic:ShareInJamAction id=\"shareInJam\" visible=\"{FLP>/isShareInJamActive}\" press=\"onShareInJamPress\"/>-->\n\t<!--\t</semantic:shareInJamAction>-->\n\t<!--\t<semantic:saveAsTileAction>-->\n\t<!--\t\t<footerbar:AddBookmarkButton id =\"shareTile\" title=\"{objectView>/saveAsTileTitle}\" />-->\n\t<!--\t</semantic:saveAsTileAction>-->\n\t<!--</semantic:FullscreenPage>-->\n</mvc:View>",
		"sh/bz/common/common/view/Ysxq.view.xml": "<mvc:View controllerName=\"sh.bz.common.controller.Ysxq\" xmlns=\"sap.m\" xmlns:mvc=\"sap.ui.core.mvc\" xmlns:core=\"sap.ui.core\"\n\txmlns:semantic=\"sap.m.semantic\" xmlns:footerbar=\"sap.ushell.ui.footerbar\">\n\t<core:Fragment fragmentName=\"sh.bz.common.fragment.Ysxq\" type=\"XML\"/>\n</mvc:View>",
		"sh/bz/common/common/view/Fkxx.view.xml": "<mvc:View controllerName=\"sh.bz.common.controller.Fkxx\" xmlns=\"sap.m\" xmlns:mvc=\"sap.ui.core.mvc\" xmlns:core=\"sap.ui.core\"\n\txmlns:semantic=\"sap.m.semantic\" xmlns:footerbar=\"sap.ushell.ui.footerbar\">\n\t<core:Fragment fragmentName=\"sh.bz.common.fragment.Fkxx\" type=\"XML\"/>\n</mvc:View>",
		"sh/bz/common/common/view/App.view.xml": "<mvc:View\r\n\txmlns:mvc=\"sap.ui.core.mvc\"\r\n\tcontrollerName=\"sh.bz.common.controller.App\"\r\n\tdisplayBlock=\"true\"\r\n\txmlns=\"sap.m\">\r\n\r\n\t\t<App id=\"App\"\r\n\t\t busy=\"{appView>/busy}\"\r\n\t\t busyIndicatorDelay=\"{appView>/delay}\"/>\r\n\t\t \r\n</mvc:View>",
		"sh/bz/common/common/view/FYSQHome.view.xml": "<mvc:View controllerName=\"sh.bz.common.controller.FYSQHome\" xmlns:html=\"http://www.w3.org/1999/xhtml\" displayBlock=\"true\" xmlns=\"sap.m\"\n\txmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\" xmlns:core=\"sap.ui.core\" xmlns:mvc=\"sap.ui.core.mvc\">\n\t<App id=\"App\">\n\t\t<Page title=\"费用申请单\" id=\"SQPAGE\">\n\t\t\t<content>\n\t\t\t\t<core:Fragment fragmentName=\"sh.bz.common.fragment.SQ\" type=\"XML\"/>\n\t\t\t\t<core:Fragment fragmentName=\"sh.bz.common.fragment.Upload\" type=\"XML\"/>\n\t\t\t</content>\n\t\t\t<footer>\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<ToolbarSpacer/>\n\t\t\t\t\t<Button text=\"保存\" icon=\"sap-icon://save\" type=\"Accept\" width=\"80px\" press=\"savePressed\" id=\"view_Edit_save\"/>\n\t\t\t\t\t<Button text=\"提交\" icon=\"sap-icon://duplicate\" type=\"Accept\" width=\"80px\" press=\"submitPressed\" id=\"view_Edit_submit\"/>\n\t\t\t\t</Toolbar>\n\t\t\t</footer>\n\t\t</Page>\n\t</App>\n</mvc:View>",
		"sh/bz/common/common/view/JKDHome.view.xml": "<mvc:View controllerName=\"sh.bz.common.controller.JKDHome\" xmlns:html=\"http://www.w3.org/1999/xhtml\" displayBlock=\"true\" xmlns=\"sap.m\"\n\txmlns:u=\"sap.ui.unified\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\" xmlns:core=\"sap.ui.core\" xmlns:mvc=\"sap.ui.core.mvc\">\n\t<App id=\"App\">\n\t\t<Page title=\"借款单\" id=\"JKPAGE\">\n\t\t\t<content>\n\t\t\t\t<core:Fragment fragmentName=\"sh.bz.common.fragment.JKD\" type=\"XML\"/>\n\t\t\t\t<core:Fragment fragmentName=\"sh.bz.common.fragment.Upload\" type=\"XML\"/>\n\t\t\t</content>\n\t\t\t<footer>\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<ToolbarSpacer/>\n\t\t\t\t\t<Button id=\"view_Edit_save\" icon=\"sap-icon://save\" enabled=\"{model_edit>/button_save_enabled}\" text=\"保存\" type=\"Accept\" width=\"80px\"\n\t\t\t\t\t\tpress=\"savePressed\"/>\n\t\t\t\t\t<Button id=\"view_Edit_submit\" icon=\"sap-icon://duplicate\" enabled=\"{model_edit>/button_submit_enabled}\" text=\"提交\" type=\"Accept\" width=\"80px\"\n\t\t\t\t\t\tpress=\"submitPressed\"/>\n\t\t\t\t</Toolbar>\n\t\t\t</footer>\n\t\t</Page>\n\t</App>\n</mvc:View>",
		"sh/bz/common/common/view/NotFound.view.xml": "<mvc:View\n\tcontrollerName=\"sh.bz.shbzjkd.controller.NotFound\"\n\txmlns:mvc=\"sap.ui.core.mvc\"\n\txmlns=\"sap.m\">\n\n\t<MessagePage\n\t\ttitle=\"{i18n>notFoundTitle}\"\n\t\ttext=\"{i18n>notFoundText}\"\n\t\ticon=\"{sap-icon://document}\"\n\t\tid=\"page\"\n\t\tdescription=\"\">\n\t\t<customDescription>\n\t\t\t<Link id=\"link\" text=\"{i18n>backToWorklist}\" press=\"goHome\" />\n\t\t</customDescription>\n\t</MessagePage>\n\n</mvc:View>",
		"sh/bz/common/common/view/Clinfor.view.xml": "<mvc:View controllerName=\"sh.bz.common.controller.Clinfor\" xmlns=\"sap.m\" xmlns:mvc=\"sap.ui.core.mvc\" xmlns:semantic=\"sap.m.semantic\"\n\txmlns:footerbar=\"sap.ushell.ui.footerbar\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\" xmlns:core=\"sap.ui.core\">\n\t<semantic:FullscreenPage id=\"CLBX_page_CLINFOR\" navButtonPress=\"onNavBack\" showNavButton=\"true\" title=\"{=${GLOBLEDATA>/DKKD} === 'BX'? '请填写报销信息' : '请填写差旅信息'}\" busy=\"{objectView>/busy}\"\n\t\tbusyIndicatorDelay=\"{objectView>/delay}\">\n\t\t<semantic:content>\n\t\t<core:Fragment fragmentName=\"sh.bz.common.fragment.CLBX_XX\" type=\"XML\"/>\n\t\t</semantic:content>\n\t</semantic:FullscreenPage>\n</mvc:View>",
		"sh/bz/common/common/controller/App.controller.js": "sap.ui.define([\n\t\"sap/ui/core/mvc/Controller\",\n\t\"sh/bz/common/controller/BaseController\",\n\t\"sh/bz/common/controller/Util\"\n], function(Controller, BaseController, Util) {\n\t\"use strict\";\n\n\treturn BaseController.extend(\"sh.bz.common.controller.App\", {\n\n\t\tonInit: function() {\n\t\t\tUtil.debug(\"App controller inited...\");\n\t\t},\n\n\t\t\n\t});\n});",
		"sh/bz/common/common/controller/UtilWorkFlow.js": "sap.ui.define([\r\n\t\"sap/m/MessageToast\",\r\n\t\"sap/m/MessageBox\",\r\n\t\"sh/bz/common/controller/Util\"\r\n], function(MessageToast, MessageBox, Util) {\r\n\t\"use strict\";\r\n\r\n\tvar UtilWorkFlow = {\r\n\t\tsubmited: function(obj, that) {\r\n\t\t\tvar sPath = \"/STARTANDSUBSet?$filter=Zlcid eq '\" + obj.id + \"' and Zstsx eq '{AMT:\" + obj.amountsum + \",SNAME_S:\\\"\" + obj.name +\r\n\t\t\t\t\"\\\",e_business_code:\\\"\" + obj.business_code + \"\\\",e_business_name:\\\"\" + obj.business_name + \"\\\",ORGEH:\\\"\" + obj.Orgeh +\r\n\t\t\t\t\"\\\",AUFNR:\\\"\" + obj.Aufnr + \"\\\"}' and Zyhm eq '\" + obj.userid + \"'\";\r\n\t\t\tvar Zstsx = \" {AMT:\" + obj.amountsum + \",SNAME_S:\\\"\" + obj.name +\r\n\t\t\t\t\"\\\",e_business_code:\\\"\" + obj.business_code + \"\\\",e_business_name:\\\"\" + obj.business_name + \"\\\",ORGEH:\\\"\" + obj.Orgeh + \"\\\",AUFNR:\\\"\" + obj.Aufnr + \"\\\"}\";\r\n\t\t\tvar oModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPRO_WF_FYBX_SRV/\", true);\r\n\t\t\tUtil.debug(sPath);\r\n\t\t\tUtil.setBusy(true);\r\n\t\t\toModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t\tUtil.debug(oData);\r\n\t\t\t\t\tif (oData.results[0].Flag === \"3\") {\r\n\t\t\t\t\t\toData.results[0].Zstsx = Zstsx;\r\n\t\t\t\t\t\toData.results[0].Zslbm = obj.Zslbm;\r\n\t\t\t\t\t\toData.results[0].Zyhm = obj.userid;\r\n\t\t\t\t\t\tthat.getView().setModel(new sap.ui.model.json.JSONModel(oData), \"model_CHECK\");\r\n\t\t\t\t\t\tUtil.onShowCheckName(that);\r\n\t\t\t\t\t} else if (oData.results[0].Flag === \"0\") {\r\n\t\t\t\t\t\tUtil.showInfo(\"单据提交成功\");\r\n\t\t\t\t\t\tthat.setscreen(\"C\");\r\n\t\t\t\t\t\tif (that.getView().byId(\"view_Edit_save\") === undefined) {\r\n\t\t\t\t\t\t\tvar data = that.getView().getModel(\"model_edit\");\r\n\t\t\t\t\t\t\tdata.button_save_enabled = false;\r\n\t\t\t\t\t\t\tdata.button_submit_enabled = true;\r\n\t\t\t\t\t\t\tthat.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.setscreen(\"C\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tUtil.showError(oData.results[0].Msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t\tUtil.showError(\"单据提交失败! \" + error.message);\r\n\t\t\t\t\tUtil.debug(error);\r\n\t\t\t\t},\r\n\t\t\t\tasync: true\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tonConfirmCheckName: function(oEvent, that) {\r\n\t\t\tvar odata = that.getView().getModel(\"model_CHECK\").getData();\r\n\t\t\tvar contexts = sap.ui.getCore().byId(\"table1\").getSelectedContextPaths();\r\n\t\t\tvar index = contexts.map(function(c) {\r\n\t\t\t\treturn c.split(\"/\")[2];\r\n\t\t\t}); //shuzu xiabiao\r\n\t\t\tvar data = that.getView().getModel(\"model_CHECK\").getData();\r\n\t\t\tvar value = index.map(function(dex) {\r\n\t\t\t\treturn data.results[dex];\r\n\t\t\t});\r\n\t\t\tvar id = value.map(function(obj) {\r\n\t\t\t\treturn obj.Userid;\r\n\t\t\t});\r\n\t\t\tvar Zslbm = odata.results[0].Instancecode;\r\n\t\t\tvar Zstsx = odata.results[0].Zstsx;\r\n\t\t\tvar Zspr = id.join(\",\");\r\n\t\t\tvar Zyhm = odata.results[0].Zyhm;\r\n\t\t\tvar sPath = \"SUBMITSet?$filter=Zslbm eq '\" + Zslbm + \"' and Zstsx eq '\" + Zstsx + \"' and Zspr eq '\" + Zspr + \"' and Zyhm eq '\" +\r\n\t\t\t\tZyhm + \"'\";\r\n\t\t\tvar oModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPRO_WF_FYBX_SRV/\", true);\r\n\t\t\tUtil.debug(sPath);\r\n\t\t\tUtil.setBusy(true);\r\n\t\t\t//var that = this;\r\n\t\t\toModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t\tUtil.debug(oData);\r\n\t\t\t\t\tif (oData.results[0].Flag === \"3\") {\r\n\t\t\t\t\t\tUtil.showInfo(\"单据提交失败! \" + oData.results[0].Msg);\r\n\t\t\t\t\t} else if (oData.results[0].Flag === \"0\") {\r\n\t\t\t\t\t\tUtil.showInfo(\"单据提交成功\");\r\n\t\t\t\t\t\tthat.getView().byId(\"fileUploader\").setVisible(false);\r\n\t\t\t\t\t\tthat.getView().byId(\"fileUpload_delete\").setVisible(false);\r\n\t\t\t\t\t\tvar model = [];\r\n\t\t\t\t\t\tthat.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_CHECK\");\r\n\t\t\t\t\t\tthat.oDialogCheckName.close();\r\n\t\t\t\t\t\tif (that.getView().byId(\"view_Edit_save\") === undefined) {\r\n\t\t\t\t\t\t\tvar data = that.getView().getModel(\"model_edit\");\r\n\t\t\t\t\t\t\tdata.button_save_enabled = false;\r\n\t\t\t\t\t\t\tdata.button_submit_enabled = false;\r\n\t\t\t\t\t\t\tthat.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.setscreen(\"C\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tUtil.showInfo(\"单据提交失败! \" + oData.results[0].Msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t\tUtil.showInfo(\"单据提交失败! \" + error.message);\r\n\t\t\t\t\tUtil.debug(error);\r\n\t\t\t\t},\r\n\t\t\t\tasync: true\r\n\t\t\t});\r\n\t\t},\r\n\t\t//重启并提交  //slbm lcid useid\r\n\t\trestartflow: function(oEntry, that, obj) {\r\n\t\t\tUtil.setBusy(true);\r\n\t\t\tvar Zstsx = \" {AMT:\" + obj.amountsum + \",SNAME_S:\\\"\" + obj.name +\r\n\t\t\t\t\"\\\",e_business_code:\\\"\" + obj.business_code + \"\\\",e_business_name:\\\"\" + obj.business_name + \"\\\",ORGEH:\\\"\" + obj.Orgeh + \"\\\",AUFNR:\\\"\" + obj.Aufnr + \"\\\"}\";\r\n\t\t\tvar sPath = \"/RESTARTINSTANSet\";\r\n\t\t\tvar oModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPRO_WF_FYBX_SRV/\");\r\n\t\t\toModel.create(sPath, oEntry, {\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t\tif (oData.Flag === \"0\") {\r\n\t\t\t\t\t\tUtil.showInfo(\"成功\");\r\n\t\t\t\t\t\t//提交流程\r\n\t\t\t\t\t\tvar oModels = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPRO_WF_FYBX_SRV/\");\r\n\t\t\t\t\t\tvar sPaths = \"/SUBMITSet?$filter=Zslbm eq '\" + oEntry.Zslbm + \"' and Zstsx eq '\" + Zstsx + \"' and Zyhm eq '\" +\r\n\t\t\t\t\t\t\toEntry.Zyhm + \"' \";\r\n\t\t\t\t\t\tUtil.setBusy(true);\r\n\t\t\t\t\t\toModels.read(sPaths, {\r\n\t\t\t\t\t\t\tsuccess: function(oDatas, oResponses) {\r\n\t\t\t\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t\t\t\t\tif (oDatas.results[0].Flag === \"0\") {\r\n\t\t\t\t\t\t\t\t\tUtil.showInfo(\"单据提交成功\");\r\n\t\t\t\t\t\t\t\t\tthat.getView().byId(\"fileUploader\").setVisible(false);\r\n\t\t\t\t\t\t\t\t\tthat.getView().byId(\"fileUpload_delete\").setVisible(false);\r\n\t\t\t\t\t\t\t\t\tthat.setscreen(\"C\");\r\n\t\t\t\t\t\t\t\t} else if (oDatas.Flag === \"E\") {\r\n\t\t\t\t\t\t\t\t\tUtil.showError(\"链接失败。请重新撤回\");\r\n\t\t\t\t\t\t\t\t} else if (oDatas.results[0].Flag === \"2\") {\r\n\t\t\t\t\t\t\t\t\toDatas.results[0].Zstsx = Zstsx;\r\n\t\t\t\t\t\t\t\t\toDatas.results[0].Zslbm = oEntry.Zslbm;\r\n\t\t\t\t\t\t\t\t\toDatas.results[0].Zyhm = oEntry.Zyhm;\r\n\t\t\t\t\t\t\t\t\tthat.getView().setModel(new sap.ui.model.json.JSONModel(oDatas), \"model_CHECK\");\r\n\t\t\t\t\t\t\t\t\tUtil.onShowCheckName(that);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tUtil.showError(oDatas.Msg);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror: function(error) {\r\n\t\t\t\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t\t\t\t\tUtil.showError(\"失败!\");\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tasync: false\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// that.preparedata();\r\n\t\t\t\t\t} else if (oData.Flag === \"E\") {\r\n\t\t\t\t\t\tUtil.showError(\"链接失败。请重新撤回\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tUtil.showError(oData.Msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {\r\n\t\t\t\t\tUtil.showError(\"失败!\");\r\n\t\t\t\t},\r\n\t\t\t\tasync: false\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t//CL重新流程\r\n\t\tclrestartflow: function(oEntry, that, obj) {\r\n\t\t\tUtil.setBusy(true);\r\n\t\t\tvar Zstsx = \" {AMT:\" + obj.amountsum + \",SNAME_S:\\\"\" + obj.name +\r\n\t\t\t\t\"\\\",e_business_code:\\\"\" + obj.business_code + \"\\\",e_business_name:\\\"\" + obj.business_name + \"\\\",ORGEH:\\\"\" + obj.Orgeh + \"\\\",AUFNR:\\\"\" + obj.Aufnr + \"\\\"}\";\r\n\t\t\tvar sPath = \"/RESTARTINSTANSet\";\r\n\t\t\tvar oModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPRO_WF_FYBX_SRV/\");\r\n\t\t\toModel.create(sPath, oEntry, {\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t\tif (oData.Flag === \"0\") {\r\n\t\t\t\t\t\tUtil.showInfo(\"成功\");\r\n\t\t\t\t\t\t//提交流程\r\n\t\t\t\t\t\tvar oModels = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPRO_WF_YS_FYBX_SRV/\");\r\n\t\t\t\t\t\tvar sPaths = \"/YS_SUBMITSet?$filter=Zslbm eq '\" + oEntry.Zslbm + \"' and Zstsx eq '\" + Zstsx + \"' and Zyhm eq '\" +\r\n\t\t\t\t\t\t\toEntry.Zyhm + \"' and Recode eq '\" + obj.business_code + \"'\";\r\n\t\t\t\t\t\tUtil.setBusy(true);\r\n\t\t\t\t\t\toModels.read(sPaths, {\r\n\t\t\t\t\t\t\tsuccess: function(oDatas, oResponses) {\r\n\t\t\t\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t\t\t\t\tif (oDatas.results[0].Flag === \"0\") {\r\n\t\t\t\t\t\t\t\t\tUtil.showInfo(\"单据提交成功\");\r\n\t\t\t\t\t\t\t\t\tthat.setscreen(\"C\");\r\n\t\t\t\t\t\t\t\t} else if (oDatas.Flag === \"E\") {\r\n\t\t\t\t\t\t\t\t\tUtil.showError(\"链接失败。请重新撤回\");\r\n\t\t\t\t\t\t\t\t} else if (oDatas.results[0].Flag === \"2\") {\r\n\t\t\t\t\t\t\t\t\toDatas.results[0].Zstsx = Zstsx;\r\n\t\t\t\t\t\t\t\t\toDatas.results[0].Zslbm = oEntry.Zslbm;\r\n\t\t\t\t\t\t\t\t\toDatas.results[0].Zyhm = oEntry.Zyhm;\r\n\t\t\t\t\t\t\t\t\tthat.getView().setModel(new sap.ui.model.json.JSONModel(oDatas), \"model_CHECK\");\r\n\t\t\t\t\t\t\t\t\tUtil.onShowCheckName(that);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tUtil.showError(oDatas.Msg);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror: function(error) {\r\n\t\t\t\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t\t\t\t\tUtil.showError(\"失败!\");\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tasync: false\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// that.preparedata();\r\n\t\t\t\t\t} else if (oData.Flag === \"E\") {\r\n\t\t\t\t\t\tUtil.showError(\"链接失败。请重新撤回\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tUtil.showError(oData.Msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {\r\n\t\t\t\t\tUtil.showError(\"失败!\");\r\n\t\t\t\t},\r\n\t\t\t\tasync: false\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t//提交流程\r\n\t\tsubed: function(obj, that) {\r\n\t\t\tUtil.setBusy(true);\r\n\t\t\tvar Zstsx = \"{AMT:\" + obj.amountsum + \",SNAME_S:\\\"\" + obj.name +\r\n\t\t\t\t\"\\\",e_business_code:\\\"\" + obj.business_code + \"\\\",e_business_name:\\\"\" + obj.business_name + \"\\\",ORGEH:\\\"\" + obj.Orgeh + \"\\\",AUFNR:\\\"\" + obj.Aufnr + \"\\\"}\";\r\n\t\t\tvar oModels = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPRO_WF_FYBX_SRV/\");\r\n\t\t\tvar sPaths = \"/SUBMITSet?$filter=Zslbm eq '\" + obj.Zslbm + \"' and Zstsx eq '\" + Zstsx + \"' and Zyhm eq '\" +\r\n\t\t\t\tobj.Zyhm + \"'\";\r\n\t\t\toModels.read(sPaths, {\r\n\t\t\t\tsuccess: function(oDatas, oResponses) {\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t\tif (oDatas.results[0].Flag === \"0\") {\r\n\t\t\t\t\t\tUtil.showInfo(\"单据提交成功\");\r\n\t\t\t\t\t\tthat.getView().byId(\"fileUploader\").setVisible(false);\r\n\t\t\t\t\t\tthat.getView().byId(\"fileUpload_delete\").setVisible(false);\r\n\t\t\t\t\t\tthat.setscreen(\"C\");\r\n\t\t\t\t\t} else if (oDatas.Flag === \"E\") {\r\n\t\t\t\t\t\tUtil.showError(\"链接失败。请重新撤回\");\r\n\t\t\t\t\t} else if (oDatas.results[0].Flag === \"2\") {\r\n\t\t\t\t\t\toDatas.results[0].Zstsx = Zstsx;\r\n\t\t\t\t\t\toDatas.results[0].Zslbm = obj.Zslbm;\r\n\t\t\t\t\t\toDatas.results[0].Zyhm = obj.Zyhm;\r\n\t\t\t\t\t\tthat.getView().setModel(new sap.ui.model.json.JSONModel(oDatas), \"model_CHECK\");\r\n\t\t\t\t\t\tUtil.onShowCheckName(that);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tUtil.showError(oDatas.results[0].Msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t\tUtil.showError(\"失败!\");\r\n\t\t\t\t},\r\n\t\t\t\tasync: true\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tys_submited: function(obj, that) {\r\n\t\t\tvar sPath = \"/YS_STARTANDSUBMITSet?$filter=Zlcid eq '\" + obj.id + \"' and Zstsx eq '{AMT:\" + obj.amountsum + \",SNAME_S:\\\"\" + obj.name +\r\n\t\t\t\t\"\\\",e_business_code:\\\"\" + obj.business_code + \"\\\",e_business_name:\\\"\" + obj.business_name + \"\\\",ORGEH:\\\"\" + obj.Orgeh +\r\n\t\t\t\t\"\\\",AUFNR:\\\"\" + obj.Aufnr + \"\\\"}' and Zyhm eq '\" + obj.userid + \"' and Recode eq '\" + obj.business_code + \"'\";\r\n\t\t\tvar Zstsx = \"{AMT:\" + obj.amountsum + \",SNAME_S:\\\"\" + obj.name +\r\n\t\t\t\t\"\\\",e_business_code:\\\"\" + obj.business_code + \"\\\",e_business_name:\\\"\" + obj.business_name + \"\\\",ORGEH:\\\"\" + obj.Orgeh + \"\\\",AUFNR:\\\"\" + obj.Aufnr + \"\\\"}\";\r\n\t\t\tvar oModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPRO_WF_YS_FYBX_SRV/\", true);\r\n\t\t\tUtil.debug(sPath);\r\n\t\t\tUtil.setBusy(true);\r\n\t\t\toModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t\tUtil.debug(oData);\r\n\t\t\t\t\tif (oData.results[0].Flag === \"3\") {\r\n\t\t\t\t\t\toData.results[0].Zstsx = Zstsx;\r\n\t\t\t\t\t\toData.results[0].Zslbm = obj.Zslbm;\r\n\t\t\t\t\t\toData.results[0].Zyhm = obj.userid;\r\n\t\t\t\t\t\tthat.getView().setModel(new sap.ui.model.json.JSONModel(oData), \"model_CHECK\");\r\n\t\t\t\t\t\tUtil.onShowCheckName(that);\r\n\t\t\t\t\t} else if (oData.results[0].Flag === \"0\") {\r\n\t\t\t\t\t\tUtil.showInfo(\"单据提交成功\");\r\n\t\t\t\t\t\tthat.getView().byId(\"fileUploader\").setVisible(false);\r\n\t\t\t\t\t\tthat.getView().byId(\"fileUpload_delete\").setVisible(false);\r\n\t\t\t\t\t\tif (that.getView().byId(\"view_Edit_save\") === undefined) {\r\n\t\t\t\t\t\t\tvar data = that.getView().getModel(\"model_edit\");\r\n\t\t\t\t\t\t\tdata.button_save_enabled = false;\r\n\t\t\t\t\t\t\tdata.button_submit_enabled = true;\r\n\t\t\t\t\t\t\tthat.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.setscreen(\"C\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tUtil.showError(\"单据提交失败! \" + oData.results[0].Msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t\tUtil.showError(\"单据提交失败! \" + error.message);\r\n\t\t\t\t\tUtil.debug(error);\r\n\t\t\t\t},\r\n\t\t\t\tasync: true\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tYs_subed: function(obj, that) {\r\n\t\t\tUtil.setBusy(true);\r\n\t\t\tvar Zstsx = \"{AMT:\" + obj.amountsum + \",SNAME_S:\\\"\" + obj.name +\r\n\t\t\t\t\"\\\",e_business_code:\\\"\" + obj.business_code + \"\\\",e_business_name:\\\"\" + obj.business_name + \"\\\",ORGEH:\\\"\" + obj.Orgeh + \"\\\",AUFNR:\\\"\" + obj.Aufnr + \"\\\"}\";\r\n\t\t\tvar oModels = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPRO_WF_YS_FYBX_SRV/\");\r\n\t\t\tvar sPaths = \"/YS_SUBMITSet?$filter=Zslbm eq '\" + obj.Zslbm + \"' and Zstsx eq '\" + Zstsx + \"' and Zyhm eq '\" +\r\n\t\t\t\tobj.Zyhm + \"' and Recode eq '\" + obj.business_code + \"'\";\r\n\t\t\toModels.read(sPaths, {\r\n\t\t\t\tsuccess: function(oDatas, oResponses) {\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t\tif (oDatas.results[0].Flag === \"0\") {\r\n\t\t\t\t\t\tUtil.showInfo(\"单据提交成功\");\r\n\t\t\t\t\t\tthat.getView().byId(\"fileUploader\").setVisible(false);\r\n\t\t\t\t\t\tthat.getView().byId(\"fileUpload_delete\").setVisible(false);\r\n\t\t\t\t\t\tthat.setscreen(\"C\");\r\n\t\t\t\t\t} else if (oDatas.Flag === \"E\") {\r\n\t\t\t\t\t\tUtil.showError(\"链接失败。请重新撤回\");\r\n\t\t\t\t\t} else if (oDatas.results[0].Flag === \"2\") {\r\n\t\t\t\t\t\toDatas.results[0].Zstsx = Zstsx;\r\n\t\t\t\t\t\toDatas.results[0].Zslbm = obj.Zslbm;\r\n\t\t\t\t\t\toDatas.results[0].Zyhm = obj.Zyhm;\r\n\t\t\t\t\t\tthat.getView().setModel(new sap.ui.model.json.JSONModel(oDatas), \"model_CHECK\");\r\n\t\t\t\t\t\tUtil.onShowCheckName(that);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tUtil.showError(oDatas.results[0].Msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t\tUtil.showError(\"失败!\");\r\n\t\t\t\t},\r\n\t\t\t\tasync: true\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\treturn UtilWorkFlow;\r\n});",
		"sh/bz/common/common/controller/FYSQHome.controller.js": "sap.ui.define([\n\t\"sap/ui/core/mvc/Controller\",\n\t\"sh/bz/common/controller/BaseController\",\n\t\"sh/bz/common/controller/Util\",\n\t\"sh/bz/common/controller/UtilTest\",\n\t\"sh/bz/common/controller/Formatter\",\n\t\"sh/bz/common/controller/UtilWorkFlow\"\n], function(Controller, BaseController, Util, UtilTest, Formatter, UtilWorkFlow) {\n\t\"use strict\";\n\tvar reg_JE = /^\\d+(.\\d{2})?$/;\n\tvar reg_PHONE = /^1[35678]\\d{9}$|^((0\\d{2}-)?\\d{8}(-\\d{1,4})?)$|^(0\\d{3}-\\d{7,8}(-\\d{1,4})?)$/;\n\treturn BaseController.extend(\"sh.bz.common.controller.FYSQHome\", {\n\n\t\t//保存小数点\n\t\tonTwoAmountsum: function(oEveniew_Edit_RECEIPT_CODEt) {\n\t\t\tvar value = this.getView().byId(\"view_Edit_AMOUNTSUM\").getValue();\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar sum = Formatter.FloatFormat(value);\n\t\t\tthis.getView().getModel().setProperty(path + \"Amountsum\", sum);\n\t\t},\n\n\t\tonCancelCheckName: function(oEvent) {\n\t\t\tvar model = [];\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_CHECK\");\n\t\t\tthis.oDialogCheckName.close();\n\t\t},\n\n\t\t// 清除校验错误提示\n\t\tonClearValueState: function(oEvent) {\n\t\t\tUtil.onClearValueState(oEvent);\n\t\t},\n\n\t\t//new列表删除\n\t\tonBudgetDelete: function(oEvent, that) {\n\t\t\tthat.getView().getModel(\"model_edit\").getData().DZItem.splice(that.sDeleteItemIndex, 1);\n\t\t\tthat.getView().getModel(\"model_edit\").refresh();\n\t\t},\n\n\t\t//import  new onDeleteItem\n\t\tonDeleteItem: function(oEvent) {\n\t\t\tUtilTest.onDeleteItem(oEvent, this);\n\t\t},\n\t\t//获取单据编号\n\t\tgetRecode: function(that) {\n\t\t\t//查询单据编号\n\t\t\tvar Recode = \"\";\n\t\t\tvar path = that.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar Bukrs = that.getView().getModel().getProperty(path + \"Bukrs\");\n\t\t\tvar sPath = \"/RECODESet?$filter=(Dkkd eq 'SQ') and (Bukrs eq '\" + Bukrs + \"')\";\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\n\t\t\tvar bError = false;\n\t\t\toDataModel.read(sPath, {\n\t\t\t\tsuccess: function(oData, response) {\n\t\t\t\t\tRecode = oData.results[0].Recode;\n\t\t\t\t},\n\t\t\t\terror: function(oError) {\n\t\t\t\t\tUtil.showError(\"get RECODESet error!\");\n\t\t\t\t\tbError = true;\n\t\t\t\t},\n\t\t\t\tasync: false //false 同步操作 async operation\n\t\t\t});\n\t\t\tif (bError)\n\t\t\t\treturn \"\";\n\t\t\telse\n\t\t\t\treturn Recode;\n\t\t},\n\n\t\t//费用类型搜索\n\t\tonSearchEtdsc: function(oEvent) {\n\t\t\tvar DKKD = \"SQ\";\n\t\t\tUtil.onSearchEtdsc(oEvent, this, DKKD);\n\t\t},\n\t\t// 保存\n\t\tsavePressed: function(oEvent) {\n\t\t\t//保存时候的录入数据校验2\n\t\t\tvar objs = [{\n\t\t\t\tidStr: \"view_Edit_AMOUNTSUM\", //申请金额\n\t\t\t\tvalidNull: true,\n\t\t\t\treg: reg_JE, // float保留两位精度\n\t\t\t\tmsg: \"需输入有效金额\"\n\t\t\t}, {\n\t\t\t\tidStr: \"view_Edit_PROPOSER_PRCTR\", //利润中心\n\t\t\t\tvalidNull: true\n\t\t\t}, {\n\t\t\t\tidStr: \"view_Edit_ETDSC\", //费用类型\n\t\t\t\tvalidNull: true\n\t\t\t}, {\n\t\t\t\tidStr: \"view_Edit_TELNUM\", //联系方式\n\t\t\t\tvalidNull: true,\n\t\t\t\treg: reg_PHONE, //验证手机号\n\t\t\t\tmsg: \"需输入有效手机号\"\n\t\t\t}, {\n\t\t\t\tidStr: \"view_Edit_ACCOUNTFOR\", //费用用途\n\t\t\t\tvalidNull: true\n\t\t\t}];\n\t\t\tif (sap.ui.getCore().AppContext.Bukrs === \"9200\") {\n\t\t\t\tobjs.push({\n\t\t\t\t\tidStr: \"view_Edit_AUFNR\", //订单\n\t\t\t\t\tvalidNull: true\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this.validForm(oEvent, this, objs))\n\t\t\t\treturn;\n\n\t\t\t/* if (sap.ushell != null)\n\t\t\t\tuserid = sap.ushell.Container.getService(\"UserInfo\").getId(); //in Fiori FLP\n\t\t\telse\n\t\t\t\tvar userid = \"ZZLIYJ\"; //in SAP WebIDE test environment  \n\t\t\t\t*/\n\t\t\tvar userid = Util.getUserId();\n\t\t\tvar saveSuccess = false;\n\t\t\tvar that = this;\n\t\t\tvar path = that.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar Recode = that.getView().getModel().getProperty(path + \"Recode\");\n\t\t\tif (Recode !== \"\") {\n\t\t\t\tvar sPath = \"/HEADERSAVESet('\" + Recode + \"')\";\n\t\t\t\tvar oEntry = that.getView().getBindingContext().getProperty();\n\t\t\t\tdelete oEntry.Uzeit_cr;\n\t\t\t\tdelete oEntry.OrgehText;\n\t\t\t\tthat.getView().getModel().update(sPath, oEntry, {\n\t\t\t\t\tmerge: true,\n\t\t\t\t\tsuccess: function(oData, oResponse) {\n\t\t\t\t\t\tUtil.showInfo(\"保存成功\");\n\t\t\t\t\t\tthat.setscreen(\"A\");\n\t\t\t\t\t\tthat.getView().byId(\"view_Edit_save\").setEnabled(true);\n\t\t\t\t\t\tthat.getView().byId(\"view_Edit_submit\").setEnabled(true);\n\t\t\t\t\t},\n\t\t\t\t\terror: function(error) {\n\t\t\t\t\t\tUtil.showError(\"保存失败!\");\n\t\t\t\t\t\tthat.getView().byId(\"view_Edit_save\").setEnabled(true);\n\t\t\t\t\t\tthat.getView().byId(\"view_Edit_submit\").setEnabled(true);\n\t\t\t\t\t},\n\t\t\t\t\tasync: false\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvar data = new Date();\n\t\t\t\t// var Recode = that.getRecode(that);\n\t\t\t\t// var adata = that.getView().getBindingContext().getProperty(path + \"/\" + \"Redate\");\n\t\t\t\tthat.getView().getModel().setProperty(path + \"Recode\", Recode);\n\t\t\t\tthat.getView().getModel().setProperty(path + \"Spzt\", \"A\");\n\t\t\t\tthat.getView().getModel().setProperty(path + \"Spztms\", \"起草\");\n\t\t\t\tthat.getView().getModel().setProperty(path + \"Dkkd\", \"SQ\");\n\t\t\t\tthat.getView().getModel().setProperty(path + \"Usrid\", userid);\n\t\t\t\t// that.getView().getModel().setProperty(path + \"Uzeitcr\", data);\n\t\t\t\tvar sPath = \"/HEADERSAVESet\";\n\t\t\t\tvar oEntry = that.getView().getBindingContext().getProperty();\n\t\t\t\t// delete oEntry.__metadata;\n\t\t\t\t// delete oEntry.__proto__;\n\t\t\t\tdelete oEntry.Uzeit_cr;\n\t\t\t\tdelete oEntry.OrgehText;\n\t\t\t\tUtil.debug(oEntry);\n\t\t\t\tvar oModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\");\n\t\t\t\toModel.create(sPath, oEntry, {\n\t\t\t\t\tsuccess: function(oData, oResponse) {\n\t\t\t\t\t\tif (oData.Recode === \"\") {\n\t\t\t\t\t\t\tUtil.showError(\"保存失败\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Recode\", oData.Recode);\n\t\t\t\t\t\t\tUtil.showInfo(\"保存成功\");\n\t\t\t\t\t\t\tthat.setscreen(\"A\");\n\t\t\t\t\t\t\tthat.getView().byId(\"view_Edit_save\").setEnabled(true);\n\t\t\t\t\t\t\tthat.getView().byId(\"view_Edit_submit\").setEnabled(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror: function(error) {\n\t\t\t\t\t\tUtil.showError(\"submit update failed:\" + error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t//费用类型打开\n\t\tonShowEtdscHelp: function(oEvent) {\n\t\t\tvar Dkkd = \"SQ\";\n\t\t\tUtil.onShowEtdscHelp(oEvent, this, Dkkd);\n\t\t},\n\n\t\t//提交\n\t\tsubmitPressed: function() {\n\t\t\tvar data = this.getView().getModel(\"model_edit\").getData();\n\t\t\tvar that = this;\n\t\t\tif (data.Lcid === undefined) {\n\t\t\t\tvar oEntry = that.getView().getBindingContext().getProperty();\n\t\t\t\tvar Bukrs = oEntry.Bukrs;\n\t\t\t\tvar DKKD = \"SQ\";\n\t\t\t\tvar sPath = \"/BETYPESet?$filter=( Bukrs eq '\" + Bukrs + \"' ) and ( Dkkd eq '\" + DKKD + \"' )\";\n\t\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\n\t\t\t\toDataModel.read(sPath, {\n\t\t\t\t\tsuccess: function(oData, response) {\n\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData).oData.results[0];\n\t\t\t\t\t\tvar id = model.Lcid;\n\t\t\t\t\t\tvar ZSlbm = model.Lcbm;\n\t\t\t\t\t\tvar path = that.getView().getBindingContext().getPath() + \"/\";\n\t\t\t\t\t\tvar name = oEntry.Sname; //申请人\n\t\t\t\t\t\tvar Orgeh = oEntry.Orgeh;\n\t\t\t\t\t\tvar e_business_code = oEntry.Recode; //单据编号\n\t\t\t\t\t\tvar e_business_name = oEntry.Accountfor; //费用申请说明\n\t\t\t\t\t\tvar e_business_count = oEntry.Amountsum; //申请金额\n\t\t\t\t\t\tvar Aufnr = oEntry.Aufnr;\n\t\t\t\t\t\tvar userid = Util.getUserId();\n\t\t\t\t\t\tvar sPaths = \"/HEADERSAVESet?$filter=Recode eq '\" + e_business_code + \"'\";\n\t\t\t\t\t\tvar oDataModels = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\n\t\t\t\t\t\toDataModels.read(sPaths, {\n\t\t\t\t\t\t\tsuccess: function(oData, response) {\n\t\t\t\t\t\t\t\tvar oEntryd = that.getView().getBindingContext().getProperty();\n\t\t\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\n\t\t\t\t\t\t\t\tif (model.oData.results[0].Slbm === \"\") {\n\t\t\t\t\t\t\t\t\tif (oEntryd.Spzt === \"R\") {\n\t\t\t\t\t\t\t\t\t\tvar obj = {};\n\t\t\t\t\t\t\t\t\t\tobj.id = id;\n\t\t\t\t\t\t\t\t\t\tobj.amountsum = e_business_count;\n\t\t\t\t\t\t\t\t\t\tobj.name = name;\n\t\t\t\t\t\t\t\t\t\tobj.business_code = e_business_code;\n\t\t\t\t\t\t\t\t\t\tobj.business_name = e_business_name;\n\t\t\t\t\t\t\t\t\t\tobj.userid = userid;\n\t\t\t\t\t\t\t\t\t\tobj.Zslbm = ZSlbm;\n\t\t\t\t\t\t\t\t\t\tobj.Orgeh = Orgeh;\n\t\t\t\t\t\t\t\t\t\tobj.Aufnr = Aufnr;\n\t\t\t\t\t\t\t\t\t\tvar oEntry = {\n\t\t\t\t\t\t\t\t\t\t\tZslbm: ZSlbm,\n\t\t\t\t\t\t\t\t\t\t\tZlcid: id,\n\t\t\t\t\t\t\t\t\t\t\tZyhm: userid\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\tUtilWorkFlow.restartflow(oEntry, that, obj);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tvar obj = {};\n\t\t\t\t\t\t\t\t\t\tobj.id = id;\n\t\t\t\t\t\t\t\t\t\tobj.amountsum = e_business_count;\n\t\t\t\t\t\t\t\t\t\tobj.name = name;\n\t\t\t\t\t\t\t\t\t\tobj.business_code = e_business_code;\n\t\t\t\t\t\t\t\t\t\tobj.business_name = e_business_name;\n\t\t\t\t\t\t\t\t\t\tobj.userid = userid;\n\t\t\t\t\t\t\t\t\t\tobj.Zslbm = ZSlbm;\n\t\t\t\t\t\t\t\t\t\tobj.Orgeh = Orgeh;\n\t\t\t\t\t\t\t\t\t\tobj.Aufnr = Aufnr;\n\t\t\t\t\t\t\t\t\t\tUtilWorkFlow.submited(obj, that);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (oEntryd.Spzt === \"R\") {\n\t\t\t\t\t\t\t\t\t\tvar obj = {};\n\t\t\t\t\t\t\t\t\t\tobj.id = id;\n\t\t\t\t\t\t\t\t\t\tobj.amountsum = e_business_count;\n\t\t\t\t\t\t\t\t\t\tobj.name = name;\n\t\t\t\t\t\t\t\t\t\tobj.business_code = e_business_code;\n\t\t\t\t\t\t\t\t\t\tobj.business_name = e_business_name;\n\t\t\t\t\t\t\t\t\t\tobj.userid = userid;\n\t\t\t\t\t\t\t\t\t\tobj.Zslbm = model.oData.results[0].Slbm;\n\t\t\t\t\t\t\t\t\t\tobj.Orgeh = Orgeh;\n\t\t\t\t\t\t\t\t\t\tobj.Aufnr = Aufnr;\n\t\t\t\t\t\t\t\t\t\tvar oEntry = {\n\t\t\t\t\t\t\t\t\t\t\tZslbm: model.oData.results[0].Slbm,\n\t\t\t\t\t\t\t\t\t\t\tZlcid: id,\n\t\t\t\t\t\t\t\t\t\t\tZyhm: userid\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\tUtilWorkFlow.restartflow(oEntry, that, obj);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tvar obj = {\n\t\t\t\t\t\t\t\t\t\t\tamountsum: e_business_count,\n\t\t\t\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\t\t\t\tbusiness_code: e_business_code,\n\t\t\t\t\t\t\t\t\t\t\tbusiness_name: e_business_name,\n\t\t\t\t\t\t\t\t\t\t\tZslbm: model.oData.results[0].Slbm,\n\t\t\t\t\t\t\t\t\t\t\tZyhm: userid,\n\t\t\t\t\t\t\t\t\t\t\tOrgeh: Orgeh,\n\t\t\t\t\t\t\t\t\t\t\tAufnr :Aufnr\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\tUtilWorkFlow.subed(obj, that);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terror: function(oError) {\n\t\t\t\t\t\t\t\t// MessageToast.show(\"get RYBHSet error!\");\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tasync: false\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// Util.debug(model);\n\t\t\t\t\t},\n\t\t\t\t\terror: function(oError) {\n\t\t\t\t\t\tUtil.showError(\"get RECODESet error!\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\t\tvar id = data.Lcid; //流程id\n\t\t\t\tvar Zslbm = data.Lcbm; //\n\t\t\t\tvar oEntryd = that.getView().getBindingContext().getProperty();\n\t\t\t\tvar name = that.getView().getModel().getProperty(path + \"SnameS\"); //申请人\n\t\t\t\tvar e_business_code = that.getView().getModel().getProperty(path + \"Recode\"); //单据编号\n\t\t\t\tvar e_business_name = that.getView().getModel().getProperty(path + \"Accountfor\"); //费用申请说明\n\t\t\t\tvar e_business_count = that.getView().getModel().getProperty(path + \"Amountsum\"); //申请金额\n\t\t\t\tvar Aufnr = that.getView().getModel().getProperty(path + \"Aufnr\"); //申请金额\n\t\t\t\tvar Orgeh = that.getView().getModel().getProperty(path + \"Orgeh\");\n\t\t\t\tvar userid = Util.getUserId();\n\t\t\t\tvar sPath = \"/HEADERSAVESet?$filter=Recode eq '\" + e_business_code + \"'\";\n\t\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\n\t\t\t\toDataModel.read(sPath, {\n\t\t\t\t\tsuccess: function(oData, response) {\n\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\n\t\t\t\t\t\tif (model.oData.results[0].Slbm === \"\") {\n\t\t\t\t\t\t\tvar obj = {};\n\t\t\t\t\t\t\tobj.id = id;\n\t\t\t\t\t\t\tobj.amountsum = e_business_count;\n\t\t\t\t\t\t\tobj.name = name;\n\t\t\t\t\t\t\tobj.business_code = e_business_code;\n\t\t\t\t\t\t\tobj.business_name = e_business_name;\n\t\t\t\t\t\t\tobj.userid = userid;\n\t\t\t\t\t\t\tobj.Zslbm = Zslbm;\n\t\t\t\t\t\t\tobj.Orgeh = Orgeh;\n\t\t\t\t\t\t\tobj.Aufnr = Aufnr;\n\t\t\t\t\t\t\tUtilWorkFlow.submited(obj, that);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (oEntryd.Spzt === \"R\") {\n\t\t\t\t\t\t\t\tvar obj = {};\n\t\t\t\t\t\t\t\tobj.id = id;\n\t\t\t\t\t\t\t\tobj.amountsum = e_business_count;\n\t\t\t\t\t\t\t\tobj.name = name;\n\t\t\t\t\t\t\t\tobj.business_code = e_business_code;\n\t\t\t\t\t\t\t\tobj.business_name = e_business_name;\n\t\t\t\t\t\t\t\tobj.userid = userid;\n\t\t\t\t\t\t\t\tobj.Zslbm = model.oData.results[0].Slbm;\n\t\t\t\t\t\t\t\tobj.Orgeh = Orgeh;\n\t\t\t\t\t\t\t\tobj.Aufnr = Aufnr;\n\t\t\t\t\t\t\t\tvar oEntry = {\n\t\t\t\t\t\t\t\t\tZslbm: model.oData.results[0].Slbm,\n\t\t\t\t\t\t\t\t\tZlcid: id,\n\t\t\t\t\t\t\t\t\tZyhm: userid\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tUtilWorkFlow.restartflow(oEntry, that, obj);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar obj = {\n\t\t\t\t\t\t\t\t\tamountsum: e_business_count,\n\t\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\t\tbusiness_code: e_business_code,\n\t\t\t\t\t\t\t\t\tbusiness_name: e_business_name,\n\t\t\t\t\t\t\t\t\tZslbm: model.oData.results[0].Slbm,\n\t\t\t\t\t\t\t\t\tZyhm: userid,\n\t\t\t\t\t\t\t\t\tOrgeh: Orgeh,\n\t\t\t\t\t\t\t\t\tAufnr : Aufnr\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tUtilWorkFlow.subed(obj, that);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// if(model.resu){}\n\t\t\t\t\t\t// console.log(model)\n\t\t\t\t\t\t//Util.debug(model);\n\t\t\t\t\t},\n\t\t\t\t\terror: function(oError) {\n\t\t\t\t\t\t// MessageToast.show(\"get RYBHSet error!\");\n\t\t\t\t\t},\n\t\t\t\t\tasync: false\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t//flag:3的时候的流程确认操作\n\t\tonConfirmCheckName: function(oEvent, that) {\n\t\t\tUtilWorkFlow.onConfirmCheckName(oEvent, this);\n\t\t},\n\n\t\t//1 申请人选择\n\t\trowSelected: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_PROPOSER\").getPath();\n\t\t\tthis.getView().getModel(\"model_PROPOSER\").setProperty(\"/sPath\", sPath);\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar PernrS = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Pernr\");\n\t\t\tvar SnameS = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Sname\");\n\t\t\tvar Bukrs = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Bukrs\");\n\t\t\tvar Butxt = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Butxt\");\n\t\t\tvar Kostl = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Kostl\");\n\t\t\tvar Ktext = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Ktext\");\n\t\t\tvar Telnum = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Ptel\");\n\t\t\tvar UsridS = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"UsridS\");\n\t\t\tthis.getView().getModel().setProperty(path + \"PernrS\", PernrS);\n\t\t\tthis.getView().getModel().setProperty(path + \"SnameS\", SnameS);\n\t\t\tthis.getView().getModel().setProperty(path + \"Bukrs\", Bukrs);\n\t\t\tthis.getView().getModel().setProperty(path + \"Butxt\", Butxt);\n\t\t\tthis.getView().getModel().setProperty(path + \"Kostl\", Kostl);\n\t\t\tthis.getView().getModel().setProperty(path + \"Ktext\", Ktext);\n\t\t\tthis.getView().getModel().setProperty(path + \"Telnum\", Telnum);\n\t\t\tthis.getView().getModel().setProperty(path + \"UsridS\", UsridS);\n\t\t\tvar data = {};\n\t\t\tvar model = [];\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_PROPOSER\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_search\");\n\t\t\tthis.oDialogCostCenterHelpName.close();\n\t\t},\n\n\t\t//2 利润中心选择\n\t\trowSelectedPROPOSER_PRCTR: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_PROPOSER_PRCTR\").getPath();\n\t\t\tthis.getView().getModel(\"model_PROPOSER_PRCTR\").setProperty(\"/sPath\", sPath);\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar Prctr = this.getView().getModel(\"model_PROPOSER_PRCTR\").getProperty(sPath + \"/\" + \"Prctr\");\n\t\t\tvar KtextPrctr = this.getView().getModel(\"model_PROPOSER_PRCTR\").getProperty(sPath + \"/\" + \"Ktext\");\n\t\t\tthis.getView().getModel().setProperty(path + \"Prctr\", Prctr);\n\t\t\tthis.getView().getModel().setProperty(path + \"KtextPrctr\", KtextPrctr);\n\t\t\tvar data = {};\n\t\t\tvar model = [];\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_PROPOSER_PRCTR\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_search\");\n\t\t\tthis.oDialogCostCenterHelp.close();\n\t\t},\n\n\t\t//3 部门选择\n\t\trowSelectedPROPOSER_KOSTL: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_PROPOSER_KOSTL\").getPath();\n\t\t\tthis.getView().getModel(\"model_PROPOSER_KOSTL\").setProperty(\"/sPath\", sPath);\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar Orgeh = this.getView().getModel(\"model_PROPOSER_KOSTL\").getProperty(sPath + \"/\" + \"Orgeh\");\n\t\t\tvar OrgehText = this.getView().getModel(\"model_PROPOSER_KOSTL\").getProperty(sPath + \"/\" + \"OrgehText\");\n\t\t\tthis.getView().getModel().setProperty(path + \"Orgeh\", Orgeh);\n\t\t\tthis.getView().getModel().setProperty(path + \"OrgehText\", OrgehText);\n\t\t\tvar data = {};\n\t\t\tvar model = [];\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_PROPOSER\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_search\");\n\t\t\tthis.oDialogCostPartHelp.close();\n\t\t},\n\n\t\t//4 费用类型选择\n\t\trowSelectedEtdsc: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Etdsc\").getPath();\n\t\t\tthis.getView().getModel(\"model_Etdsc\").setProperty(\"/sPath\", sPath);\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar Etkd = this.getView().getModel(\"model_Etdsc\").getProperty(sPath + \"/\" + \"Etkd\");\n\t\t\tvar Etnm = this.getView().getModel(\"model_Etdsc\").getProperty(sPath + \"/\" + \"Etnm\");\n\t\t\tthis.getView().getModel().setProperty(path + \"Etkd\", Etkd);\n\t\t\tthis.getView().getModel().setProperty(path + \"Etnm\", Etnm);\n\t\t\tvar data = this.getView().getModel(\"model_edit\");\n\t\t\tdata.Lcid = this.getView().getModel(\"model_Etdsc\").getProperty(sPath + \"/\" + \"Lcid\");\n\t\t\tdata.Lcbm = this.getView().getModel(\"model_Etdsc\").getProperty(sPath + \"/\" + \"Lcbm\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\n\t\t\tvar data = {};\n\t\t\tvar model = [];\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_Etdsc\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_search\");\n\t\t\tthis.oDialogEtdscHelp.close();\n\t\t},\n\n\t\t//5 订单选择\n\t\trowSelectedAufnr: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Aufnr\").getPath();\n\t\t\tthis.getView().getModel(\"model_Aufnr\").setProperty(\"/sPath\", sPath);\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar Aufnr = this.getView().getModel(\"model_Aufnr\").getProperty(sPath + \"/\" + \"Aufnr\");\n\t\t\tvar KtextAufnr = this.getView().getModel(\"model_Aufnr\").getProperty(sPath + \"/\" + \"Ktext\");\n\t\t\tthis.getView().getModel().setProperty(path + \"Aufnr\", Aufnr);\n\t\t\tthis.getView().getModel().setProperty(path + \"KtextAufnr\", KtextAufnr);\n\t\t\tvar data = {};\n\t\t\tvar model = [];\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_Aufnr\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_search\");\n\t\t\tthis.oDialogAufnrHelp.close();\n\t\t},\n\n\t\t//初始化数据\n\t\tonInit: function() {\n\t\t\tvar oRouter = sap.ui.core.UIComponent.getRouterFor(this);\n\t\t\tthis.getView().addStyleClass(this.getContentDensityClass());\n\t\t\toRouter.getRoute(\"DETAIL_SQ\").attachMatched(this._onRouteMatched, this);\n\t\t\tthis.getView().byId(\"view_Edit_submit\").setEnabled(false);\n\t\t},\n\n\t\t//付款方式3 窗口 选择一行数据\n\t\trowSelectedZlsch: function(oEvent) {\n\t\t\tvar path = oEvent.getSource().getBindingContext().getPath() + \"/\";\n\t\t\tvar model = this.getView().byId(\"zlschlist\").getModel();\n\t\t\tvar Zlsch = model.getProperty(path + \"Zlsch\");\n\t\t\tvar Text2 = model.getProperty(path + \"Text2\");\n\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tthis.getView().getModel().setProperty(path + \"Zlsch\", Zlsch);\n\n\t\t\tvar data = this.getView().getModel(\"model_edit\").getData();\n\t\t\tdata.ZlschText = Text2;\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\n\n\t\t\tthis.oDialogZlschHelp.close();\n\t\t},\n\n\t\t//7 公司选择\n\t\trowSelectedBukr: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_BUKRS\").getPath();\n\t\t\tthis.getView().getModel(\"model_BUKRS\").setProperty(\"/sPath\", sPath);\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar Bxbukrs = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"Bxbukrs\");\n\t\t\tvar Butxt = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"Butxt\");\n\t\t\tvar Orgeh = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"Orgeh\");\n\t\t\tvar Short = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"Short\");\n\t\t\tvar Etkd = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"Etkd\");\n\t\t\tvar Etnm = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"Etnm\");\n\t\t\tvar Prctr = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"Prctr\");\n\t\t\tvar KtextPrctr = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"KtextPrctr\");\n\t\t\tthis.getView().getModel().setProperty(path + \"Bukrs\", Bxbukrs);\n\t\t\tthis.getView().getModel().setProperty(path + \"Butxt\", Butxt);\n\t\t\tthis.getView().getModel().setProperty(path + \"Orgeh\", Orgeh);\n\t\t\tthis.getView().getModel().setProperty(path + \"OrgehText\", Short);\n\t\t\tthis.getView().getModel().setProperty(path + \"Etkd\", Etkd);\n\t\t\tthis.getView().getModel().setProperty(path + \"Etnm\", Etnm);\n\t\t\tthis.getView().getModel().setProperty(path + \"Prctr\", Prctr);\n\t\t\tthis.getView().getModel().setProperty(path + \"KtextPrctr\", KtextPrctr);\n\t\t\tvar data = {};\n\t\t\tvar model = [];\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_BUKRS\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_BUKRS\");\n\t\t\tthis.oDialogBukrs.close();\n\t\t},\n\t\tprepareNewData: function(that) {\n\t\t\tvar data = {};\n\t\t\tthat.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\n\t\t\t//初始化输入表单数据 总表 空数据\n\t\t\tvar oEntry = this.getView().getModel().createEntry(\"HEADERSAVESet\");\n\t\t\tthis.getView().setBindingContext(oEntry);\n\t\t\tthis.getView().bindElement(oEntry.getPath());\n\t\t\tthis.getView().getModel().setRefreshAfterChange(true);\n\t\t\t//初始化输入表单数据 总表\n\t\t\t/*\n\t\t\tif (sap.ushell != null)\n\t\t\t\tUserid = sap.ushell.Container.getService(\"UserInfo\").getId(); //in Fiori FLP\n\t\t\telse\n\t\t\t\tvar Userid = \"ZZLIYJ\"; //in SAP WebIDE test environment\n\t\t\t*/\n\t\t\tvar userid = Util.getUserId();\n\t\t\tthis.readRYBH(this, userid);\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tthis.onintFysqFz(this.getView().getModel().getProperty(path + \"Bukrs\"));\n\t\t\tUtil.debug(\"prepareNewData completed\");\n\t\t},\n\n\t\t//Fysq\n\t\tonintFysqFz: function(Bukrs) {\n\t\t\tsap.ui.getCore().AppContext.Bukrs = Bukrs;\n\t\t\tif (sap.ui.getCore().AppContext.Bukrs === '9200') {\n\t\t\t\tthis.getView().byId(\"FYSQ_IP_Aufnr_label\").setRequired(true);\n\t\t\t} else {\n\t\t\t\tthis.getView().byId(\"FYSQ_IP_Aufnr_label\").setRequired(false);\n\t\t\t}\n\t\t},\n\n\t\treadRYBH: function(that, Userid) {\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\t//查询人员信息\n\t\t\tvar sPath = \"/RYBHSet?$filter=Usrid eq '\" + Userid + \"'\";\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\n\t\t\toDataModel.read(sPath, {\n\t\t\t\tsuccess: function(oData, response) {\n\t\t\t\t\tif (oData.results.length === 1) {\n\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData).getData();\n\t\t\t\t\t\tvar Bukrs = model.results[0].Bukrs;\n\t\t\t\t\t\tvar DKKD = \"SQ\";\n\t\t\t\t\t\tvar ETKD = \"\";\n\t\t\t\t\t\tvar ETDSC = \"\";\n\t\t\t\t\t\tvar LCID = \"\";\n\t\t\t\t\t\tvar LCBM = \"\";\n\t\t\t\t\t\tvar sPath = \"/BETYPESet?$filter=( Bukrs eq '\" + Bukrs + \"' ) and ( Dkkd eq '\" + DKKD + \"' )\";\n\t\t\t\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\n\t\t\t\t\t\toDataModel.read(sPath, {\n\t\t\t\t\t\t\tsuccess: function(oData, responses) {\n\t\t\t\t\t\t\t\tif (model.results[0].Btmark === \"\") {\n\t\t\t\t\t\t\t\t\tthat.getView().byId(\"IP_BUKRS\").setEditable(false);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Recode\", \"\");\n\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Bukrs\", model.results[0].Bukrs);\n\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Butxt\", model.results[0].Butxt);\n\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Orgeh\", model.results[0].Orgeh);\n\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"OrgehText\", model.results[0].OrgehText);\n\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Sname\", model.results[0].Sname);\n\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Pernr\", model.results[0].Pernr);\n\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"PernrS\", model.results[0].Pernr);\n\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"SnameS\", model.results[0].Sname);\n\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Redate\", model.results[0].Datum);\n\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Telnum\", model.results[0].Ptel);\n\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Etkd\", oData.results[0].Etkd);\n\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Dkkd\", oData.results[0].Dkkd);\n\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Etnm\", oData.results[0].Etnm);\n\n\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Prctr\", model.results[0].Prctr);\n\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"KtextPrctr\", model.results[0].KtextPrctr);\n\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"UsridS\", model.results[0].Usrid);\n\t\t\t\t\t\t\t\tvar data = {};\n\t\t\t\t\t\t\t\tdata.Lcid = oData.results[0].Lcid;\n\t\t\t\t\t\t\t\tdata.Lcbm = oData.results[0].Lcbm;\n\t\t\t\t\t\t\t\tthat.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terror: function(oError) {\n\t\t\t\t\t\t\t\tUtil.showError(\"readRYBH error!\");\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tasync: false\n\t\t\t\t\t\t});\n\t\t\t\t\t\t//that.readBEType(that);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror: function(oError) {\n\t\t\t\t\tUtil.showError(\"readRYBH error!\");\n\t\t\t\t},\n\t\t\t\tasync: false\n\t\t\t});\n\n\t\t},\n\t\tvalidateInputHead: function(oEvent) {\n\t\t\tvar bInputValid = Util.validateInputFields(this);\n\t\t\treturn bInputValid;\n\t\t},\n\n\t\tonAddItem: function(oEvent) {\n\t\t\tvar oRouter = sap.ui.core.UIComponent.getRouterFor(this);\n\t\t\toRouter.navTo(\"edititem\", {\n\t\t\t\t\"id\": \"new\"\n\t\t\t}, false);\n\t\t},\n\n\t\t_onRouteMatched: function(oEvent) {\n\t\t\tthis.setscreen(this.getOwnerComponent()._status);\n\t\t\tthis.getView().setModel(this.getView().getModel(\"FYSQMODEL\"));\n\t\t\tvar oArgs, oView;\n\t\t\toArgs = oEvent.getParameter(\"arguments\");\n\t\t\tthis._id = oArgs.id;\n\n\t\t\tvar data = {};\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\n\n\t\t\tif (oArgs.id === undefined) {\n\t\t\t\t//if (oArgs.id == \"new\") {\n\t\t\t\tthis.setscreen(\"\");\n\t\t\t\tif (!sap.ui.getCore().AppContext) {\n\t\t\t\t\tsap.ui.getCore().AppContext = new Object();\n\t\t\t\t}\n\t\t\t\tif (!sap.ui.getCore().AppContext.shbzfysq) {\n\t\t\t\t\tsap.ui.getCore().AppContext.shbzfysq = new Object();\n\t\t\t\t}\n\n\t\t\t\tif (sap.ui.getCore().AppContext.shbzfysq.haveNewItem) {\n\t\t\t\t\tsap.ui.getCore().AppContext.shbzfysq.haveNewItem = false;\n\n\t\t\t\t\tvar model_edit = this.getView().getModel(\"model_edit\");\n\t\t\t\t\tvar data = model_edit.oData;\n\t\t\t\t\tif (data.ItemCount === undefined) {\n\t\t\t\t\t\tdata.ItemCount = 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdata.ItemCount = data.ItemCount + 1;\n\t\t\t\t\t}\n\t\t\t\t\tsap.ui.getCore().AppContext.shbzfysq.Item.NO = data.ItemCount;\n\t\t\t\t\tsap.ui.getCore().AppContext.shbzfysq.Item.AMOUNT = Formatter.FloatFormat(sap.ui.getCore().AppContext.shbzfysq.Item.AMOUNT);\n\t\t\t\t\tdata.Item.push(sap.ui.getCore().AppContext.shbzfysq.Item);\n\n\t\t\t\t\tvar amount = parseFloat(sap.ui.getCore().AppContext.shbzfysq.Item.AMOUNT);\n\t\t\t\t\tvar amountsum = parseFloat(data.AMOUNTSUM) + amount;\n\t\t\t\t\tdata.AMOUNTSUM = Formatter.FloatFormat(amountsum);\n\t\t\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\n\t\t\t\t\tthis.getView().getModel(\"model_edit\").refresh(true);\n\t\t\t\t} else if (sap.ui.getCore().AppContext.shbzfysq.haveUpdateItem) {\n\t\t\t\t\t//TODO\n\t\t\t\t\t//var data = sap.ui.getCore().AppContext.Item;\n\n\t\t\t\t\t//sap.ui.getCore().AppContext.haveUpdateItem = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.prepareNewData(this);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.getData(this);\n\t\t\t};\n\t\t\t//\tconsole.info(oArgs.id);\n\t\t\t//this._toPage(oArgs.id);\n\t\t\tUtil.debug(\"\");\n\t\t},\n\t\t//add by ymz s\n\t\tsetscreen: function(status, sdata) {\n\t\t\tvar that = this;\n\t\t\tif (this.getOwnerComponent().getModel(\"CONTROL\") && this.getOwnerComponent().getModel(\"CONTROL\").getProperty(\"/control\") === 'AL') {\n\t\t\t\tstatus = 'C';\n\t\t\t};\n\t\t\tif (status === \"A\" || status === \"\" || status === undefined || status === \"D\" || status === \"R\") {\n\t\t\t\t//起草\n\t\t\t\tif (sdata !== undefined) {\n\t\t\t\t\tif (sdata === \"\") {\n\t\t\t\t\t\tthis.getView().byId(\"IP_BUKRS\").setEditable(false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar sViewinfor = [];\n\t\t\t\t//this.addfiledcontrol(sViewinfor, 'view_Edit_RECEIPT_CODE', null, null, true);\n\t\t\t\t//this.addfiledcontrol(sViewinfor, 'view_Edit_SNAME', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'view_Edit_PROPOSER', null, null, true);\n\t\t\t\t//this.addfiledcontrol(sViewinfor, 'view_Edit_REDATE', null, null, true);\n\t\t\t\t//this.addfiledcontrol(sViewinfor, 'view_Edit_BUTXT', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'view_Edit_PROPOSER_KOSTL', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'view_Edit_AMOUNTSUM', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'view_Edit_PROPOSER_PRCTR', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'view_Edit_AUFNR', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'view_Edit_ETDSC', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'view_Edit_TELNUM', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'view_Edit_ACCOUNTFOR', null, null, true);\n\t\t\t\t// for buttom\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'fileUploader', true, null, null);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'fileUpload_delete', true, null, null);\n\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'view_Edit_save', true, null, null);\n\t\t\t\t// this.addfiledcontrol(sViewinfor, 'view_Edit_submit', true, null, null);\n\n\t\t\t\tfor (var i = 0; i < sViewinfor.length; i++) {\n\t\t\t\t\tif (sViewinfor[i].visible !== null) {\n\t\t\t\t\t\tthis.getView().byId(sViewinfor[i].element).setVisible(sViewinfor[i].visible);\n\t\t\t\t\t}\n\t\t\t\t\tif (sViewinfor[i].enable !== null) {\n\t\t\t\t\t\tthis.getView().byId(sViewinfor[i].element).setEnabled(sViewinfor[i].enable);\n\t\t\t\t\t}\n\t\t\t\t\tif (sViewinfor[i].editable !== null) {\n\t\t\t\t\t\tthis.getView().byId(sViewinfor[i].element).setEditable(sViewinfor[i].editable);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tif (this.getView().byId(\"SQPAGE\")) {\n\t\t\t\t\tthis.getView().byId(\"SQPAGE\").setShowFooter(true);\n\t\t\t\t}\n\n\t\t\t\t//未保存过时\n\t\t\t\tif (status === \"\" || status === undefined) {\n\t\t\t\t\tthis.addfiledcontrol(sViewinfor, 'view_Edit_submit', true, false, null);\n\t\t\t\t} else {\n\t\t\t\t\tthis.addfiledcontrol(sViewinfor, 'view_Edit_submit', true, true, null);\n\t\t\t\t};\n\n\t\t\t\tdebugger;\n\t\t\t} else if (status === \"C\" || status === \"E\") {\n\t\t\t\tthis.getView().byId(\"fileUploader\").setVisible(false);\n\t\t\t\tvar elements = that.getView().findElements(true);\n\t\t\t\tfor (var i = 0; i < elements.length; i++) {\n\t\t\t\t\tif (elements[i].getMetadata().getName() === \"sap.m.MultiInput\" || elements[i].getMetadata().getName() === \"sap.m.Input\" ||\n\t\t\t\t\t\telements[i].getMetadata().getName() === \"sap.m.TextArea\" || elements[i].getMetadata().getName() === \"sap.m.DatePicker\") {\n\t\t\t\t\t\telements[i].setEditable(false);\n\t\t\t\t\t}\n\t\t\t\t\tif (elements[i].getMetadata().getName() === \"sap.m.Button\") {\n\t\t\t\t\t\telements[i].setVisible(false);\n\t\t\t\t\t}\n\t\t\t\t\tif (elements[i].getMetadata().getName() === \"sap.m.Page\") {\n\t\t\t\t\t\telements[i].setShowFooter(false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\taddfiledcontrol: function(sViewinfor, selement, svisible, senable, seditable) {\n\t\t\tvar wa = {\n\t\t\t\telement: selement,\n\t\t\t\tvisible: svisible,\n\t\t\t\tenable: senable,\n\t\t\t\teditable: seditable,\n\t\t\t};\n\t\t\tsViewinfor.splice(0, 0, wa);\n\t\t\treturn sViewinfor;\n\t\t},\n\t\t//add by ymz e\n\t\t_toPage: function(key) {\n\n\t\t},\n\t\t//import\n\t\tonCancelPressed: function() {\n\t\t\tvar oRouter = sap.ui.core.UIComponent.getRouterFor(this);\n\t\t\toRouter.navTo(\"homefysq\", {}, false);\n\t\t},\n\n\t\tonBeforeRendering: function() {\n\n\t\t},\n\t\tgetData: function(that) {\n\t\t\tvar spath = \"/HEADERSAVESet('\" + that._id + \"')\";\n\t\t\tthat.getView().bindElement({\n\t\t\t\tpath: spath,\n\t\t\t\tevents: {\n\t\t\t\t\tdataRequested: function() {\n\t\t\t\t\t\tUtil.debug(\"dataRequested\");\n\t\t\t\t\t},\n\t\t\t\t\tdataReceived: function(oData, response) {\n\t\t\t\t\t\tvar model = oData.getParameters();\n\t\t\t\t\t\tvar Recode = model.data.Recode;\n\t\t\t\t\t\tthat.getFiles(that, Recode);\n\t\t\t\t\t\t// if (model.data.Spzt === \"A\" || model.data.Spzt === \"D\" || model.data.Spzt === \"R\") {\n\t\t\t\t\t\t// \tthat.getView().byId(\"view_Edit_save\").setEnabled(true);\n\t\t\t\t\t\t// \tthat.getView().byId(\"view_Edit_submit\").setEnabled(true);\n\t\t\t\t\t\t// } else {\n\t\t\t\t\t\t// \tthat.getView().byId(\"view_Edit_save\").setEnabled(false);\n\t\t\t\t\t\t// \tthat.getView().byId(\"view_Edit_submit\").setEnabled(false);\n\t\t\t\t\t\t// }\n\t\t\t\t\t\tif (sap.ui.getCore().AppContext.Apps === \"Todolist\") {\n\t\t\t\t\t\t\t// that.getView().byId(\"view_Edit_save\").setVisible(false);\n\t\t\t\t\t\t\t// that.getView().byId(\"view_Edit_submit\").setVisible(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthat.setscreen(model.data.Spzt, model.data.Btmark);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (this.getView().getBindingContext() !== undefined) {\n\t\t\t\t// var model = this.getView().getBindingContext().getProperty();\n\t\t\t\t// if (model.Spzt === \"A\" || model.Spzt === \"D\" || model.Spzt === \"R\") {\n\t\t\t\t// \tthat.getView().byId(\"view_Edit_save\").setEnabled(true);\n\t\t\t\t// \tthat.getView().byId(\"view_Edit_submit\").setEnabled(true);\n\t\t\t\t// } else {\n\t\t\t\t// \tthat.getView().byId(\"view_Edit_save\").setEnabled(false);\n\t\t\t\t// \tthat.getView().byId(\"view_Edit_submit\").setEnabled(false);\n\t\t\t\t// }\n\t\t\t}\n\n\t\t},\n\n\t\t//公司\n\t\tonShowBUKRS: function(oEvent) {\n\t\t\t// DialogCostConHelp\n\t\t\tvar that = this;\n\t\t\tif (!that.oDialogBukrs) {\n\t\t\t\tthat.oDialogBukrs = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogBukrs\", that);\n\t\t\t\tthat.getView().addDependent(that.oDialogBukrs);\n\t\t\t}\n\t\t\tthat.oDialogBukrs.open();\n\t\t\tthis._onSearchBurks(oEvent);\n\t\t},\n\n\t\t_onSearchBurks: function(oEvent) {\n\t\t\tvar Dkkd = \"SQ\";\n\t\t\tif (oEvent === undefined) {\n\t\t\t\tvar value = \"\";\n\t\t\t} else {\n\t\t\t\tvar value = oEvent.getParameter(\"query\");\n\t\t\t}\n\t\t\tvar loc = location.href.toLowerCase();\n\t\t\tif (loc.indexOf(\"fiorilaunchpad.html\") > 0) {\n\t\t\t\tthis.getOwnerComponent()._userid = sap.ushell.Container.getService(\"UserInfo\").getId();\n\t\t\t} else {\n\t\t\t\tthis.getOwnerComponent()._userid = \"ZZLIYJ\";\n\t\t\t};\n\t\t\tvar userid = this.getOwnerComponent()._userid;\n\t\t\tvar sPath = \"/T001Set?$filter=Userid  eq '\" + userid + \"' and Dkkd eq '\" + Dkkd + \"'\";\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\n\t\t\tUtil.setBusy(true);\n\t\t\tvar that = this;\n\t\t\toDataModel.read(sPath, {\n\t\t\t\tsuccess: function(oData, response) {\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\n\t\t\t\t\tthat.getView().setModel(model, \"model_BUKRS\");\n\t\t\t\t\t//按条件搜索\n\t\t\t\t\tvar obj = {\n\t\t\t\t\t\tid: \"Burklists\",\n\t\t\t\t\t\tparams: [\"Bxbukrs\", \"Butxt\"],\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t};\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\n\t\t\t\t\t//关闭Busy等待\n\t\t\t\t\tthat.setBusy(false);\n\t\t\t\t},\n\t\t\t\terror: function(oError) {\n\t\t\t\t\tMessageToast.show(\"get TaxcodeSet error!\");\n\t\t\t\t\tUtil.setBusy(false);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tonCancelBukrsSelects: function() {\n\t\t\tthis.oDialogBukrs.close();\n\t\t}\n\t});\n});",
		"sh/bz/common/common/controller/BaseController.js": "sap.ui.define([\r\n\t\"sap/ui/core/mvc/Controller\",\r\n\t\"sap/ui/core/routing/History\",\r\n\t\"sap/m/MessageToast\",\r\n\t\"sh/bz/common/controller/Util\",\r\n\t\"sap/ui/core/BusyIndicator\",\r\n\t\"sh/bz/common/controller/Base64\",\r\n\t\"sh/bz/common/controller/Formatter\",\r\n\t\"sap/ui/unified/FileUploaderParameter\",\r\n\t\"sap/ui/Device\"\r\n], function(Controller, History, MessageToast, Util, BusyIndicator, Base64, Formatter, FileUploaderParameter, Device) {\r\n\t\"use strict\";\r\n\treturn Controller.extend(\"sh.bz.common.controller.BaseController\", {\r\n\t\t//翻页相关参数\r\n\t\trowsOfOnePage: 10,\r\n\t\trowsCount: 0,\r\n\t\tpageCount: 1,\r\n\t\tpageNumber: 1,\r\n\t\tpageinfo: null,\r\n\r\n\t\tformatter: Formatter,\r\n\r\n\t\tonInit: function() {\r\n\t\t\tjQuery.sap.require(\"sap.m.MessageToast\");\r\n\t\t},\r\n\r\n\t\ttoFirstPage: function(data_all) {\r\n\t\t\t//var data_all = this.getView().getModel(\"model_data_all\").oData;\r\n\t\t\tvar rowsOfOnePage = this.rowsOfOnePage; //获取每页展示数量\r\n\t\t\tvar model_data_all_temp = [];\r\n\t\t\t//需要展示的data\r\n\t\t\tfor (var i = 0;\r\n\t\t\t\t(i < rowsOfOnePage) && (i < data_all.results.length); i++) {\r\n\t\t\t\tdata_all.results[i].NO = i + 1;\r\n\t\t\t\tmodel_data_all_temp.push(data_all.results[i]);\r\n\t\t\t}\r\n\t\t\t//获取需要展示的data\r\n\t\t\tvar data = {\r\n\t\t\t\tresults: model_data_all_temp\r\n\t\t\t};\r\n\t\t\tvar Count = Math.ceil(data_all.results.length / rowsOfOnePage);\r\n\t\t\t//获取分页数量\r\n\t\t\tvar pageinfo = {\r\n\t\t\t\tpageCount: Count,\r\n\t\t\t\tpageNumber: 1,\r\n\t\t\t\tlimitCount: rowsOfOnePage,\r\n\t\t\t\tallpage: data_all.results.length\r\n\t\t\t};\r\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(pageinfo), \"pageinfo\");\r\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_data\");\r\n\t\t},\r\n\r\n\t\t//向上\r\n\t\tprePage: function() {\r\n\t\t\t//后台获取的总数据\r\n\t\t\tvar all_data = this.getView().getModel(\"model_data_all\").oData;\r\n\t\t\t//获取点击业当前的数据\r\n\t\t\tvar currentcount = this.getView().getModel(\"pageinfo\").oData;\r\n\t\t\tif (currentcount.pageNumber > 1) {\r\n\t\t\t\tvar future_pageNumber = currentcount.pageNumber - 1; //未来的值\r\n\t\t\t\tvar pageinfo = {\r\n\t\t\t\t\tpageCount: currentcount.pageCount,\r\n\t\t\t\t\tpageNumber: future_pageNumber,\r\n\t\t\t\t\tlimitCount: currentcount.limitCount,\r\n\t\t\t\t\tallpage: currentcount.allpage\r\n\t\t\t\t};\r\n\t\t\t\t//改变的pageinfo\r\n\t\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(pageinfo), \"pageinfo\");\r\n\t\t\t\tvar allselectlength = future_pageNumber * currentcount.limitCount; //需要截取的length\r\n\t\t\t\tvar allselect = all_data.results.slice(0, allselectlength);\r\n\t\t\t\tvar deletelength = (future_pageNumber - 1) * currentcount.limitCount; //需要删除的length\r\n\t\t\t\tallselect.splice(0, deletelength);\r\n\t\t\t\tvar num = (pageinfo.pageNumber - 1)*pageinfo.limitCount;\r\n\t\t\t\tvar data_temp = [];\r\n\t\t\t\tfor (var i = 0; i < allselect.length; i++) {\r\n\t\t\t\t\tallselect[i].NO = num + 1;\r\n\t\t\t\t\tvar num = allselect[i].NO;\r\n\t\t\t\t\tdata_temp.push(allselect[i]);\r\n\t\t\t\t}\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tresults: data_temp\r\n\t\t\t\t};\r\n\t\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_data\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//向下翻页相关  11.15\r\n\t\tnextPage: function() {\r\n\t\t\tvar currentcount = this.getView().getModel(\"pageinfo\").oData;\r\n\t\t\tvar all_data = this.getView().getModel(\"model_data_all\").oData;\r\n\t\t\tif (currentcount.pageNumber < currentcount.pageCount) {\r\n\t\t\t\tvar future_pageNumber = currentcount.pageNumber + 1; //当前页数  1->2\r\n\t\t\t\tvar pageinfo = {\r\n\t\t\t\t\tpageCount: currentcount.pageCount, //3\r\n\t\t\t\t\tpageNumber: future_pageNumber, //2\r\n\t\t\t\t\tlimitCount: currentcount.limitCount, //2\r\n\t\t\t\t\tallpage: currentcount.allpage\r\n\t\t\t\t};\r\n\t\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(pageinfo), \"pageinfo\");\r\n\t\t\t\tvar allselectlength = future_pageNumber * currentcount.limitCount; //需要截取的length\r\n\t\t\t\tvar allselect = all_data.results.slice(0, allselectlength);\r\n\t\t\t\tvar deletelength = (future_pageNumber - 1) * currentcount.limitCount; //需要删除的length\r\n\t\t\t\tallselect.splice(0, deletelength);\r\n\t\t\t\tvar num = (pageinfo.pageNumber - 1)*pageinfo.limitCount;\r\n\t\t\t\t//加入序号\r\n\t\t\t\tvar data_temp = [];\r\n\t\t\t\tfor (var i = 0; i < allselect.length; i++) {\r\n\t\t\t\t\tallselect[i].NO = num + 1;\r\n\t\t\t\t\tvar num = allselect[i].NO;\r\n\t\t\t\t\tdata_temp.push(allselect[i]);\r\n\t\t\t\t}\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tresults: data_temp\r\n\t\t\t\t};\r\n\t\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_data\");\r\n\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//分页处理公用\r\n\t\tpagedcomputing: function() {\r\n\r\n\t\t},\r\n\r\n\t\tonClearValueState: function(oEvent) {\r\n\t\t\tUtil.onClearValueState(oEvent);\r\n\t\t},\r\n\r\n\t\tgoHome: function() {\r\n\t\t\tvar oRouter = sap.ui.core.UIComponent.getRouterFor(this);\r\n\t\t\toRouter.navTo(\"home\", {}, false);\r\n\r\n\t\t},\r\n\r\n\t\tgoHomeTodoList: function() {\r\n\t\t\tvar oRouter = sap.ui.core.UIComponent.getRouterFor(this);\r\n\t\t\toRouter.navTo(\"hometodolist\", {}, false); //false have history\r\n\r\n\t\t},\r\n\r\n\t\tgoHomeDJCX: function() {\r\n\t\t\tvar oRouter = sap.ui.core.UIComponent.getRouterFor(this);\r\n\t\t\toRouter.navTo(\"homedjcx\", {}, false); //false have history\t\r\n\t\t},\r\n\r\n\t\tgoHomeFYSQ: function() {\r\n\t\t\tvar oRouter = sap.ui.core.UIComponent.getRouterFor(this);\r\n\t\t\toRouter.navTo(\"homefysq\", {}, false); //false have history\t\r\n\t\t},\r\n\r\n\t\tgoBack: function() {\r\n\t\t\tvar oHistory, sPreviousHash;\r\n\t\t\toHistory = History.getInstance();\r\n\t\t\tsPreviousHash = oHistory.getPreviousHash();\r\n\t\t\tif (sPreviousHash !== undefined) {\r\n\t\t\t\twindow.history.go(-1);\r\n\t\t\t} else {\r\n\t\t\t\tvar oRouter = sap.ui.core.UIComponent.getRouterFor(this);\r\n\r\n\t\t\t\toRouter.navTo(\"home\", {}, false /*have history*/ );\r\n\t\t\t}\r\n\t\t},\r\n\t\t//申请人打开\r\n\t\tonShowPROPOSERHelp: function(oEvent) {\r\n\t\t\tUtil.onShowPROPOSERHelp(oEvent, this);\r\n\t\t},\r\n\t\t//申请人搜索\r\n\t\tonSearchPROPOSE: function(oEvent) {\r\n\t\t\tUtil.onSearchPROPOSE(oEvent, this);\r\n\t\t},\r\n\t\t//申请人关闭\r\n\t\tonCancelNameSelect: function(oEvent) {\r\n\t\t\tvar data = {};\r\n\t\t\tvar model = [];\r\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_PROPOSER\");\r\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_search\");\r\n\t\t\tthis.oDialogCostCenterHelpName.close();\r\n\t\t},\r\n\t\t//部门打开\r\n\t\tonShowCostPartHelp: function(oEvent) {\r\n\t\t\tUtil.onShowCostPartHelp(oEvent, this);\r\n\t\t\tthis.onSearchPROPOSER_KOSTL(oEvent,this);\r\n\t\t},\r\n\t\t//部门搜索\r\n\t\tonSearchPROPOSER_KOSTL: function(oEvent) {\r\n\t\t\tUtil.onSearchPROPOSER_KOSTL(oEvent, this);\r\n\t\t},\r\n\r\n\t\t//部门关闭\r\n\t\tonCancelPartSelect: function(oEvent) {\r\n\t\t\tvar data = {};\r\n\t\t\tvar model = [];\r\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_PROPOSER_KOSTL\");\r\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_search\");\r\n\t\t\tthis.oDialogCostPartHelp.close();\r\n\t\t},\r\n\t\t// //费用类型打开\r\n\t\t// onShowEtdscHelp: function(oEvent) {\r\n\t\t// \tUtil.onShowEtdscHelp(oEvent, this);\r\n\t\t// },\r\n\r\n\t\t//close 费用类型\r\n\t\tonCancelEtdscSelect: function(oEvent) {\r\n\t\t\tvar data = {};\r\n\t\t\tvar model = [];\r\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_Etdsc\");\r\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_search\");\r\n\t\t\tthis.oDialogEtdscHelp.close();\r\n\t\t},\r\n\r\n\t\t//利润中心打开\r\n\t\tonShowCostCenterHelp: function(oEvent) {\r\n\t\t\tUtil.onShowCostCenterHelp(oEvent, this);\r\n\t\t},\r\n\t\t//利润中心搜索\r\n\t\tonSearchPROPOSER_PRCTR: function(oEvent) {\r\n\t\t\tUtil.onSearchPROPOSER_PRCTR(oEvent, this);\r\n\t\t},\r\n\t\t//利润中心搜索关闭\r\n\t\tonCancelCenterSelect: function(oEvent) {\r\n\t\t\tvar data = {};\r\n\t\t\tvar model = [];\r\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_PROPOSER_PRCTR\");\r\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_search\");\r\n\t\t\tthis.oDialogCostCenterHelp.close();\r\n\t\t},\r\n\r\n\t\t//订单打开\r\n\t\tonShowAufnrHelp: function(oEvent) {\r\n\t\t\tUtil.onShowAufnrHelp(oEvent, this);\r\n\t\t},\r\n\r\n\t\t//订单搜索\r\n\t\tonSearchAufnr: function(oEvent) {\r\n\t\t\tUtil.onSearchAufnr(oEvent, this);\r\n\t\t},\r\n\r\n\t\t//订单关闭\r\n\t\tonCancelAufnrSelect: function() {\r\n\t\t\tvar data = {};\r\n\t\t\tvar model = [];\r\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_Aufnr\");\r\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_search\");\r\n\t\t\tthis.oDialogAufnrHelp.close();\r\n\t\t},\r\n\r\n\t\t//付款方式1 打开\r\n\t\tonShowZlschTHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogZlschHelp) {\r\n\t\t\t\tthat.oDialogZlschHelp = sap.ui.xmlfragment(that.getView().getId(), \"sh.bz.common.fragment.DialogZlschHelp\", that.getView().getController());\r\n\t\t\t\tthat.getView().addDependent(that.oDialogZlschHelp);\r\n\t\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROJKD_SRV/\", true);\r\n\r\n\t\t\t\tvar spath = \"/T042ZTSet\";\r\n\t\t\t\tthat.oDialogZlschHelp.setModel(oDataModel);\r\n\t\t\t\tthat.oDialogZlschHelp.bindElement({\r\n\t\t\t\t\t//change: this._onBindingChange.bind(this),\r\n\t\t\t\t\tpath: spath,\r\n\t\t\t\t\tevents: {\r\n\t\t\t\t\t\tdataRequested: function() {\r\n\t\t\t\t\t\t\tUtil.debug(\"dataRequested\");\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdataReceived: function() {\r\n\t\t\t\t\t\t\tUtil.debug(\"dataReceived\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t//that.oDialogZlschHelp.setModel(that.getView().getModel());\r\n\t\t\t} else {\r\n\t\t\t\tthis.getView().byId(\"zlschlist\").getBinding(\"items\").filter([]);\r\n\t\t\t}\r\n\r\n\t\t\tthat.oDialogZlschHelp.open();\r\n\t\t},\r\n\r\n\t\t//付款方式2 窗口 中点击 搜索按钮\r\n\t\tonSearchZlsch: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tvar value = oEvent.getParameter(\"query\");\r\n\t\t\tif (!/^[\\u4e00-\\u9fa5]/.test(value)) {\r\n\t\t\t\tvar oFilter1 = new sap.ui.model.Filter(\"Zlsch\", sap.ui.model.FilterOperator.Contains, value);\r\n\t\t\t\tthis.getView().byId(\"zlschlist\").getBinding(\"items\").filter([oFilter1]);\r\n\t\t\t} else {\r\n\t\t\t\tvar oFilter2 = new sap.ui.model.Filter(\"Text2\", sap.ui.model.FilterOperator.Contains, value);\r\n\t\t\t\tthis.getView().byId(\"zlschlist\").getBinding(\"items\").filter([oFilter2]);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//付款方式4 关闭 窗口\r\n\t\tonCancelZlschSelect: function(oEvent) {\r\n\t\t\tthis.oDialogZlschHelp.close();\r\n\t\t},\r\n\r\n\t\t//货币1 打开\r\n\t\tonShowWaersHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogWaersHelp) {\r\n\t\t\t\tthat.oDialogWaersHelp = sap.ui.xmlfragment(that.getView().getId(), \"sh.bz.common.fragment.DialogWaersHelp\", that.getView().getController());\r\n\t\t\t\tthat.getView().addDependent(that.oDialogWaersHelp);\r\n\t\t\t\tvar spath = \"/WAERSSet\";\r\n\t\t\t\tthat.oDialogWaersHelp.bindElement({\r\n\t\t\t\t\t//change: this._onBindingChange.bind(this),\r\n\t\t\t\t\tpath: spath,\r\n\t\t\t\t\tevents: {\r\n\t\t\t\t\t\tdataRequested: function() {\r\n\t\t\t\t\t\t\tUtil.debug(\"dataRequested\");\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdataReceived: function() {\r\n\t\t\t\t\t\t\tUtil.debug(\"dataReceived\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthat.oDialogWaersHelp.setModel(that.getView().getModel());\r\n\t\t\t} else {\r\n\t\t\t\tthat.getView().byId(\"waerslist\").getBinding(\"items\").filter([]);\r\n\t\t\t}\r\n\r\n\t\t\tthat.oDialogWaersHelp.open();\r\n\t\t},\r\n\r\n\t\t//货币2 搜索\r\n\t\tonSearchWaers: function(oEvent) {\r\n\t\t\tvar sQuery = oEvent.getParameter(\"query\");\r\n\t\t\tvar of1 = new sap.ui.model.Filter(\"Waers\", sap.ui.model.FilterOperator.Contains, sQuery);\r\n\t\t\tvar of2 = new sap.ui.model.Filter(\"Ktext\", sap.ui.model.FilterOperator.Contains, sQuery);\r\n\t\t\tif (sQuery) {\r\n\t\t\t\tvar ofilter = new sap.ui.model.Filter({\r\n\t\t\t\t\t\"filters\": [of1, of2],\r\n\t\t\t\t\t\"or\": true //and \r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tofilter = [];\r\n\t\t\t};\r\n\t\t\t//this._applyFilterSearch();\r\n\t\t\tvar oView = this.getView();\r\n\t\t\tvar oList = oView.byId(\"waerslist\");\r\n\t\t\toList.getBinding(\"items\").filter(ofilter);\r\n\t\t},\r\n\r\n\t\t//货币4 关闭\r\n\t\tonCancelWaersSelect: function(oEvent) {\r\n\t\t\tthis.oDialogWaersHelp.close();\r\n\t\t},\r\n\r\n\t\t//设置BUSY\r\n\t\t// setBusy: function(busy) {\r\n\t\t// \tjQuery.sap.require(\"sap.ui.core.BusyIndicator\");\r\n\t\t// \tbusy ? BusyIndicator.show(0) : BusyIndicator.hide();\r\n\t\t// }\r\n\r\n\t\t/**\r\n\t\t * Convenience method for accessing the router.\r\n\t\t * @public\r\n\t\t * @returns {sap.ui.core.routing.Router} the router for this component\r\n\t\t */\r\n\t\tgetRouter: function() {\r\n\t\t\treturn sap.ui.core.UIComponent.getRouterFor(this);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Convenience method for getting the view model by name.\r\n\t\t * @public\r\n\t\t * @param {string} [sName] the model name\r\n\t\t * @returns {sap.ui.model.Model} the model instance\r\n\t\t */\r\n\t\tgetModel: function(sName) {\r\n\t\t\treturn this.getView().getModel(sName);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Convenience method for setting the view model.\r\n\t\t * @public\r\n\t\t * @param {sap.ui.model.Model} oModel the model instance\r\n\t\t * @param {string} sName the model name\r\n\t\t * @returns {sap.ui.mvc.View} the view instance\r\n\t\t */\r\n\t\tsetModel: function(oModel, sName) {\r\n\t\t\treturn this.getView().setModel(oModel, sName);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Getter for the resource bundle.\r\n\t\t * @public\r\n\t\t * @returns {sap.ui.model.resource.ResourceModel} the resourceModel of the component\r\n\t\t */\r\n\t\tgetResourceBundle: function() {\r\n\t\t\treturn this.getOwnerComponent().getModel(\"i18n\").getResourceBundle();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Event handler when the share by E-Mail button has been clicked\r\n\t\t * @public\r\n\t\t */\r\n\t\tonShareEmailPress: function() {\r\n\t\t\tvar oViewModel = (this.getModel(\"objectView\") || this.getModel(\"worklistView\"));\r\n\t\t\tsap.m.URLHelper.triggerEmail(\r\n\t\t\t\tnull,\r\n\t\t\t\t// oViewModel.getProperty(\"/shareSendEmailSubject\"),\r\n\t\t\t\toViewModel.getProperty(\"/shareSendEmailMessage\")\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\t//以下为定制方法\r\n\t\tgetDomid: function(that, viewid, controlid) {\r\n\t\t\tvar ownerId = that.getView()._sOwnerId,\r\n\t\t\t\trootId = that.getOwnerComponent().getManifestEntry(\"sap.ui5\").rootView.id,\r\n\t\t\t\trealId = ownerId + \"---\" + viewid + \"---\" + controlid;\r\n\t\t\treturn realId;\r\n\t\t},\r\n\t\tgetDomref: function(that, viewid, controlid) {\r\n\t\t\tvar allpages = that.getView().getParent().getPages();\r\n\t\t\tfor (var i = 0; i < allpages.length; i++) {\r\n\t\t\t\tif (allpages[i].sViewName == viewid) {\r\n\t\t\t\t\tvar oHomeView = allpages[i];\r\n\t\t\t\t\tvar otable = oHomeView.byId(controlid);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\"control\": otable,\r\n\t\t\t\t\t\t\"view\": oHomeView\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetBusy: function(busy) {\r\n\t\t\tjQuery.sap.require(\"sap.ui.core.BusyIndicator\");\r\n\t\t\tbusy ? BusyIndicator.show(0) : BusyIndicator.hide();\r\n\t\t},\r\n\r\n\t\tshowMessageall: function(type, title, text) {},\r\n\r\n\t\t// 清除校验错误提示 all\r\n\t\tclearErrorSateAll: function(that) {\r\n\t\t\tUtil.debug(\"clearErrorSateAll.....\");\r\n\t\t\tvar elements = that.getView().findElements(true);\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tif ((elements[i].getMetadata().getName() == \"sap.m.Input\") || (elements[i].getMetadata().getName() == \"sap.m.MultiInput\")) {\r\n\t\t\t\t\telements[i].setValueState(\"None\");;\r\n\t\t\t\t\telements[i].setValueStateText(\"\");;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// 校验数据 是否为空\r\n\t\tinputCheck: function(inputs) {\r\n\r\n\t\t\tvar canContinue = true;\r\n\r\n\t\t\tjQuery.each(inputs, function(i, input) {\r\n\r\n\t\t\t\tvar value = input.getValue().replace(/^\\s+|\\s+$/g, \"\");\r\n\t\t\t\tif ((!value) || (value === \"|\")) {\r\n\t\t\t\t\tinput.setValueState(\"Error\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//input.setValueState(\"Success\");\r\n\t\t\t\t\tinput.setValueState(\"None\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tjQuery.each(inputs, function(i, input) {\r\n\t\t\t\tif (\"Error\" === input.getValueState()) {\r\n\t\t\t\t\tcanContinue = false;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn canContinue;\r\n\t\t},\r\n\r\n\t\t/*\r\n\t\t * 验证表单 参数oEvent, that, objs\r\n\t\t * obj = [{ \r\n\t\t *      idStr: \"idStr\", // input绑定id\r\n\t\t *      reg: /^$/, // input验证正则\r\n\t\t *      msg: \"msg\", // 报错提示内容\r\n\t\t *  \tvalidNull: boolean  //是否验证必填\r\n\t\t *   }]\r\n\t\t */\r\n\t\tvalidForm: function(oEvent, that, objs) {\r\n\t\t\tvar canContinue = false;\r\n\t\t\tvar view = that.getView();\r\n\t\t\tjQuery.each(objs, function(i, obj) {\r\n\t\t\t\tvar t = view.byId(obj.idStr);\r\n\t\t\t\tif(!t){\r\n\t\t\t\t\tt = sap.ui.getCore().byId(obj.idStr);\r\n\t\t\t\t}\r\n\t\t\t\tvar s = t.getValue().replace(new RegExp(\" \", \"gm\"), \"\");\r\n\t\t\t\tif (obj.validNull && !s) {\r\n\t\t\t\t\tUtil.showError(\"需输入必填字段\");\r\n\t\t\t\t\tt.setValueState(\"Error\");\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\tif (obj.reg && s.match(obj.reg) === null) {\r\n\t\t\t\t\tUtil.showError(obj.msg);\r\n\t\t\t\t\tt.setValueState(\"Error\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tt.setValueState(\"None\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tjQuery.each(objs, function(i, obj) {\r\n\t\t\t\tvar t = view.byId(obj.idStr);\r\n\t\t\t\tif(!t){\r\n\t\t\t\t\tt = sap.ui.getCore().byId(obj.idStr);\r\n\t\t\t\t}\r\n\t\t\t\tif (\"Error\" === t.getValueState()) {\r\n\t\t\t\t\tcanContinue = true;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn canContinue;\r\n\t\t},\r\n\t\t// 通用查询过滤 参数需要传 that=this,obj={'id':\"\",'params':[],'value':\"\"}\r\n\t\tonFilterSearchBase: function(that, obj) {\r\n\t\t\tvar oFilter = [];\r\n\t\t\tif (obj.value && obj.params.length > 0) {\r\n\t\t\t\tvar oFilters = [];\r\n\t\t\t\tfor (var i = 0; i < obj.params.length; i++) {\r\n\t\t\t\t\toFilters.push(new sap.ui.model.Filter(obj.params[i], sap.ui.model.FilterOperator.Contains, obj.value));\r\n\t\t\t\t}\r\n\t\t\t\toFilter = new sap.ui.model.Filter({\r\n\t\t\t\t\t\"filters\": oFilters,\r\n\t\t\t\t\t\"or\": true //and \r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (that.getView().byId(obj.id)) {\r\n\t\t\t\tthat.getView().byId(obj.id).getBinding(\"items\").filter(oFilter);\r\n\t\t\t} else {\r\n\t\t\t\tsap.ui.getCore().byId(obj.id).getBinding(\"items\").filter(oFilter);\r\n\t\t\t}\r\n\t\t},\r\n\t\t//文件上传 1 完成，修改文件列表\r\n\t\thandleUploadComplete: function(oEvent) {\r\n\t\t\tUtil.debug(\"handleUploadComplete begin\");\r\n\t\t\tif (this.getView().getModel(\"model_file\") === undefined)\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tItem: []\r\n\t\t\t\t};\r\n\t\t\telse\r\n\t\t\t\tvar data = this.getView().getModel(\"model_file\").getData();\r\n\t\t\t//https://blogs.sap.com/2014/07/28/upload-image-to-sap-gateway-and-display-image-in-ui5-using-new-fileuploader-with-sap-gateway/\r\n\t\t\t//for (var i = 0; i < oEvent.getSource().FUEl.files.length; i++) {\r\n\t\t\t//var Filename = oEvent.getSource().FUEl.files[i].name;\r\n\t\t\tvar location = oEvent.getParameters().headers.Location;\r\n\t\t\tif (location === undefined) {\r\n\t\t\t\tlocation = oEvent.getParameters().headers.location;\r\n\t\t\t};\r\n\r\n\t\t\tvar URLsplit = location.split('/');\r\n\t\t\tvar host = URLsplit[0] + \"//\" + URLsplit[2] + \"\";\r\n\t\t\tlocation = location.replace(host, '');\r\n\r\n\t\t\tvar file = {\r\n\t\t\t\t\"Filename\": oEvent.getParameters().fileName,\r\n\t\t\t\t\"Location\": location + \"/$value\",\r\n\t\t\t};\r\n\t\t\tdata.Item.push(file);\r\n\r\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_file\");\r\n\t\t\tUtil.debug(\"handleUploadComplete end\");\r\n\t\t\t//oEvent.oSource.oFilePath.mProperties.value\r\n\t\t},\r\n\r\n\t\t//文件上传 2\r\n\t\thandleTypeMissmatch: function(oEvent) {\r\n\t\t\t//TODO\r\n\t\t\tUtil.showError(\"handleTypeMissmatch\");\r\n\r\n\t\t},\r\n\r\n\t\t//文件上传 3\r\n\t\tfileChange: function(oEvent) {\r\n\t\t\tUtil.debug(\"fileChange begin\");\r\n\t\t\tif (oEvent.getParameter(\"files\").length === 0) {\r\n\t\t\t\tUtil.debug(\"no file selected for upload\");\r\n\t\t\t\tUtil.debug(\"fileChange end\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//\r\n\t\t\tvar header = this.getView().getBindingContext().getProperty();\r\n\t\t\tif (header.Recode === \"\" || header.Recode === undefined || header.Recode === \"保存后生成\") {\r\n\t\t\t\t// error\r\n\t\t\t\tUtil.showError(\"请先保存单据\");\r\n\t\t\t\treturn;\r\n\t\t\t};\r\n\r\n\t\t\tvar fileUploader = oEvent.getSource(),\r\n\t\t\t\tfileName = oEvent.getParameter(\"files\")[0].name,\r\n\t\t\t\ttype = oEvent.getParameter(\"files\")[0].type;\r\n\t\t\tUtil.debug(\"fileName \" + fileName);\r\n\t\t\t//urlencode\r\n\t\t\t//fileName = encodeURIComponent(fileName);\r\n\t\t\t//Util.debug(\"url encoded fileName \" + fileName);\r\n\t\t\t//base64 encode\r\n\t\t\tUtil.debug(\"fileName before encode \" + fileName);\r\n\t\t\tfileName = Base64.encode(fileName);\r\n\t\t\tUtil.debug(\"fileName after encode \" + fileName);\r\n\t\t\t//fileName before encode 中文文件111.PNG\r\n\t\t\t//base64 encoded fileName 5Lit5paH5paH5Lu2MTExLlBORw==\r\n\r\n\t\t\tvar oHeaderType = new FileUploaderParameter({\r\n\t\t\t\tname: \"Content-Type\",\r\n\t\t\t\tvalue: type\r\n\t\t\t});\r\n\r\n\t\t\tvar oHeaderSlug = new FileUploaderParameter({\r\n\t\t\t\tname: \"slug\",\r\n\t\t\t\tvalue: fileName\r\n\t\t\t});\r\n\r\n\t\t\tvar that = this;\r\n\t\t\tthis.getView().getModel().refreshSecurityToken(\r\n\t\t\t\tfunction() {\r\n\t\t\t\t\tthat.token = that.getView().getModel().getSecurityToken();\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tvar oHeaderToken = new FileUploaderParameter({\r\n\t\t\t\tname: \"X-CSRF-Token\",\r\n\t\t\t\tvalue: this.token\r\n\t\t\t});\r\n\r\n\t\t\tvar oZmy = new FileUploaderParameter({\r\n\t\t\t\tname: \"ID\",\r\n\t\t\t\tvalue: header.Recode\r\n\t\t\t});\r\n\r\n\t\t\tvar oDkkd = new FileUploaderParameter({\r\n\t\t\t\tname: \"DKKD\",\r\n\t\t\t\tvalue: header.Dkkd\r\n\t\t\t});\r\n\t\t\tUtil.debug(\"header \" + header);\r\n\t\t\tvar oZmy2 = new FileUploaderParameter({\r\n\t\t\t\tname: \"BUKRS\",\r\n\t\t\t\tvalue: header.Bukrs\r\n\t\t\t});\r\n\r\n\t\t\tvar oZmy3 = new FileUploaderParameter({\r\n\t\t\t\tname: \"ORDERTYPE\",\r\n\t\t\t\tvalue: header.Aufnr\r\n\t\t\t});\r\n\t\t\tfileUploader.destroyHeaderParameters();\r\n\t\t\tfileUploader.addHeaderParameter(oHeaderSlug);\r\n\t\t\tfileUploader.addHeaderParameter(oHeaderToken);\r\n\t\t\tfileUploader.addHeaderParameter(oDkkd);\r\n\t\t\tfileUploader.addHeaderParameter(oZmy);\r\n\t\t\tfileUploader.addHeaderParameter(oZmy2);\r\n\t\t\tfileUploader.addHeaderParameter(oZmy3);\r\n\t\t\tfileUploader.setSendXHR(true);\r\n\r\n\t\t\tvar fileUploader = this.getView().byId(\"fileUploader\");\r\n\t\t\tif (!fileUploader.getValue()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tUtil.debug(\"fileChange begin upload\");\r\n\t\t\tfileUploader.upload();\r\n\t\t\tUtil.debug(\"fileChange end upload\");\r\n\t\t\tUtil.debug(\"fileChange end\");\r\n\t\t},\r\n\r\n\t\t//文件上传 4\r\n\t\tgetToken: function() {\r\n\t\t\tvar self = this;\r\n\t\t\tthis.oModel.refreshSecurityToken(function() {\r\n\t\t\t\tself.token = self.oModel.getSecurityToken();\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t//文件上传 5\r\n\t\t//no use anymore\r\n\t\tonDownload: function() {\r\n\t\t\tvar guid = \"0050569C46631ED7B69B8DC9F6DD9123\";\r\n\t\t\tvar encodeUrl = encodeURI(\"/sap/opu/odata/SAP/ZPROJKD_SRV/FjSet(Djfjid='\" + guid + \"')/$value\");\r\n\t\t\tsap.m.URLHelper.redirect(encodeUrl, true);\r\n\t\t},\r\n\r\n\t\t//文件上传 6\r\n\t\tonDeleteFile: function(oEvent) {\r\n\t\t\tvar mFile = this.getView().getModel(\"model_file\");\r\n\t\t\tif (mFile === undefined || mFile.oData.Item.length == 0) {\r\n\t\t\t\tUtil.showInfo(\"没有上传文件\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//读取选中的行的下标（数组）\r\n\t\t\tvar contexts = this.getView().byId(\"JKD_IP_table_file\").getSelectedContexts();\r\n\t\t\tif(contexts.length == 0){\r\n\t\t\t\tUtil.showInfo(\"请选择需要删除的附件信息！\");\r\n\t\t\t\treturn;\t\t\r\n\t\t\t}\r\n\t\t\t//读取选中的行的内容（数组）\r\n\t\t\tvar items = contexts.map(function(c) {\r\n\t\t\t\treturn c.getObject();\r\n\t\t\t});\r\n\t\t\tvar items_Length = items.length;\r\n\t\t\tUtil.debug(JSON.stringify(items));\r\n\r\n\t\t\t//从后台删除选中的数据 TODO\r\n\t\t\tvar bSuccess = true;\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/SAP/ZFYBX_ATTACHMENT_SRV/\", true);\r\n\t\t\tfor (var i = 0; i < items_Length; i++) {\r\n\t\t\t\tvar URLsplit = items[i].Location.split('/');\r\n\t\t\t\tvar sPath = \"/\" + URLsplit[URLsplit.length - 2]; //last one is $value\r\n\t\t\t\toDataModel.remove(sPath, {\r\n\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\tUtil.debug(items[i].Filename + \"删除成功\");\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(error) {\r\n\t\t\t\t\t\tUtil.debug(items[i].Filename + \"删除失败\");\r\n\t\t\t\t\t\tbSuccess = false;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tasync: false //同步访问！\r\n\t\t\t\t});\r\n\t\t\t\t//Util.showInfo(\"文件 \" + items[i].Filename + \" removed\");\r\n\t\t\t}\r\n\r\n\t\t\tif (!bSuccess) {\r\n\t\t\t\tUtil.showError(\"删除失败\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//从原始的数组 删除 选中的数组\r\n\t\t\tvar data = this.getView().getModel(\"model_file\").getData().Item;\r\n\t\t\tfor (var i = 0; i < items.length; i++) {\r\n\t\t\t\tfor (var j = 0; j < data.length; j++) {\r\n\t\t\t\t\tif (data[j] == items[i]) {\r\n\t\t\t\t\t\tdata.splice(j, 1);\r\n\t\t\t\t\t\tj = j - 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t//更新显示\r\n\t\t\tvar model = {\r\n\t\t\t\tItem: data\r\n\t\t\t};\r\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_file\");\r\n\t\t\tUtil.showInfo(\"删除成功\");\r\n\t\t},\r\n\r\n\t\t//付款信息合同号搜索\t\r\n\t\tonShowZzhthHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (that.oDialogZzhthHelp) {\r\n\t\t\t\tthat.oDialogZzhthHelp.destroy();\r\n\t\t\t}\r\n\t\t\tthat.oDialogZzhthHelp = sap.ui.xmlfragment(that.getView().getId(), \"sh.bz.common.fragment.DialogZzhthHelp\", that.getView().getController());\r\n\t\t\tthat.getView().addDependent(that.oDialogZzhthHelp);\r\n\t\t\tvar Bukrs = this.getView().byId('Todo_IP_Bukrs').getValue();\r\n\t\t\tvar sPath = \"/HTHSet?$filter=Bukrs eq '\" + Bukrs + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROCWSP_SRV\", true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Zzhth\");\r\n\t\t\t\t\tUtil.debug(model);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get ZzhthSet error!\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.oDialogZzhthHelp.open();\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzhth: function(oEvent) {\r\n\t\t\tvar value = oEvent.getParameter(\"query\");\r\n\t\t\tvar oFilter1 = new sap.ui.model.Filter(\"Zzhth\", sap.ui.model.FilterOperator.Contains, value);\r\n\t\t\tvar oFilter2 = new sap.ui.model.Filter(\"Zzhthms\", sap.ui.model.FilterOperator.Contains, value);\r\n\t\t\tif (value) {\r\n\t\t\t\tvar ofilter = new sap.ui.model.Filter({\r\n\t\t\t\t\t\"filters\": [oFilter1, oFilter2],\r\n\t\t\t\t\t\"or\": true\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tofilter = [];\r\n\t\t\t}\r\n\t\t\tvar oView = this.getView();\r\n\t\t\tvar oList = oView.byId(\"Zzhthlist\");\r\n\t\t\toList.getBinding(\"items\").filter(ofilter);\r\n\r\n\t\t},\r\n\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelZzhthSelect: function(oEvent) {\r\n\t\t\tthis.oDialogZzhthHelp.close();\r\n\t\t\tthis.getView().getModel(\"model_Zzhth\").setData(null);\r\n\t\t},\r\n\r\n\t\t//原因代码搜索\t\r\n\t\tonShowRstgrHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (that.oDialogRstgrHelp) {\r\n\t\t\t\tthat.oDialogRstgrHelp.destroy();\r\n\t\t\t}\r\n\t\t\tthat.oDialogRstgrHelp = sap.ui.xmlfragment(that.getView().getId(), \"sh.bz.common.fragment.DialogRstgrHelp\", that.getView().getController());\r\n\t\t\tthat.getView().addDependent(that.oDialogRstgrHelp);\r\n\t\t\tvar Bukrs = this.getView().byId('Todo_IP_Bukrs').getValue();\r\n\t\t\tvar sPath = \"/T053SSet?$filter=Bukrs eq '\" + Bukrs + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROCWSP_SRV\", true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Rstgr\");\r\n\t\t\t\t\tUtil.debug(model);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get RstgrSet error!\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.oDialogRstgrHelp.open();\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchRstgr: function(oEvent) {\r\n\t\t\tvar value = oEvent.getParameter(\"query\");\r\n\t\t\tvar oFilter1 = new sap.ui.model.Filter(\"Rstgr\", sap.ui.model.FilterOperator.Contains, value);\r\n\t\t\tvar oFilter2 = new sap.ui.model.Filter(\"Txt20\", sap.ui.model.FilterOperator.Contains, value);\r\n\t\t\tif (value) {\r\n\t\t\t\tvar ofilter = new sap.ui.model.Filter({\r\n\t\t\t\t\t\"filters\": [oFilter1, oFilter2],\r\n\t\t\t\t\t\"or\": true\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tofilter = [];\r\n\t\t\t}\r\n\t\t\tvar oView = this.getView();\r\n\t\t\tvar oList = oView.byId(\"Rstgrlist\");\r\n\t\t\toList.getBinding(\"items\").filter(ofilter);\r\n\r\n\t\t},\r\n\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelRstgrSelect: function(oEvent) {\r\n\t\t\tthis.oDialogRstgrHelp.close();\r\n\t\t\tthis.getView().getModel(\"model_Rstgr\").setData(null);\r\n\t\t},\r\n\r\n\t\t//付款银行名称 \t\r\n\t\tonShowHbkidHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (that.oDialogHbkidHelp) {\r\n\t\t\t\tthat.oDialogHbkidHelp.destroy();\r\n\t\t\t}\r\n\t\t\tthat.oDialogHbkidHelp = sap.ui.xmlfragment(that.getView().getId(), \"sh.bz.common.fragment.DialogHbkidHelp\", that.getView().getController());\r\n\t\t\tthat.getView().addDependent(that.oDialogHbkidHelp);\r\n\t\t\tvar Bukrs = this.getView().byId('Todo_IP_Bukrs').getValue();\r\n\t\t\tvar sPath = \"/T012KSet?$filter=Bukrs eq '\" + Bukrs + \"' \";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROCWSP_SRV\", true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Hbkid\");\r\n\t\t\t\t\tUtil.debug(model);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get HbkidSet error!\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthat.oDialogHbkidHelp.open();\r\n\t\t},\r\n\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchHbkid: function(oEvent) {\r\n\t\t\tvar value = oEvent.getParameter(\"query\");\r\n\t\t\tvar oFilter1 = new sap.ui.model.Filter(\"Hbkid\", sap.ui.model.FilterOperator.Contains, value);\r\n\t\t\tvar oFilter2 = new sap.ui.model.Filter(\"Text1\", sap.ui.model.FilterOperator.Contains, value);\r\n\t\t\tif (value) {\r\n\t\t\t\tvar ofilter = new sap.ui.model.Filter({\r\n\t\t\t\t\t\"filters\": [oFilter1, oFilter2],\r\n\t\t\t\t\t\"or\": true\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tofilter = [];\r\n\t\t\t}\r\n\t\t\tvar oView = this.getView();\r\n\t\t\tvar oList = oView.byId(\"Hbkidlist\");\r\n\t\t\toList.getBinding(\"items\").filter(ofilter);\r\n\t\t},\r\n\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelHbkidSelect: function(oEvent) {\r\n\t\t\tthis.oDialogHbkidHelp.close();\r\n\t\t},\r\n\t\t//付款银行账号 \t\r\n\t\tonShowBanknHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (that.oDialogBanknHelp) {\r\n\t\t\t\tthat.oDialogBanknHelp.destroy();\r\n\t\t\t}\r\n\t\t\tthat.oDialogBanknHelp = sap.ui.xmlfragment(that.getView().getId(), \"sh.bz.common.fragment.DialogBanknHelp\", that.getView().getController());\r\n\t\t\tthat.getView().addDependent(that.oDialogBanknHelp);\r\n\t\t\tvar Bukrs = this.getView().byId('Todo_IP_Bukrs').getValue();\r\n\t\t\tvar Hbkidstr = that.getView().byId('Todo_IP_Hbkid').getValue();\r\n\t\t\tvar arr4 = Hbkidstr.split(\"|\");\r\n\t\t\tvar Hbkid = arr4[0];\r\n\t\t\tvar sPath = \"/T012KSet?$filter=Bukrs eq '\" + Bukrs + \"' and  Hbkid eq '\" + Hbkid + \"'  \";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROCWSP_SRV\", true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Bankn\");\r\n\t\t\t\t\tUtil.debug(model);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get BanknSet error!\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthat.oDialogBanknHelp.open();\r\n\t\t},\r\n\r\n\t\t// 2.搜索\r\n\t\tonSearchBankn: function(oEvent) {\r\n\t\t\tvar value = oEvent.getParameter(\"query\");\r\n\t\t\tvar oFilter1 = new sap.ui.model.Filter(\"Bankn\", sap.ui.model.FilterOperator.Contains, value);\r\n\t\t\tvar oFilter2 = new sap.ui.model.Filter(\"Text1\", sap.ui.model.FilterOperator.Contains, value);\r\n\t\t\tif (value) {\r\n\t\t\t\tvar ofilter = new sap.ui.model.Filter({\r\n\t\t\t\t\t\"filters\": [oFilter1, oFilter2],\r\n\t\t\t\t\t\"or\": true\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tofilter = [];\r\n\t\t\t}\r\n\t\t\tvar oView = this.getView();\r\n\t\t\tvar oList = oView.byId(\"Banknlist\");\r\n\t\t\toList.getBinding(\"items\").filter(ofilter);\r\n\t\t},\r\n\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelBanknSelect: function(oEvent) {\r\n\t\t\tthis.oDialogBanknHelp.close();\r\n\t\t\tthis.getView().getModel(\"model_Bankn\").setData(null);\r\n\t\t},\r\n\r\n\t\t//资金计划项  \t\r\n\t\tonShowZzzjjhHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (that.oDialogZzzjjhHelp) {\r\n\t\t\t\tthat.oDialogZzzjjhHelp.destroy();\r\n\t\t\t}\r\n\t\t\tthat.oDialogZzzjjhHelp = sap.ui.xmlfragment(that.getView().getId(), \"sh.bz.common.fragment.DialogZzzjjhHelp\", that.getView().getController());\r\n\t\t\tthat.getView().addDependent(that.oDialogZzzjjhHelp);\r\n\t\t\tvar sPath = \"/ZJJHXMSet\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROCWSP_SRV\", true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Zzzjjh\");\r\n\t\t\t\t\tUtil.debug(model);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get ZzzjjhSet error!\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.oDialogZzzjjhHelp.open();\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzzjjh: function(oEvent) {\r\n\t\t\tvar value = oEvent.getParameter(\"query\");\r\n\t\t\tvar oFilter1 = new sap.ui.model.Filter(\"Zzzjjh\", sap.ui.model.FilterOperator.Contains, value);\r\n\t\t\tvar oFilter2 = new sap.ui.model.Filter(\"Zzzjjhms\", sap.ui.model.FilterOperator.Contains, value);\r\n\t\t\tif (value) {\r\n\t\t\t\tvar ofilter = new sap.ui.model.Filter({\r\n\t\t\t\t\t\"filters\": [oFilter1, oFilter2],\r\n\t\t\t\t\t\"or\": true\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tofilter = [];\r\n\t\t\t}\r\n\t\t\tvar oView = this.getView();\r\n\t\t\tvar oList = oView.byId(\"Zzzjjhlist\");\r\n\t\t\toList.getBinding(\"items\").filter(ofilter);\r\n\t\t},\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelZzzjjhSelect: function(oEvent) {\r\n\t\t\tthis.oDialogZzzjjhHelp.close();\r\n\t\t\tthis.getView().getModel(\"model_Zzzjjh\").setData(null);\r\n\t\t},\r\n\r\n\t\t//付款信息利润中心 \t\r\n\t\tonShowCostBukrsHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (that.oDialogCostCenterHelp) {\r\n\t\t\t\tthat.oDialogCostCenterHelp.destroy();\r\n\t\t\t}\r\n\t\t\tthat.oDialogCostCenterHelp = sap.ui.xmlfragment(that.getView().getId(), \"sh.bz.common.fragment.DialogCostCenterBukrsHelp\", that.getView()\r\n\t\t\t\t.getController());\r\n\t\t\tthat.getView().addDependent(that.oDialogCostCenterHelp);\r\n\t\t\tvar Bukrs = this.getView().byId('Todo_IP_Bukrs').getValue();\r\n\t\t\tvar sPath = \"/CEPCSet?$filter=Bukrs eq '\" + Bukrs + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROCWSP_SRV\", true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_CostCenter\");\r\n\t\t\t\t\tUtil.debug(model);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get CostCenterSet error!\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.oDialogCostCenterHelp.open();\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchCostCenterBukrs: function(oEvent) {\r\n\t\t\tvar value = oEvent.getParameter(\"query\");\r\n\t\t\tvar oFilter1 = new sap.ui.model.Filter(\"Prctr\", sap.ui.model.FilterOperator.Contains, value);\r\n\t\t\tvar oFilter2 = new sap.ui.model.Filter(\"Ktext\", sap.ui.model.FilterOperator.Contains, value);\r\n\t\t\tif (value) {\r\n\t\t\t\tvar ofilter = new sap.ui.model.Filter({\r\n\t\t\t\t\t\"filters\": [oFilter1, oFilter2],\r\n\t\t\t\t\t\"or\": true\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tofilter = [];\r\n\t\t\t}\r\n\t\t\tvar oView = this.getView();\r\n\t\t\tvar oList = oView.byId(\"CostCenterlist\");\r\n\t\t\toList.getBinding(\"items\").filter(ofilter);\r\n\t\t},\r\n\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelCostCenterSelect: function(oEvent) {\r\n\t\t\tthis.oDialogCostCenterHelp.close();\r\n\t\t\tthis.getView().getModel(\"model_CostCenter\").setData(null);\r\n\t\t},\r\n\r\n\t\t//文件上传 7 read files\r\n\t\tgetFiles: function(that, Recode) {\r\n\t\t\tvar data = {\r\n\t\t\t\tItem: []\r\n\t\t\t};\r\n\t\t\tvar model = new sap.ui.model.json.JSONModel(data);\r\n\t\t\tthat.getView().setModel(model, \"model_file\");\r\n\r\n\t\t\t//TODO Recode is ?\r\n\t\t\tvar sPath = \"/FjSet?$filter=Djbm eq '\" + Recode + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/SAP/ZFYBX_ATTACHMENT_SRV/\", true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tif (oData.results.length >= 1) {\r\n\t\t\t\t\t\tUtil.debug(\"file number is \" + oData.results.length);\r\n\t\t\t\t\t\tvar data = {\r\n\t\t\t\t\t\t\tItem: []\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tfor (var i = 0; i < oData.results.length; i++) {\r\n\t\t\t\t\t\t\tvar item = {};\r\n\t\t\t\t\t\t\tUtil.debug(\"filename is \" + oData.results[i].Fjnm);\r\n\t\t\t\t\t\t\titem.Filename = oData.results[i].Fjnm; //TODO base64 decode\r\n\t\t\t\t\t\t\t//item.Filename = oData.results[i].Fjnm;\t//TODO base64 decode\r\n\t\t\t\t\t\t\titem.Location = \"/sap/opu/odata/SAP/ZPROJKD_SRV/FjSet('\" + oData.results[i].Djfjid + \"')/$value\";\r\n\t\t\t\t\t\t\tdata.Item.push(item);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(data);\r\n\t\t\t\t\t\tthat.getView().setModel(model, \"model_file\");\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\r\n\t\t\t\t},\r\n\t\t\t\tasync: false\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tgetContentDensityClass: function() {\r\n\t\t\tUtil.debug(\"getContentDensityClass.....\");\r\n\t\t\tif (this._sContentDensityClass === undefined) {\r\n\t\t\t\t// check whether FLP has already set the content density class;\r\n\t\t\t\t// do nothing in this case\r\n\t\t\t\tif (jQuery(document.body).hasClass(\"sapUiSizeCozy\") || jQuery(document.body).hasClass(\"sapUiSizeCompact\")) {\r\n\t\t\t\t\tthis._sContentDensityClass = \"\";\r\n\t\t\t\t} else if (!Device.support.touch) { // apply \"compact\" mode if\r\n\t\t\t\t\t// touch is not supported\r\n\t\t\t\t\tthis._sContentDensityClass = \"sapUiSizeCompact\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// \"cozy\" in case of touch support; default for most sap.m\r\n\t\t\t\t\t// controls, but needed for desktop-first controls like\r\n\t\t\t\t\t// sap.ui.table.Table\r\n\t\t\t\t\tthis._sContentDensityClass = \"sapUiSizeCozy\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this._sContentDensityClass;\r\n\t\t},\r\n\t\t\r\n\t\tchangeContentDensityClassOfTables: function(that) {\r\n\t\t\tvar elements = that.getView().findElements(true);\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tif (elements[i].getMetadata().getName() == \"sap.m.Table\") {\r\n\t\t\t\t\telements[i].addStyleClass(that.getContentDensityClass());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t\r\n\t\tisSupportiFrame: function() {\r\n\t\t\tif (navigator.platform.indexOf(\"Win\") !== -1 || navigator.platform.indexOf(\"Mac\") !== -1) \r\n\t\t\t\treturn true;\r\n\t\t\telse\r\n\t\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\tcheckScreenSize: function(that) {\r\n\t\t\t/*\r\n\t\t\tUtil.debug(\"checkScreenSize.....\");\r\n\t\t\tvar elements = that.getView().findElements(true);\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tif (elements[i].getMetadata().getName() == \"sap.m.Table\") {\r\n\t\t\t\t\tvar tab = elements[i];\r\n\t\t\t\t\tif (document.body.clientWidth < 1024) {\r\n\t\t\t\t\t\t//显示头4列和最后一列\r\n\t\t\t\t\t\tfor (var k = 4; k < tab.getColumns().length-2; k++) {\r\n\t\t\t\t\t\t\ttab.getColumns()[k].setVisible(false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t},\r\n\t\t\r\n\t\t// =================费用项目====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowEinmHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogEinmHelp) {\r\n\t\t\t\tthat.oDialogEinmHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogEinm\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogEinmHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogEinmHelp.open();\r\n\t\t\tthat.onSearchEinm(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchEinm: function(oEvent) {\r\n\t\t\tUtil.onSearchEinm(oEvent, this);\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelEinmSelect: function(oEvent) {\r\n\t\t\tthis.oDialogEinmHelp.close();\r\n\t\t},\r\n\t\t// =================税码====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowMwskzHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogMwskzHelp) {\r\n\t\t\t\tthat.oDialogMwskzHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogMwskzHelp\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogMwskzHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogMwskzHelp.open();\r\n\t\t\tthat.onSearchMwskz(oEvent);\r\n\t\t},\r\n\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchMwskz: function(oEvent) {\r\n\t\t\tUtil.onSearchMwskz(oEvent, this);\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelMwskzSelect: function(oEvent) {\r\n\t\t\tthis.oDialogMwskzHelp.close();\r\n\t\t},\r\n\t\t// =================订单====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowAufnrClbxHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogAufnrClbxHelp) {\r\n\t\t\t\tthat.oDialogAufnrClbxHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogAufnrClbxHelp\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogAufnrClbxHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogAufnrClbxHelp.open();\r\n\t\t\tthat.onSearchAufnrClbx(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchAufnrClbx: function(oEvent) {\r\n\t\t\tUtil.onSearchAufnrClbx(oEvent, this);\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelAufnrClbxSelect: function(oEvent) {\r\n\t\t\tthis.oDialogAufnrClbxHelp.close();\r\n\t\t},\r\n\t\t// =================交通工具====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowVektpHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogVektpHelp) {\r\n\t\t\t\tthat.oDialogVektpHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogVektpHelp\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogVektpHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogVektpHelp.open();\r\n\t\t\tthat.onSearchVektp(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchVektp: function(oEvent) {\r\n\t\t\tUtil.onSearchVektp(oEvent, this);\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelVektpSelect: function(oEvent) {\r\n\t\t\tthis.oDialogVektpHelp.close();\r\n\t\t},\r\n\t\t// =================舱位席别====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowSpsHelp: function(oEvent) {\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Vektp = this.getView().getModel().getProperty(path).Vektp;\r\n\t\t\tif (!Vektp) {\r\n\t\t\t\tsap.m.MessageBox.information(\"请先选择交通工具\", {\r\n\t\t\t\t\ttitle: \"警告\",\r\n\t\t\t\t\tonClose: null,\r\n\t\t\t\t\tstyleClass: \"\",\r\n\t\t\t\t\tinitialFocus: null,\r\n\t\t\t\t\ttextDirection: sap.ui.core.TextDirection.Inherit\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogSpsHelp) {\r\n\t\t\t\tthat.oDialogSpsHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogSpsHelp\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogSpsHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogSpsHelp.open();\r\n\t\t\tUtil.onSearchSps(oEvent, that);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchSps: function(oEvent) {\r\n\t\t\tUtil.onSearchSps(oEvent, this);\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelSpsSelect: function(oEvent) {\r\n\t\t\tthis.oDialogSpsHelp.close();\r\n\t\t},\r\n\t\t// =================城市====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowCtkdHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogCtkdHelp) {\r\n\t\t\t\tthat.oDialogCtkdHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogCtkdHelp\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogCtkdHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogCtkdHelp.open();\r\n\t\t\tthat.onSearchCtkd(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchCtkd: function(oEvent) {\r\n\t\t\tUtil.onSearchCtkd(oEvent, this);\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelCtkdSelect: function(oEvent) {\r\n\t\t\tthis.oDialogCtkdHelp.close();\r\n\t\t},\r\n\t\t// =================地区类别====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowZzdqlbHelp: function(oEvent) {\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogDqlbHelp) {\r\n\t\t\t\tthat.oDialogDqlbHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogDqlbHelp\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogDqlbHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogDqlbHelp.open();\r\n\t\t\tthat.onSearchDqlb(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchDqlb: function(oEvent) {\r\n\t\t\tUtil.onSearchDqlb(oEvent, this);\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelDqlbSelect: function(oEvent) {\r\n\t\t\tthis.oDialogDqlbHelp.close();\r\n\t\t},\r\n\t\t// =================功能范围====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowFkberHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogFkberHelp) {\r\n\t\t\t\tthat.oDialogFkberHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogFkberHelp\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogFkberHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogFkberHelp.open();\r\n\t\t\tthat.onSearchFkber(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchFkber: function(oEvent) {\r\n\t\t\tUtil.onSearchFkber(oEvent, this);\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelFkberSelect: function(oEvent) {\r\n\t\t\tthis.oDialogFkberHelp.close();\r\n\t\t},\r\n\t\t// =================车型====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowZzcxHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogZzcxHelp) {\r\n\t\t\t\tthat.oDialogZzcxHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogZzcxHelp\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogZzcxHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogZzcxHelp.open();\r\n\t\t\tthat.onSearchZzcx(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzcx: function(oEvent) {\r\n\t\t\tUtil.onSearchZzcx(oEvent, this);\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelZzcxSelect: function(oEvent) {\r\n\t\t\tthis.oDialogZzcxHelp.close();\r\n\t\t},\r\n\t\t// =================车号====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowZzchHelp: function(oEvent) {\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Zzcx = this.getView().getModel().getProperty(path).Zzcx;\r\n\t\t\t// var Zzcx = this.getView().getModel(\"model_Zzcx\");\r\n\t\t\tif (!Zzcx) {\r\n\t\t\t\tsap.m.MessageBox.information(\"请先选择车型\", {\r\n\t\t\t\t\ttitle: \"警告\",\r\n\t\t\t\t\tonClose: null,\r\n\t\t\t\t\tstyleClass: \"\",\r\n\t\t\t\t\tinitialFocus: null,\r\n\t\t\t\t\ttextDirection: sap.ui.core.TextDirection.Inherit\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogZzchHelp) {\r\n\t\t\t\tthat.oDialogZzchHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogZzchHelp\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogZzchHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogZzchHelp.open();\r\n\t\t\tthat.onSearchZzch(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzch: function(oEvent) {\r\n\t\t\tUtil.onSearchZzch(oEvent, this);\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelZzchSelect: function(oEvent) {\r\n\t\t\tthis.oDialogZzchHelp.close();\r\n\t\t},\r\n\t\t// =================分线核算====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowZzfxcbHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogZzfxcbHelp) {\r\n\t\t\t\tthat.oDialogZzfxcbHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogZzfxcbHelp\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogZzfxcbHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogZzfxcbHelp.open();\r\n\t\t\tthat.onSearchZzfxcb(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzfxcb: function(oEvent) {\r\n\t\t\tUtil.onSearchZzfxcb(oEvent, this);\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelZzfxcbSelect: function(oEvent) {\r\n\t\t\tthis.oDialogZzfxcbHelp.close();\r\n\t\t},\r\n\t\t// =================辅助核算01====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowZzfzhs01Help: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogZzfzhs01Help) {\r\n\t\t\t\tthat.oDialogZzfzhs01Help = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogZzfzhs01Help\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogZzfzhs01Help);\r\n\t\t\t}\r\n\t\t\tthat.oDialogZzfzhs01Help.open();\r\n\t\t\tthat.onSearchZzfzhs01(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzfzhs01: function(oEvent) {\r\n\t\t\tUtil.onSearchZzfzhs01(oEvent, this);\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelZzfzhs01Select: function(oEvent) {\r\n\t\t\tthis.oDialogZzfzhs01Help.close();\r\n\t\t},\r\n\t\t// =================辅助核算02====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowZzfzhs02Help: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogZzfzhs02Help) {\r\n\t\t\t\tthat.oDialogZzfzhs02Help = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogZzfzhs02Help\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogZzfzhs02Help);\r\n\t\t\t}\r\n\t\t\tthat.oDialogZzfzhs02Help.open();\r\n\t\t\tthat.onSearchZzfzhs02(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzfzhs02: function(oEvent) {\r\n\t\t\tUtil.onSearchZzfzhs02(oEvent, this);\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelZzfzhs02Select: function(oEvent) {\r\n\t\t\tthis.oDialogZzfzhs02Help.close();\r\n\t\t},\r\n\t\t// =================辅助核算03====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowZzfzhs03Help: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogZzfzhs03Help) {\r\n\t\t\t\tthat.oDialogZzfzhs03Help = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogZzfzhs03Help\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogZzfzhs03Help);\r\n\t\t\t}\r\n\t\t\tthat.oDialogZzfzhs03Help.open();\r\n\t\t\tthat.onSearchZzfzhs03(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzfzhs03: function(oEvent) {\r\n\t\t\tUtil.onSearchZzfzhs03(oEvent, this);\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelZzfzhs03Select: function(oEvent) {\r\n\t\t\tthis.oDialogZzfzhs03Help.close();\r\n\t\t},\r\n\t\t// =================辅助核算04====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowZzfzhs04Help: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogZzfzhs04Help) {\r\n\t\t\t\tthat.oDialogZzfzhs04Help = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogZzfzhs04Help\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogZzfzhs04Help);\r\n\t\t\t}\r\n\t\t\tthat.oDialogZzfzhs04Help.open();\r\n\t\t\tthat.onSearchZzfzhs04(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzfzhs04: function(oEvent) {\r\n\t\t\tUtil.onSearchZzfzhs04(oEvent, this);\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelZzfzhs04Select: function(oEvent) {\r\n\t\t\tthis.oDialogZzfzhs04Help.close();\r\n\t\t},\r\n\t\t// =================辅助核算05====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowZzfzhs05Help: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogZzfzhs05Help) {\r\n\t\t\t\tthat.oDialogZzfzhs05Help = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogZzfzhs05Help\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogZzfzhs05Help);\r\n\t\t\t}\r\n\t\t\tthat.oDialogZzfzhs05Help.open();\r\n\t\t\tthat.onSearchZzfzhs05(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzfzhs05: function(oEvent) {\r\n\t\t\tUtil.onSearchZzfzhs05(oEvent, this);\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelZzfzhs05Select: function(oEvent) {\r\n\t\t\tthis.oDialogZzfzhs05Help.close();\r\n\t\t},\r\n\t\t// =================辅助核算类别====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowZzfzhslbHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogZzfzhslbHelp) {\r\n\t\t\t\tthat.oDialogZzfzhslbHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogZzfzhslbHelp\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogZzfzhslbHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogZzfzhslbHelp.open();\r\n\t\t\tthat.onSearchZzfzhslb(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzfzhslb: function(oEvent) {\r\n\t\t\tUtil.onSearchZzfzhslb(oEvent, this);\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelZzfzhslbSelect: function(oEvent) {\r\n\t\t\tthis.oDialogZzfzhslbHelp.close();\r\n\t\t},\r\n\t\t// =================辅助核算内容====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowZzfzhsnrHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogZzfzhsnrHelp) {\r\n\t\t\t\tthat.oDialogZzfzhsnrHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogZzfzhsnrHelp\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogZzfzhsnrHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogZzfzhsnrHelp.open();\r\n\t\t\tthat.onSearchZzfzhsnr(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzfzhsnr: function(oEvent) {\r\n\t\t\tUtil.onSearchZzfzhsnr(oEvent, this);\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelZzfzhsnrSelect: function(oEvent) {\r\n\t\t\tthis.oDialogZzfzhsnrHelp.close();\r\n\t\t},\r\n\t\t// =================业务类型====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowZzghjhHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogZzghjhHelp) {\r\n\t\t\t\tthat.oDialogZzghjhHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogZzghjhHelp\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogZzghjhHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogZzghjhHelp.open();\r\n\t\t\tthat.onSearchZzghjh(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzghjh: function(oEvent) {\r\n\t\t\tUtil.onSearchZzghjh(oEvent, this);\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelZzghjhSelect: function(oEvent) {\r\n\t\t\tthis.oDialogZzghjhHelp.close();\r\n\t\t},\r\n\t\t// // =================合同编号====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowZzhtbhHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogZzhtbhHelp) {\r\n\t\t\t\tthat.oDialogZzhtbhHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogZzhtbhHelp\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogZzhtbhHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogZzhtbhHelp.open();\r\n\t\t\tthat.onSearchZzhtbh(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzhtbh: function(oEvent) {\r\n\t\t\tUtil.onSearchZzhtbh(oEvent, this);\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelZzhtbhSelect: function(oEvent) {\r\n\t\t\tthis.oDialogZzhtbhHelp.close();\r\n\t\t},\r\n\t\t// =================往来业务性质====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowZzjshkdwHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogZzjshkdwHelp) {\r\n\t\t\t\tthat.oDialogZzjshkdwHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogZzjshkdwHelp\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogZzjshkdwHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogZzjshkdwHelp.open();\r\n\t\t\tthat.onSearchZzjshkdw(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzjshkdw: function(oEvent) {\r\n\t\t\tUtil.onSearchZzjshkdw(oEvent, this);\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelZzjshkdwSelect: function(oEvent) {\r\n\t\t\tthis.oDialogZzjshkdwHelp.close();\r\n\t\t},\r\n\t\t// ===---------------------------------------------------==\r\n\t\t//approve view xml \r\n\t\tselectFirstTab: function(that) {\r\n\t\t\tvar items = that.getView().byId(\"idIconTabBarMulti\").getItems();\r\n\t\t\tfor (var i = 0; i < items.length; i++) {\r\n\t\t\t\tif (items[i].getVisible()) {\r\n\t\t\t\t\tthis.getView().byId(\"idIconTabBarMulti\").setSelectedKey(items[i].getKey());\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t//公司\r\n\t\tonShowBUKRSHelp: function(oEvent){\r\n\t\t\t// DialogCostConHelp\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogBukrsHelp) {\r\n\t\t\t\tthat.oDialogBukrsHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogBukrsHelp\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogBukrsHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogBukrsHelp.open();\r\n\t\t\tthat.onSearchBUKRS(oEvent);\r\n\t\t},\r\n\t\t\r\n\t\tonSearchBUKRS: function(oEvent) {\r\n\t\t\tUtil.onSearchBUKRS(oEvent, this);\r\n\t\t},\r\n\t\t\r\n\t\tonCancelBukrsSelect:function(){\r\n\t\t\tthis.oDialogBukrsHelp.close();\r\n\t\t}\r\n\t});\r\n});",
		"sh/bz/common/common/controller/CLBX_ALLINFOR.controller.js": "/*global location*/\nsap.ui.define([\n\t\"sh/bz/common/controller/BaseController\",\n\t\"sap/ui/model/json/JSONModel\",\n\t\"sap/ui/core/routing/History\",\n\t\"sh/bz/common/controller/Formatter\",\n\t\"sap/ui/model/Filter\",\n\t\"sap/ui/model/FilterOperator\",\n\t\"sap/ui/core/BusyIndicator\",\n\t\"sh/bz/common/controller/Util\",\n\t\"sh/bz/common/controller/UtilWorkFlow\"\n], function(BaseController, JSONModel, History, Formatter, Filter, FilterOperator, BusyIndicator, Util, UtilWorkFlow) {\n\t\"use strict\";\n\t//var reg_NO = /^\\d+$/;\n\tvar reg_NO = /^[0-9]+(.[0-9]{1,2})?$/;\n\tvar reg_BankNO = /^\\d{0,18}$/;\n\tvar reg_PHONE = /^1[35678]\\d{9}$|^((0\\d{2}-)?\\d{8}(-\\d{1,4})?)$|^(0\\d{3}-\\d{7,8}(-\\d{1,4})?)$/;\n\treturn BaseController.extend(\"sh.bz.common.controller.CLBX_ALLINFOR\", {\n\n\t\tformatter: Formatter,\n\n\t\t/* =========================================================== */\n\t\t/* lifecycle methods                                           */\n\t\t/* =========================================================== */\n\n\t\t/**\n\t\t * Called when the worklist controller is instantiated.\n\t\t * @public\n\t\t */\n\n\t\t//1 申请人选择\n\t\trowSelected: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_PROPOSER\").getPath();\n\t\t\tthis.getView().getModel(\"model_PROPOSER\").setProperty(\"/sPath\", sPath);\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar PernrS = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Pernr\");\n\t\t\tvar SnameS = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Sname\");\n\t\t\tvar Bukrs = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Bukrs\");\n\t\t\tvar Butxt = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Butxt\");\n\t\t\tvar Kostl = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Kostl\");\n\t\t\tvar Ktext = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Ktext\");\n\t\t\tvar Telnum = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Ptel\");\n\t\t\tvar UsridS = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Usrid\");\n\t\t\t/* for fysq */\n\t\t\t/* \n\t\t\tthis.getView().getModel().setProperty(path + \"PernrS\", PernrS);\n\t\t\tthis.getView().getModel().setProperty(path + \"SnameS\", SnameS);\n\t\t\t*/\n\t\t\tthis.getView().getModel().setProperty(path + \"PernrB\", PernrS);\n\t\t\tthis.getView().getModel().setProperty(path + \"SnameB\", SnameS);\n\t\t\tthis.getView().getModel().setProperty(path + \"Bukrs\", Bukrs);\n\t\t\tthis.getView().getModel().setProperty(path + \"Butxt\", Butxt);\n\t\t\tthis.getView().getModel().setProperty(path + \"Kostl\", Kostl);\n\t\t\tthis.getView().getModel().setProperty(path + \"Ktext\", Ktext);\n\t\t\tthis.getView().getModel().setProperty(path + \"Telnum\", Telnum);\n\t\t\tthis.getView().getModel().setProperty(path + \"UsridS\", UsridS);\n\t\t\tvar data = {};\n\t\t\tvar model = [];\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_PROPOSER\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_search\");\n\t\t\tthis.oDialogCostCenterHelpName.close();\n\t\t},\n\n\t\t//2 利润中心选择\n\t\trowSelectedPROPOSER_PRCTR: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_PROPOSER_PRCTR\").getPath();\n\t\t\tthis.getView().getModel(\"model_PROPOSER_PRCTR\").setProperty(\"/sPath\", sPath);\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\t/* for fysq */\n\t\t\t/*\n\t\t\tvar Prctr = this.getView().getModel(\"model_PROPOSER_PRCTR\").getProperty(sPath + \"/\" + \"Prctr\");\n\t\t\tvar KtextPrctr = this.getView().getModel(\"model_PROPOSER_PRCTR\").getProperty(sPath + \"/\" + \"Ktext\");\n\t\t\tthis.getView().getModel().setProperty(path + \"Prctr\", Prctr);\n\t\t\tthis.getView().getModel().setProperty(path + \"KtextPrctr\", KtextPrctr);\n\t\t\t*/\n\t\t\t/* for clbx */\n\t\t\tvar Prctr = this.getView().getModel(\"model_PROPOSER_PRCTR\").getProperty(sPath + \"/\" + \"Prctr\");\n\t\t\tvar PrctrKtext = this.getView().getModel(\"model_PROPOSER_PRCTR\").getProperty(sPath + \"/\" + \"Ktext\");\n\t\t\tthis.getView().getModel().setProperty(path + \"Prctr\", Prctr);\n\t\t\tthis.getView().getModel().setProperty(path + \"PrctrKtext\", PrctrKtext);\n\n\t\t\tvar data = {};\n\t\t\tvar model = [];\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_PROPOSER_PRCTR\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_search\");\n\t\t\tthis.oDialogCostCenterHelp.close();\n\t\t},\n\n\t\t//3 部门选择\n\t\trowSelectedPROPOSER_KOSTL: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_PROPOSER_KOSTL\").getPath();\n\t\t\tthis.getView().getModel(\"model_PROPOSER_KOSTL\").setProperty(\"/sPath\", sPath);\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar Orgeh = this.getView().getModel(\"model_PROPOSER_KOSTL\").getProperty(sPath + \"/\" + \"Orgeh\");\n\t\t\tvar OrgehText = this.getView().getModel(\"model_PROPOSER_KOSTL\").getProperty(sPath + \"/\" + \"OrgehText\");\n\t\t\tthis.getView().getModel().setProperty(path + \"Orgeh\", Orgeh);\n\t\t\tthis.getView().getModel().setProperty(path + \"OrgehText\", OrgehText);\n\t\t\tvar Kostl = this.getView().getModel(\"model_PROPOSER_KOSTL\").getProperty(sPath + \"/\" + \"Kostl\");\n\t\t\tvar KostlText = this.getView().getModel(\"model_PROPOSER_KOSTL\").getProperty(sPath + \"/\" + \"KostlText\");\n\t\t\tthis.getView().getModel().setProperty(path + \"Kostl\", Kostl);\n\t\t\tthis.getView().getModel().setProperty(path + \"Ktext\", KostlText);\n\t\t\tvar data = {};\n\t\t\tvar model = [];\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_PROPOSER\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_search\");\n\t\t\tthis.oDialogCostPartHelp.close();\n\t\t},\n\n\t\t//4 费用类型选择\n\t\trowSelectedEtdsc: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Etdsc\").getPath();\n\t\t\tthis.getView().getModel(\"model_Etdsc\").setProperty(\"/sPath\", sPath);\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar Etkd = this.getView().getModel(\"model_Etdsc\").getProperty(sPath + \"/\" + \"Etkd\");\n\t\t\tvar Etnm = this.getView().getModel(\"model_Etdsc\").getProperty(sPath + \"/\" + \"Etnm\");\n\t\t\tthis.getView().getModel().setProperty(path + \"Etkd\", Etkd);\n\t\t\tthis.getView().getModel().setProperty(path + \"Etnm\", Etnm);\n\t\t\tvar data = this.getView().getModel(\"model_edit\");\n\t\t\tdata.Lcid = this.getView().getModel(\"model_Etdsc\").getProperty(sPath + \"/\" + \"Lcid\");\n\t\t\tdata.Lcbm = this.getView().getModel(\"model_Etdsc\").getProperty(sPath + \"/\" + \"Lcbm\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\n\t\t\tvar data = {};\n\t\t\tvar model = [];\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_Etdsc\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_search\");\n\t\t\tthis.oDialogEtdscHelp.close();\n\t\t},\n\n\t\t//5 订单选择\n\t\trowSelectedAufnr: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Aufnr\").getPath();\n\t\t\tthis.getView().getModel(\"model_Aufnr\").setProperty(\"/sPath\", sPath);\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar Aufnr = this.getView().getModel(\"model_Aufnr\").getProperty(sPath + \"/\" + \"Aufnr\");\n\t\t\tvar KtextAufnr = this.getView().getModel(\"model_Aufnr\").getProperty(sPath + \"/\" + \"Ktext\");\n\t\t\tthis.getView().getModel().setProperty(path + \"Aufnr\", Aufnr);\n\t\t\tthis.getView().getModel().setProperty(path + \"KtextAufnr\", KtextAufnr);\n\t\t\tvar data = {};\n\t\t\tvar model = [];\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_Aufnr\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_search\");\n\t\t\tthis.oDialogAufnrHelp.close();\n\t\t},\n\n\t\t//付款方式6 窗口 选择一行数据\n\t\trowSelectedZlsch: function(oEvent) {\n\t\t\tvar path = oEvent.getSource().getBindingContext().getPath() + \"/\";\n\t\t\tvar model = this.getView().byId(\"zlschlist\").getModel();\n\t\t\tvar Zlsch = model.getProperty(path + \"Zlsch\");\n\t\t\tvar Text2 = model.getProperty(path + \"Text2\");\n\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tthis.getView().getModel().setProperty(path + \"Zlsch\", Zlsch);\n\t\t\tthis.getView().getModel().setProperty(path + \"TextZlsch\", Text2);\n\n\t\t\tvar data = this.getView().getModel(\"model_edit\").getData();\n\t\t\tdata.ZlschText = Text2;\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\n\n\t\t\tthis.oDialogZlschHelp.close();\n\t\t},\n\n\t\t//7 公司选择\n\t\trowSelectedBukr: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_BUKRS\").getPath();\n\t\t\tthis.getView().getModel(\"model_BUKRS\").setProperty(\"/sPath\", sPath);\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar Bxbukrs = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"Bxbukrs\");\n\t\t\tvar Butxt = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"Butxt\");\n\t\t\tvar Orgeh = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"Orgeh\");\n\t\t\tvar Short = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"Short\");\n\t\t\tvar Etkd = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"Etkd\");\n\t\t\tvar Etnm = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"Etnm\");\n\t\t\tvar Prctr = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"Prctr\");\n\t\t\tvar KtextPrctr = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"KtextPrctr\");\n\t\t\tvar Kostl = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"Kostl\");\n\t\t\tvar Ktext = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"Ktext\");\n\t\t\tthis.getView().getModel().setProperty(path + \"Bukrs\", Bxbukrs);\n\t\t\tthis.getView().getModel().setProperty(path + \"Butxt\", Butxt);\n\t\t\tthis.getView().getModel().setProperty(path + \"Orgeh\", Orgeh);\n\t\t\tthis.getView().getModel().setProperty(path + \"OrgehText\", Short);\n\t\t\tthis.getView().getModel().setProperty(path + \"Etkd\", Etkd);\n\t\t\tthis.getView().getModel().setProperty(path + \"Etnm\", Etnm);\n\t\t\tthis.getView().getModel().setProperty(path + \"Prctr\", Prctr);\n\t\t\tthis.getView().getModel().setProperty(path + \"PrctrKtext\", KtextPrctr);\n\t\t\tthis.getView().getModel().setProperty(path + \"Kostl\", Kostl);\n\t\t\tthis.getView().getModel().setProperty(path + \"Ktext\", Ktext);\n\t\t\tvar data = {};\n\t\t\tvar model = [];\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_BUKRS\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_BUKRS\");\n\t\t\tthis.oDialogBukrs.close();\n\t\t},\n\n\t\tonShowEtdscHelp: function(oEvent) {\n\t\t\tvar data = this.getView().getModel(\"GLOBLEDATA\").oData.DKKD;\n\t\t\tif (data === \"BX\") {\n\t\t\t\tvar Dkkd = \"BX\";\n\t\t\t} else {\n\t\t\t\tvar Dkkd = \"CL\";\n\t\t\t}\n\t\t\tUtil.onShowEtdscHelp(oEvent, this, Dkkd);\n\t\t},\n\t\t//费用类型搜索\n\t\tonSearchEtdsc: function(oEvent) {\n\t\t\tvar data = this.getView().getModel(\"GLOBLEDATA\").oData.DKKD;\n\t\t\tif (data === \"BX\") {\n\t\t\t\tvar DKKD = \"BX\";\n\t\t\t} else {\n\t\t\t\tvar DKKD = \"CL\";\n\t\t\t}\n\t\t\t// var DKKD = \"CL\";\n\t\t\tUtil.onSearchEtdsc(oEvent, this, DKKD);\n\t\t},\n\n\t\tonInit: function() {\n\t\t\tthis.getView().addStyleClass(this.getContentDensityClass());\n\t\t\tvar oViewModel,\n\t\t\t\tiOriginalBusyDelay;\n\t\t\tthis.clxx_num = 0;\n\t\t\t// Put down worklist table's original value for busy indicator delay,\n\t\t\t// so it can be restored later on. Busy handling on the table is\n\t\t\t// taken care of by the table itself.\n\t\t\t// iOriginalBusyDelay = oTable.getBusyIndicatorDelay();\n\t\t\t// keeps the search state\n\t\t\tthis._oTableSearchState = [];\n\t\t\tif (!sap.ui.getCore().AppContext) {\n\t\t\t\tsap.ui.getCore().AppContext = new Object();\n\t\t\t}\n\t\t\t// sap.ui.getCore().AppContext = {};\n\t\t\t// Model used to manipulate control states\n\t\t\toViewModel = new JSONModel({\n\t\t\t\tworklistTableTitle: this.getResourceBundle().getText(\"worklistTableTitle\"),\n\t\t\t\tsaveAsTileTitle: this.getResourceBundle().getText(\"worklistViewTitle\"),\n\t\t\t\tshareOnJamTitle: this.getResourceBundle().getText(\"worklistViewTitle\"),\n\t\t\t\tshareSendEmailSubject: this.getResourceBundle().getText(\"shareSendEmailWorklistSubject\"),\n\t\t\t\tshareSendEmailMessage: this.getResourceBundle().getText(\"shareSendEmailWorklistMessage\", [location.href]),\n\t\t\t\ttableNoDataText: this.getResourceBundle().getText(\"tableNoDataText\"),\n\t\t\t\ttableBusyDelay: 0\n\t\t\t});\n\t\t\tthis.setModel(oViewModel, \"worklistView\");\n\t\t\tif (this.getRouter().getRoute(\"DETAIL_CL\")) {\n\t\t\t\tthis.getRouter().getRoute(\"DETAIL_CL\").attachPatternMatched(this._onObjectMatched, this);\n\t\t\t};\n\t\t\tif (this.getRouter().getRoute(\"Home_CL\")) {\n\t\t\t\tthis.getRouter().getRoute(\"Home_CL\").attachPatternMatched(this._onObjectMatched, this);\n\t\t\t};\n\t\t\tif (this.getRouter().getRoute(\"DETAIL_CL_my\")) {\n\t\t\t\tthis.getRouter().getRoute(\"DETAIL_CL_my\").attachPatternMatched(this._onObjectMatched, this);\n\t\t\t};\n\t\t},\n\t\t_onObjectMatched: function(oEvent) {\n\t\t\t//add by sunfeng start\n\t\t\tif (this.getView().getModel(\"model_edit\") === undefined) {\n\t\t\t\tvar data = {};\n\t\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\n\t\t\t}\n\t\t\tif (this.getView().getModel(\"CLMODEL\") !== undefined) {\n\t\t\t\tthis.getView().setModel(this.getView().getModel(\"CLMODEL\"));\n\t\t\t\tthis.getView().getModel().setRefreshAfterChange();\n\t\t\t} else {\n\t\t\t\tvar sDKKD = this.getView().getModel(\"GLOBLEDATA\").getProperty(\"/DKKD\");\n\t\t\t\tif (sDKKD === \"CL\") {\n\t\t\t\t\tdocument.title = '差旅报销';\n\t\t\t\t} else {\n\t\t\t\t\tdocument.title = '费用报销';\n\t\t\t\t};\n\t\t\t};\n\t\t\t//发票合计model\n\t\t\t// var oJson = {\n\t\t\t// \tbhxje: \"\",\n\t\t\t// \tbhxse: \"\",\n\t\t\t// \thsje: \"\"\n\t\t\t// };\n\t\t\t// var oJson = new sap.ui.model.json.JSONModel(oJson);\n\t\t\t// this.setModel(oJson, \"fphjmodel\");\n\t\t\t//if(!this.getView().getModel(\"fphjmodel\")){this.setModel(oJson, \"fphjmodel\");};\n\n\t\t\t//清空发票\n\t\t\t// this.getView().getModel(\"fphjmodel\").setProperty(\"/bhxje\", 0.00)\n\t\t\t// this.getView().getModel(\"fphjmodel\").setProperty(\"/bhxse\", 0.00);\n\t\t\t// this.getView().getModel(\"fphjmodel\").setProperty(\"/hsje\", 0.00);\n\t\t\t//add by sunfeng end\n\t\t\t//报销金额\n\t\t\t// if(item){}\n\t\t\t// for(var i=0;i<item.length;i++){\n\t\t\t// \t// var header.Wrbtr = item[i].getBindingContext().getProperty().Wrbtr;\n\t\t\t// \tvar Wrbtr = item[i].getBindingContext().getProperty().Wrbtr;\n\t\t\t// \tthis.getView().getModel().setProperty(path + \"Wrbtr\", Wrbtr, true);\n\t\t\t// }\n\n\t\t\tvar that = this;\n\t\t\tvar opara = oEvent.getParameter(\"arguments\");\n\t\t\t//this.setBusy(true);\n\t\t\tthis.getModel().metadataLoaded().then(function() {\n\t\t\t\tif (this.getView().byId(\"Panel_h\").getBindingContext() == null) {\n\n\t\t\t\t\tif (!opara.id) {\n\t\t\t\t\t\tthis.prepareNewData();\n\t\t\t\t\t\tthis.setscreen(\"\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.showData(opara);\n\t\t\t\t\t\tthis._id = opara.id;\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\t// if (opara.id !== this._id) {\n\t\t\t\t\t// \tthis.showData(opara);\n\t\t\t\t\t// \tthis._id = opara.id;\n\t\t\t\t\t// } else {\n\t\t\t\t\t// \tthis.setscreen(this.getOwnerComponent()._status);\n\t\t\t\t\t// };\n\t\t\t\t\t// this.setBusy(false);\n\n\t\t\t\t\tif (this._nav === \"X\") {\n\t\t\t\t\t\tthis._nav = \"\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.showData(opara);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}.bind(this));\n\t\t\t//计算报销金额 Bchxje\n\t\t\tthis.changeBxje();\n\t\t\t// //增加发票合计\n\t\t\t// this.getFphj();\n\t\t},\n\t\t//计算报销金额 Bchxje\n\t\tchangeBxje: function() {\n\t\t\tvar item = this.getView().byId(\"CLBX_CLXX_table\").getItems();\n\t\t\tif (this.getView().byId(\"Panel_h\").getBindingContext() !== undefined) {\n\t\t\t\tvar path = this.getView().byId(\"Panel_h\").getBindingContext().getPath() + \"/\";\n\t\t\t\tvar header = this.getView().byId(\"Panel_h\").getBindingContext().getProperty();\n\t\t\t\tvar wrbtr = 0.00;\n\t\t\t\tthis.getView().getModel().setProperty(path + \"Wrbtr\", \"0.00\", true);\n\t\t\t\tthis.getView().getModel().setProperty(path + \"Bczfje\", \"0.00\", true);\n\t\t\t\tfor (var i = 0; i < item.length; i++) {\n\t\t\t\t\tvar itemWrbtr = 0;\n\t\t\t\t\tif (item[i].getBindingContext().getProperty().Wrbtr !== undefined) {\n\t\t\t\t\t\titemWrbtr = item[i].getBindingContext().getProperty().Wrbtr;\n\t\t\t\t\t}\n\t\t\t\t\twrbtr = parseFloat(wrbtr) + parseFloat(itemWrbtr);\n\t\t\t\t\tvar zfje = wrbtr - parseFloat(header.Bchxje);\n\t\t\t\t\tvar Wrbtr = Formatter.FloatFormat(wrbtr);\n\t\t\t\t\tvar Bczfje = Formatter.FloatFormat(zfje);\n\t\t\t\t\tthis.getView().getModel().setProperty(path + \"Wrbtr\", Wrbtr, true);\n\t\t\t\t\tthis.getView().getModel().setProperty(path + \"Bczfje\", Bczfje, true);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetFphj: function() {\n\t\t\tvar item = this.getView().byId(\"table_fp\").getItems();\n\t\t\tif (this.getView().byId(\"Panel_h\").getBindingContext() !== undefined) {\n\t\t\t\t// this.getModel(\"CONTROL\").getProperty(\"/control\") === 'AL')\n\t\t\t\t// var header = this.getView().byId(\"Panel_h\").getBindingContext().getProperty();\n\t\t\t\tvar bhsje = 0.00;\n\t\t\t\tvar se = 0.00;\n\t\t\t\tvar hsje = 0.00;\n\t\t\t\t// this.getView().getModel().setProperty(path + \"Wrbtr\", \"0.00\", true);\n\t\t\t\t// this.getView().getModel().setProperty(path + \"Bczfje\", \"0.00\", true);\n\t\t\t\tfor (var i = 0; i < item.length; i++) {\n\t\t\t\t\tvar itembhsje = 0;\n\t\t\t\t\tvar itemse = 0;\n\t\t\t\t\tvar itemhsje = 0;\n\t\t\t\t\tif (item[i].getBindingContext().getProperty().Awotax !== undefined) {\n\t\t\t\t\t\titembhsje = item[i].getBindingContext().getProperty().Awotax;\n\t\t\t\t\t}\n\t\t\t\t\tbhsje = parseFloat(bhsje) + parseFloat(itembhsje);\n\n\t\t\t\t\tif (item[i].getBindingContext().getProperty().Taxamount !== undefined) {\n\t\t\t\t\t\titemse = item[i].getBindingContext().getProperty().Taxamount;\n\t\t\t\t\t}\n\t\t\t\t\tse = parseFloat(se) + parseFloat(itemse);\n\n\t\t\t\t\tif (item[i].getBindingContext().getProperty().Awtax !== undefined) {\n\t\t\t\t\t\titemhsje = item[i].getBindingContext().getProperty().Awtax;\n\t\t\t\t\t}\n\t\t\t\t\thsje = parseFloat(hsje) + parseFloat(itemhsje);\n\n\t\t\t\t\tvar bhsje = Formatter.FloatFormat(bhsje);\n\t\t\t\t\tvar se = Formatter.FloatFormat(se);\n\t\t\t\t\tvar hsje = Formatter.FloatFormat(hsje);\n\t\t\t\t\tthis.getView().getModel(\"fphjmodel\").setProperty(\"/bhxje\", bhsje);\n\t\t\t\t\tthis.getView().getModel(\"fphjmodel\").setProperty(\"/bhxse\", se);\n\t\t\t\t\tthis.getView().getModel(\"fphjmodel\").setProperty(\"/hsje\", hsje);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t//add by ymz s\n\t\tsetscreen: function(status, sdata, sflag1, sflag2) {\n\t\t\tvar that = this;\n\t\t\tif (status === \"A\" || status === \"\" || status === undefined || status === \"D\" || status === \"R\") {\n\t\t\t\t//起草\n\t\t\t\tif (sdata !== undefined) {\n\t\t\t\t\tif (sdata === \"\") {\n\t\t\t\t\t\tthis.getView().byId(\"IP_BUKRS\").setEditable(false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar sViewinfor = [];\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_ETNAME', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_PERNR_B', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_Orgeh', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_PRCTR', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_ZLSCH', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_TELNUM', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_ACCOUNTNAME', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_FJZS', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_BANKA', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_NOTE', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_BANKN', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'ip_Bchxje', null, null, true);\n\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'CLBX_ITEM_ONBUTTON', true, true, null);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'CLBX_ITEM_ONDELETE', true, true, null);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'CLBX_SQD_ONBUTTON', true, true, null);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'CLBX_SQD_ONDELETE', true, true, null);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'CLBX_hx_ONBUTTON', true, true, null);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'CLBX_hx_ONDELETE', true, true, null);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'CLBX_FP_ONBUTTON', true, true, null);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'CLBX_FP_ONDELETE', true, true, null);\n\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'view_Edit_save', true, true, null);\n\t\t\t\t// if (sdata.Recode !== \"\" && sdata.Recode !== undefined) {\n\t\t\t\t//未保存过时\n\t\t\t\tif (status === \"\" || status === undefined) {\n\t\t\t\t\tthis.addfiledcontrol(sViewinfor, 'view_Edit_submit', true, false, null);\n\t\t\t\t} else {\n\t\t\t\t\tthis.addfiledcontrol(sViewinfor, 'view_Edit_submit', true, true, null);\n\t\t\t\t};\n\n\t\t\t\tfor (var i = 0; i < sViewinfor.length; i++) {\n\t\t\t\t\tif (sViewinfor[i].visible !== null) {\n\t\t\t\t\t\tthis.getView().byId(sViewinfor[i].element).setVisible(sViewinfor[i].visible);\n\t\t\t\t\t}\n\t\t\t\t\tif (sViewinfor[i].enable !== null) {\n\t\t\t\t\t\tthis.getView().byId(sViewinfor[i].element).setEnabled(sViewinfor[i].enable);\n\t\t\t\t\t}\n\t\t\t\t\tif (sViewinfor[i].editable !== null) {\n\t\t\t\t\t\tthis.getView().byId(sViewinfor[i].element).setEditable(sViewinfor[i].editable);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tif (this.getView().byId(\"CLBXPAGE\")) {\n\t\t\t\t\tthis.getView().byId(\"CLBXPAGE\").setShowFooter(true);\n\t\t\t\t}\n\t\t\t\tif (this.getView().byId(\"CLBX_page_HOME\")) {\n\t\t\t\t\tthis.getView().byId(\"CLBX_page_HOME\").setShowFooter(true);\n\t\t\t\t}\n\n\t\t\t\tthis.getView().byId(\"fileUploader\").setVisible(true);\n\t\t\t\tthis.getView().byId(\"fileUpload_delete\").setVisible(true);\n\t\t\t\tdebugger;\n\t\t\t} else if (status === \"C\" || status === \"E\") {\n\t\t\t\t//审批中 已审批\n\t\t\t\tthis.getView().byId(\"fileUploader\").setVisible(false);\n\t\t\t\tvar elements = that.getView().findElements(true);\n\t\t\t\tthis.getView().byId(\"ip_Bchxje\").setEditable(false);\n\t\t\t\tfor (var i = 0; i < elements.length; i++) {\n\t\t\t\t\tif (elements[i].getMetadata().getName() === \"sap.m.MultiInput\" || elements[i].getMetadata().getName() === \"sap.m.Input\") {\n\t\t\t\t\t\telements[i].setEditable(false);\n\t\t\t\t\t}\n\t\t\t\t\tif (elements[i].getMetadata().getName() === \"sap.m.Button\") {\n\t\t\t\t\t\telements[i].setVisible(false);\n\t\t\t\t\t}\n\t\t\t\t\tif (elements[i].getMetadata().getName() === \"sap.m.Page\") {\n\t\t\t\t\t\telements[i].setShowFooter(false);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\taddfiledcontrol: function(sViewinfor, selement, svisible, senable, seditable) {\n\t\t\tvar wa = {\n\t\t\t\telement: selement,\n\t\t\t\tvisible: svisible,\n\t\t\t\tenable: senable,\n\t\t\t\teditable: seditable,\n\t\t\t};\n\t\t\tsViewinfor.splice(0, 0, wa);\n\t\t\treturn sViewinfor;\n\t\t},\n\t\t//add by ymz e\n\t\tonAfterRendering: function() {\n\t\t\t//Util.oview = this;\n\t\t\tthis.checkScreenSize(this);\n\t\t\t//sap.ui.Device.resize.attachHandler(this.checkScreenSize);\n\n\t\t},\n\n\t\tshowData: function(opara) {\n\t\t\tUtil.setBusy(true);\n\t\t\tvar that = this;\n\t\t\tvar sObjectId = opara.id;\n\t\t\tvar sObjectPath = this.getView().getModel().createKey(\"Clbx_headerSet\", {\n\t\t\t\tRecode: sObjectId\n\t\t\t});\n\t\t\tsObjectPath = \"/\" + sObjectPath;\n\t\t\tthis.getView().unbindElement();\n\t\t\tdebugger;\n\n\t\t\t//发票合计model\n\t\t\tvar oJson = {\n\t\t\t\tbhxje: \"\",\n\t\t\t\tbhxse: \"\",\n\t\t\t\thsje: \"\"\n\t\t\t};\n\t\t\tvar oJson = new sap.ui.model.json.JSONModel(oJson);\n\t\t\tthis.setModel(oJson, \"fphjmodel\");\n\t\t\tthis.getView().getModel(\"fphjmodel\").setProperty(\"/bhxje\", 0.00)\n\t\t\tthis.getView().getModel(\"fphjmodel\").setProperty(\"/bhxse\", 0.00);\n\t\t\tthis.getView().getModel(\"fphjmodel\").setProperty(\"/hsje\", 0.00);\n\t\t\t\n\t\t\tvar sdata = this.getView().getModel().getProperty(sObjectPath);\n\t\t\tif (sdata) {\n\t\t\t\t//this.getView().getModel().refresh();\n\t\t\t\tthat.setscreen(sdata.Spzt, sdata.Btmark);\n\t\t\t\tUtil.setBusy(false);\n\t\t\t};\n\t\t\tthis.getView().bindElement({\n\t\t\t\tpath: sObjectPath,\n\t\t\t\tevents: {\n\t\t\t\t\tdataRequested: function() {\n\t\t\t\t\t\tconsole.log(\"发起\");\n\t\t\t\t\t},\n\t\t\t\t\tdataReceived: function(oData, response) {\n\t\t\t\t\t\tUtil.setBusy(false);\n\t\t\t\t\t\tvar model = oData.getParameters();\n\t\t\t\t\t\tvar Recode = model.data.Recode;\n\t\t\t\t\t\tthat.getFiles(that, Recode);\n\t\t\t\t\t\t// if (model.data.Spzt === \"A\" || model.data.Spzt === \"D\" || model.data.Spzt === \"R\") {\n\t\t\t\t\t\t// that.getView().byId(\"view_Edit_save\").setEnabled(true);\n\t\t\t\t\t\t// that.getView().byId(\"view_Edit_submit\").setEnabled(true);\n\t\t\t\t\t\t// } else {\n\t\t\t\t\t\t// that.getView().byId(\"view_Edit_save\").setEnabled(false);\n\t\t\t\t\t\t// that.getView().byId(\"view_Edit_submit\").setEnabled(false);\n\t\t\t\t\t\t// }\n\t\t\t\t\t\tif (sap.ui.getCore().AppContext.Apps === \"Todolist\") {\n\t\t\t\t\t\t\t// that.getView().byId(\"view_Edit_save\").setVisible(false);\n\t\t\t\t\t\t\t// that.getView().byId(\"view_Edit_submit\").setVisible(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (that.getOwnerComponent()._status === undefined || that.getOwnerComponent()._status === \"\") {\n\t\t\t\t\t\t\tthat.setscreen(model.data.Spzt, model.data.Btmark);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.setscreen(that.getOwnerComponent()._status);\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (this.getView().getBindingContext() !== undefined) {\n\t\t\t\tvar model = this.getView().getBindingContext().getProperty();\n\t\t\t\t// if (model.Spzt === \"A\" || model.Spzt === \"D\" || model.Spzt === \"R\") {\n\t\t\t\t// \tthat.getView().byId(\"view_Edit_save\").setEnabled(true);\n\t\t\t\t// \tthat.getView().byId(\"view_Edit_submit\").setEnabled(true);\n\t\t\t\t// } else {\n\t\t\t\t// \tthat.getView().byId(\"view_Edit_save\").setEnabled(false);\n\t\t\t\t// \tthat.getView().byId(\"view_Edit_submit\").setEnabled(false);\n\t\t\t\t// }\n\t\t\t}\n\t\t},\n\t\tprepareNewData: function() {\n\t\t\tvar that = this;\n\t\t\tif (that.getView().byId(\"view_Edit_save\") === undefined) {\n\t\t\t\tvar data = that.getView().getModel(\"model_edit\");\n\t\t\t\tdata.button_save_enabled = true;\n\t\t\t\tdata.button_submit_enabled = false;\n\t\t\t\tthat.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\n\t\t\t} else {\n\t\t\t\t// that.getView().byId(\"view_Edit_save\").setEnabled(true);\n\t\t\t\t// that.getView().byId(\"view_Edit_submit\").setEnabled(false);\n\n\t\t\t}\n\n\t\t\t//初始化输入表单数据 数据校验\n\t\t\tvar data = {\n\t\t\t\t\"Item\": []\n\t\t\t};\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_file\");\n\t\t\t//add\n\t\t\tthis.byId(\"CLBX_CLXX_table\").unbindAggregation(\"items\");\n\t\t\tthis.byId(\"table_sq\").unbindAggregation(\"items\");\n\t\t\tthis.byId(\"table_hx\").unbindAggregation(\"items\");\n\t\t\tthis.byId(\"table_fp\").unbindAggregation(\"items\");\n\n\t\t\t//发票合计model\n\t\t\tvar oJson = {\n\t\t\t\tbhxje: \"\",\n\t\t\t\tbhxse: \"\",\n\t\t\t\thsje: \"\"\n\t\t\t};\n\t\t\tvar oJson = new sap.ui.model.json.JSONModel(oJson);\n\t\t\tthis.setModel(oJson, \"fphjmodel\");\n\n\t\t\t// var bhsje = Formatter.FloatFormat(bhsje);\n\t\t\t// var se = Formatter.FloatFormat(se);\n\t\t\t// var hsje = Formatter.FloatFormat(hsje);\n\n\t\t\t//清空发票\n\t\t\tthis.getView().getModel(\"fphjmodel\").setProperty(\"/bhxje\", 0.00)\n\t\t\tthis.getView().getModel(\"fphjmodel\").setProperty(\"/bhxse\", 0.00);\n\t\t\tthis.getView().getModel(\"fphjmodel\").setProperty(\"/hsje\", 0.00);\n\n\t\t\t//初始化输入表单数据 数据校验\n\t\t\tvar data = {\n\t\t\t\t\"WrbtrValueState\": \"None\",\n\t\t\t\t\"WrbtrValueStateText\": \"\",\n\t\t\t\t\"Kursf_editable\": false,\n\t\t\t\t\"button_save_enabled\": true,\n\t\t\t\t\"button_submit_enabled\": false,\n\t\t\t};\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\n\n\t\t\t//初始化登录人信息\n\t\t\t// if (sap.ushell != null) {\n\t\t\t// \tthis.getOwnerComponent()._userid = sap.ushell.Container.getService(\"UserInfo\").getId();\n\t\t\t// } else {\n\t\t\t// \tthis.getOwnerComponent()._userid = \"ZZLIYJ\";\n\t\t\t// };\n\t\t\tvar loc = location.href.toLowerCase();\n\t\t\tif (loc.indexOf(\"fiorilaunchpad.html\") > 0) {\n\t\t\t\tthis.getOwnerComponent()._userid = sap.ushell.Container.getService(\"UserInfo\").getId();\n\t\t\t} else {\n\t\t\t\tthis.getOwnerComponent()._userid = \"ZZLIYJ\";\n\t\t\t};\n\n\t\t\t//初始化输入表单数据 总表 空数据\n\t\t\tvar oEntry = this.getView().getModel().createEntry(\"Clbx_headerSet\");\n\t\t\tthis.getView().byId(\"Panel_h\").setBindingContext(oEntry);\n\t\t\tthis.getView().setBindingContext(oEntry);\n\t\t\tvar opath = oEntry.getPath();\n\n\t\t\tthis.getView().getModel().setRefreshAfterChange(true);\n\t\t\tthis.getpersoninfo();\n\n\t\t},\n\n\t\tgetpersoninfo: function() {\n\n\t\t\tvar that = this;\n\t\t\tvar userid = this.getOwnerComponent()._userid;\n\t\t\tvar loc = location.href.toLowerCase();\n\t\t\tif (loc.indexOf(\"fiorilaunchpad.html\") > 0) {\n\t\t\t\tthis.getOwnerComponent()._userid = sap.ushell.Container.getService(\"UserInfo\").getId();\n\t\t\t} else {\n\t\t\t\tthis.getOwnerComponent()._userid = \"ZZLIYJ\";\n\t\t\t};\n\t\t\tvar omodel = this.getView().getModel();\n\t\t\t// var sPath = \"/RybhSet('\" + userid + \"')\";\n\t\t\tvar sPathroot = this.getView().byId(\"Panel_h\").getBindingContext().getPath();\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV/\", true);\n\t\t\tvar sPath = \"/RybhSet?$filter=Usrid eq '\" + userid + \"'\";\n\t\t\t// this.getView().getModel().read(sPath, {\n\t\t\toDataModel.read(sPath, {\n\t\t\t\tsuccess: function(oData) {\n\t\t\t\t\tif (oData.results[0].Btmark === \"\") {\n\t\t\t\t\t\tthat.getView().byId(\"IP_BUKRS\").setEditable(false);\n\t\t\t\t\t}\n\t\t\t\t\t//初始化主页面的个别数据 主model没有的字段也可\n\t\t\t\t\tthat.getView().getModel().setProperty(sPathroot + \"/Recode\", \"\");\n\t\t\t\t\tthat.getView().getModel().setProperty(sPathroot + \"/Redate\", oData.results[0].Datum);\n\n\t\t\t\t\tthat.getView().getModel().setProperty(sPathroot + \"/PernrB\", oData.results[0].Pernr);\n\t\t\t\t\tthat.getView().getModel().setProperty(sPathroot + \"/SnameB\", oData.results[0].Sname);\n\n\t\t\t\t\tthat.getView().getModel().setProperty(sPathroot + \"/Pernr\", oData.results[0].Pernr);\n\t\t\t\t\tthat.getView().getModel().setProperty(sPathroot + \"/Sname\", oData.results[0].Sname);\n\n\t\t\t\t\tthat.getView().getModel().setProperty(sPathroot + \"/Usrid\", userid);\n\t\t\t\t\tthat.getView().getModel().setProperty(sPathroot + \"/UsridS\", oData.results[0].Usrid);\n\n\t\t\t\t\tthat.getView().getModel().setProperty(sPathroot + \"/Kostl\", oData.results[0].Kostl);\n\t\t\t\t\tthat.getView().getModel().setProperty(sPathroot + \"/Ktext\", oData.results[0].Ktext);\n\n\t\t\t\t\tthat.getView().getModel().setProperty(sPathroot + \"/Orgeh\", oData.results[0].Orgeh);\n\t\t\t\t\tthat.getView().getModel().setProperty(sPathroot + \"/OrgehText\", oData.results[0].OrgehText);\n\n\t\t\t\t\tthat.getView().getModel().setProperty(sPathroot + \"/Butxt\", oData.results[0].Butxt);\n\t\t\t\t\tthat.getView().getModel().setProperty(sPathroot + \"/Bukrs\", oData.results[0].Bukrs);\n\n\t\t\t\t\tthat.getView().getModel().setProperty(sPathroot + \"/Telnum\", oData.results[0].Ptel);\n\t\t\t\t\tthat.getView().getModel().setProperty(sPathroot + \"/Accountname\", oData.results[0].Sname);\n\t\t\t\t\tthat.getView().getModel().setProperty(sPathroot + \"/Banka\", oData.results[0].Banka);\n\t\t\t\t\tthat.getView().getModel().setProperty(sPathroot + \"/Bankn\", oData.results[0].Bankn);\n\n\t\t\t\t\tthat.getView().getModel().setProperty(sPathroot + \"/Prctr\", oData.results[0].Prctr);\n\t\t\t\t\tthat.getView().getModel().setProperty(sPathroot + \"/PrctrKtext\", oData.results[0].KtextPrctr);\n\n\t\t\t\t\tthat.getView().getModel().setProperty(sPathroot + \"/Wrbtr\", \"0.00\");\n\t\t\t\t\tthat.getView().getModel().setProperty(sPathroot + \"/Bczfje\", \"0.00\");\n\t\t\t\t\tthat.getView().getModel().setProperty(sPathroot + \"/Bchxje\", \"0.00\");\n\n\t\t\t\t\t// that.getView().getModel().setProperty(sPathroot + \"/Fjzs\", \"0\");\n\n\t\t\t\t\t//初始化报销类型\n\t\t\t\t\tthat.readBEType(that);\n\n\t\t\t\t\tthat.setBusy(false);\n\t\t\t\t},\n\t\t\t\terror: function(oData) {\n\n\t\t\t\t},\n\t\t\t\tasync: false\n\t\t\t});\n\t\t},\n\t\treadBEType: function(that) {\n\t\t\tvar path = that.getView().byId(\"Panel_h\").getBindingContext().getPath() + \"/\";\n\t\t\tvar model = that.getView().getModel();\n\t\t\tvar Bukrs = model.getProperty(path + \"Bukrs\");\n\n\t\t\tvar data = that.getView().getModel(\"GLOBLEDATA\").oData.DKKD;\n\t\t\tif (data === \"BX\") {\n\t\t\t\tvar DKKD = \"BX\";\n\t\t\t} else {\n\t\t\t\tvar DKKD = \"CL\";\n\t\t\t}\n\n\t\t\t//var sPath = \"/BETYPESet?$filter=( Bukrs eq '\" + Bukrs + \"' ) and ( Dkkd eq '\" + DKKD + \"' ) and (Etkd eq '\" + ETKD + \"')\";\n\t\t\tvar sPath = \"/BETYPESet?$filter=( Bukrs eq '\" + Bukrs + \"' ) and ( Dkkd eq '\" + DKKD + \"' )\";\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\n\t\t\toDataModel.read(sPath, {\n\t\t\t\tsuccess: function(oData, response) {\n\t\t\t\t\tif (oData.results.length > 0) {\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Etkd\", oData.results[0].Etkd);\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Etnm\", oData.results[0].Etnm);\n\t\t\t\t\t\tvar data = {};\n\t\t\t\t\t\tdata.Etdsc = oData.results[0].Etdsc;\n\t\t\t\t\t\tdata.Lcid = oData.results[0].Lcid;\n\t\t\t\t\t\tdata.Lcbm = oData.results[0].Lcbm;\n\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(data);\n\t\t\t\t\t\tthat.getView().setModel(model, \"model_edit\");\n\t\t\t\t\t} else {\n\n\t\t\t\t\t}\n\n\t\t\t\t},\n\t\t\t\terror: function(oError) {\n\n\t\t\t\t},\n\t\t\t\tasync: false\n\t\t\t});\n\t\t},\n\t\t/* =========================================================== */\n\t\t/* event handlers                                              */\n\t\t/* =========================================================== */\n\n\t\t/**\n\t\t * Triggered by the table's 'updateFinished' event: after new table\n\t\t * data is available, this handler method updates the table counter.\n\t\t * This should only happen if the update was successful, which is\n\t\t * why this handler is attached to 'updateFinished' and not to the\n\t\t * table's list binding's 'dataReceived' method.\n\t\t * @param {sap.ui.base.Event} oEvent the update finished event\n\t\t * @public\n\t\t */\n\t\tonUpdateFinished: function(oEvent) {\n\t\t\t// update the worklist's object counter after the table update\n\t\t\tvar sTitle,\n\t\t\t\toTable = oEvent.getSource(),\n\t\t\t\tiTotalItems = oEvent.getParameter(\"total\");\n\t\t\t// only update the counter if the length is final and\n\t\t\t// the table is not empty\n\t\t\tif (iTotalItems && oTable.getBinding(\"items\").isLengthFinal()) {\n\t\t\t\tsTitle = this.getResourceBundle().getText(\"worklistTableTitleCount\", [iTotalItems]);\n\t\t\t} else {\n\t\t\t\tsTitle = this.getResourceBundle().getText(\"worklistTableTitle\");\n\t\t\t}\n\t\t\tthis.getModel(\"worklistView\").setProperty(\"/worklistTableTitle\", sTitle);\n\t\t},\n\t\tonUpdateFinishedfp: function(oEvent) {\n\t\t\t// update the worklist's object counter after the table update\n\t\t\tvar sTitle,\n\t\t\t\toTable = oEvent.getSource(),\n\t\t\t\tiTotalItems = oEvent.getParameter(\"total\");\n\t\t\t// only update the counter if the length is final and\n\t\t\t// the table is not empty\n\t\t\tif (iTotalItems && oTable.getBinding(\"items\").isLengthFinal()) {\n\t\t\t\tsTitle = this.getResourceBundle().getText(\"worklistTableTitleCount\", [iTotalItems]);\n\t\t\t} else {\n\t\t\t\tsTitle = this.getResourceBundle().getText(\"worklistTableTitle\");\n\t\t\t}\n\t\t\tthis.getModel(\"worklistView\").setProperty(\"/worklistTableTitle\", sTitle);\n\t\t\t//增加发票合计\n\t\t\tthis.getFphj();\n\t\t},\n\t\t/**\n\t\t * Event handler when a table item gets pressed\n\t\t * @param {sap.ui.base.Event} oEvent the table selectionChange event\n\t\t * @public\n\t\t */\n\t\tonPress: function(oEvent) {\n\t\t\t// The source is the list item that got pressed\n\t\t\tthis._showObject(oEvent.getSource());\n\t\t},\n\n\t\t/**\n\t\t * Event handler for navigating back.\n\t\t * It there is a history entry or an previous app-to-app navigation we go one step back in the browser history\n\t\t * If not, it will navigate to the shell home\n\t\t * @public\n\t\t */\n\t\tonNavBack: function() {\n\t\t\tvar sPreviousHash = History.getInstance().getPreviousHash(),\n\t\t\t\toCrossAppNavigator = sap.ushell.Container.getService(\"CrossApplicationNavigation\");\n\n\t\t\tif (sPreviousHash !== undefined || !oCrossAppNavigator.isInitialNavigation()) {\n\t\t\t\thistory.go(-1);\n\t\t\t} else {\n\t\t\t\toCrossAppNavigator.toExternal({\n\t\t\t\t\ttarget: {\n\t\t\t\t\t\tshellHash: \"#Shell-home\"\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Event handler when the share in JAM button has been clicked\n\t\t * @public\n\t\t */\n\t\tonShareInJamPress: function() {\n\t\t\tvar oViewModel = this.getModel(\"worklistView\"),\n\t\t\t\toShareDialog = sap.ui.getCore().createComponent({\n\t\t\t\t\tname: \"sap.collaboration.components.fiori.sharing.dialog\",\n\t\t\t\t\tsettings: {\n\t\t\t\t\t\tobject: {\n\t\t\t\t\t\t\tid: location.href,\n\t\t\t\t\t\t\tshare: oViewModel.getProperty(\"/shareOnJamTitle\")\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\toShareDialog.open();\n\t\t},\n\n\t\tonSearch: function(oEvent) {\n\t\t\tif (oEvent.getParameters().refreshButtonPressed) {\n\t\t\t\t// Search field's 'refresh' button has been pressed.\n\t\t\t\t// This is visible if you select any master list item.\n\t\t\t\t// In this case no new search is triggered, we only\n\t\t\t\t// refresh the list binding.\n\t\t\t\tthis.onRefresh();\n\t\t\t} else {\n\t\t\t\tvar oTableSearchState = [];\n\t\t\t\tvar sQuery = oEvent.getParameter(\"query\");\n\n\t\t\t\tif (sQuery && sQuery.length > 0) {\n\t\t\t\t\toTableSearchState = [new Filter(\"Recode\", FilterOperator.Contains, sQuery)];\n\t\t\t\t}\n\t\t\t\tthis._applySearch(oTableSearchState);\n\t\t\t}\n\n\t\t},\n\n\t\t/**\n\t\t * Event handler for refresh event. Keeps filter, sort\n\t\t * and group settings and refreshes the list binding.\n\t\t * @public\n\t\t */\n\t\tonRefresh: function() {\n\t\t\tvar oTable = this.byId(\"CLBX_CLXX_table\");\n\t\t\toTable.getBinding(\"items\").refresh();\n\t\t},\n\n\t\t/* =========================================================== */\n\t\t/* internal methods                                            */\n\t\t/* =========================================================== */\n\n\t\t/**\n\t\t * Shows the selected item on the object page\n\t\t * On phones a additional history entry is created\n\t\t * @param {sap.m.ObjectListItem} oItem selected Item\n\t\t * @private\n\t\t */\n\t\t_showObject: function(oItem) {\n\t\t\tthis.getRouter().navTo(\"object\", {\n\t\t\t\tobjectId: oItem.getBindingContext().getProperty(\"Recode\")\n\t\t\t});\n\t\t},\n\t\tonPress_clxx: function(oEvent) {\n\t\t\tsap.ui.getCore().CLBX_HOMEVIEW = this.getView();\n\t\t\tthis.getRouter().navTo(\"Clinfor\", {\n\t\t\t\tentityid: oEvent.getSource().getBindingContext().getPath().substring(1)\n\t\t\t});\n\n\t\t\t//add\n\t\t\tthis._nav = \"X\";\n\t\t},\n\n\t\t/**\n\t\t * Internal helper method to apply both filter and search state together on the list binding\n\t\t * @param {object} oTableSearchState an array of filters for the search\n\t\t * @private\n\t\t */\n\t\t_applySearch: function(oTableSearchState) {\n\t\t\tvar oTable = this.byId(\"CLBX_CLXX_table\"),\n\t\t\t\toViewModel = this.getModel(\"worklistView\");\n\t\t\toTable.getBinding(\"items\").filter(oTableSearchState, \"Application\");\n\t\t\t// changes the noDataText of the list in case there are no filter results\n\t\t\tif (oTableSearchState.length !== 0) {\n\t\t\t\toViewModel.setProperty(\"/tableNoDataText\", this.getResourceBundle().getText(\"worklistNoDataWithSearchText\"));\n\t\t\t}\n\t\t},\n\n\t\tonAddCLINFOR: function(OEvent) {\n\t\t\t// clxx_num += 1;\n\t\t\t// var newData = {Recode:clxx_num};\n\t\t\t// var oEntry = this.getView().getModel().createEntry(\"Clbx_itemSet\", {\n\t\t\t// \tproperties: newData,\n\t\t\t// \tsuccess: function() {\n\t\t\t// \t},\n\t\t\t// \terror: function() {\n\t\t\t// \t}\n\n\t\t\t// });\n\n\t\t\t// var table = this.byId(\"table\");\n\t\t\t// var tmp = this._tmp_table;\n\n\t\t\t// var table_item_clone = this.getView().byId(\"table_item\").clone();\n\n\t\t\t// table_item_clone.setBindingContext(oEntry);\n\n\t\t\t// var table = this.getView().byId(\"table\");\n\n\t\t\t// table.addItem(table_item_clone);\n\n\t\t\t// // table.bindAggregation(\"items\", {\n\t\t\t// // \tpath: \"/Clbx_itemSet\",\n\t\t\t// // \ttemplate: tmp\n\t\t\t// // });\n\n\t\t\t// this.getRouter().navTo(\"Clinfor\",{entityid:oEntry.getPath().substring(1)});\n\n\t\t\tvar table = this.byId(\"CLBX_CLXX_table\");\n\t\t\ttable.setModel(this.getView().getModel());\n\t\t\tvar SHeader = this.getView().byId(\"Panel_h\").getBindingContext().getProperty();\n\t\t\tvar Bukrs = SHeader.Bukrs;\n\t\t\tvar Etkd = SHeader.Etkd;\n\t\t\tsap.ui.getCore().AppContext.Bukrs = Bukrs;\n\t\t\tsap.ui.getCore().AppContext.Etkd = Etkd;\n\t\t\tsap.ui.getCore().CLBX_HOMEVIEW = this.getView();\n\t\t\tthis.getRouter().navTo(\"Clinfor\");\n\n\t\t\t//add\n\t\t\tthis._nav = \"X\";\n\t\t},\n\t\tonGlsqd: function() {\n\t\t\t//this.getRouter().navTo(\"Glsqd\");\n\t\t\tvar that = this;\n\t\t\tthis._oGLSQDDialog = this.getView().byId(\"CLBX_Dialog_glsqd\");\n\t\t\tvar oFragmentController = {\n\t\t\t\tonDialogBack: function() {\n\t\t\t\t\tthat._oGLSQDDialog.close();\n\n\t\t\t\t\t//that._oView.getController().callbackConfirm();\n\t\t\t\t},\n\t\t\t\tonDialogSave: function(oEvent) {\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (!this._oGLSQDDialog) {\n\t\t\t\tthis._oGLSQDDialog = sap.ui.xmlfragment(this.getView().getId(), \"sh.bz.common.fragment.CLBX_DIALOG_Glsqd\", this.getView().getController());\n\n\t\t\t\tthis.getView().addDependent(this._oGLSQDDialog);\n\t\t\t}\n\t\t\tvar spath;\n\t\t\t//this.getView().getModel()\n\n\t\t\tspath = \"/FysqSet\";\n\t\t\t//?$filter=PernrS eq '20003431'\n\n\t\t\tthis._oGLSQDDialog.bindElement({\n\t\t\t\tchange: this._onBindingChange.bind(this),\n\t\t\t\tpath: spath,\n\t\t\t\tevents: {\n\t\t\t\t\tdataRequested: function() {\n\n\t\t\t\t\t},\n\t\t\t\t\tdataReceived: function() {\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._oGLSQDDialog.setModel(this.getView().getModel());\n\t\t\tthis._oGLSQDDialog.open();\n\t\t\t// this.getView().getModel().attachRequestCompleted(function (oEvent) {\n\t\t\tvar sdata = this.getView().byId(\"Panel_h\").getBindingContext().getProperty();\n\t\t\tvar PernrS = sdata.PernrB;\n\t\t\t// var sEtkd = sdata.Etkd;\n\t\t\t// spernrs = \"20003431\";\n\t\t\t// sEtkd = \"EX01\";\n\t\t\tvar oFilter1 = new sap.ui.model.Filter(\"PernrS\", sap.ui.model.FilterOperator.EQ, PernrS);\n\t\t\t// var oFilter2 = new sap.ui.model.Filter(\"Etkd\", sap.ui.model.FilterOperator.EQ, sEtkd);\n\n\t\t\tvar ofilterall = [];\n\t\t\tofilterall.push(oFilter1);\n\t\t\t// ofilterall.push(oFilter2);\n\t\t\tvar otable = this.byId(\"table_sq\");\n\t\t\tvar allitems = otable.getItems();\n\t\t\t//去掉已经选择的借款单号\n\t\t\tfor (var i = 0; i < allitems.length; i++) {\n\t\t\t\tofilterall.push(new sap.ui.model.Filter(\"Recode\", sap.ui.model.FilterOperator.NE, allitems[i].getBindingContext().getProperty().Recode));\n\t\t\t};\n\n\t\t\tthis.byId(\"CLBX_dialogtable_sq\").getBinding(\"items\").filter(ofilterall);\n\t\t\t//});\n\n\t\t},\n\t\tonDialogBackGL: function() {\n\t\t\tthis._oGLSQDDialog.close();\n\n\t\t\t//that._oView.getController().callbackConfirm();\n\t\t},\n\t\tonDialogBackFp: function() {\n\t\t\tthis._oFpDialog.close();\n\n\t\t\t//that._oView.getController().callbackConfirm();\n\t\t},\n\t\tonDialogBackHx: function() {\n\t\t\tthis._oHxDialog.close();\n\n\t\t\t//that._oView.getController().callbackConfirm();\n\t\t},\n\t\tonDialogSaveGL: function(oEvent) {\n\t\t\tvar oseltable = this.getView().byId(\"CLBX_dialogtable_sq\");\n\t\t\tvar oselcontext = oseltable.getSelectedContexts();\n\t\t\t// var otable = this.getView().byId(\"table_sq\");\n\t\t\t// var otable_item_clone = oselcontext[0];\n\t\t\t// otable.addItem(otable_item_clone);\n\t\t\tfor (var i = 0; i < oselcontext.length; i++) {\n\t\t\t\tvar otable = this.getView().byId(\"table_sq\");\n\t\t\t\tthis.byId(\"table_sq\").destroyItems();\n\t\t\t\tvar otable_item_clone = this.getView().byId(\"table_item_sq\").clone();\n\t\t\t\totable_item_clone.setBindingContext(oselcontext[i]);\n\t\t\t\totable.addItem(otable_item_clone);\n\t\t\t}\n\t\t\tthis.onDialogBackGL();\n\t\t},\n\n\t\t_onBindingChange: function() {\n\t\t\tvar oView = this.getView(),\n\t\t\t\toElementBinding = oView.getElementBinding();\n\n\t\t\tvar oFilter = new sap.ui.model.Filter(\"PernrS\", sap.ui.model.FilterOperator.EQ, '20003431');\n\t\t\tthis.byId(\"CLBX_dialogtable_sq\").getBinding(\"items\").filter([oFilter]);\n\n\t\t},\n\t\tonHx: function() {\n\t\t\t//this.getRouter().navTo(\"Hx\");\n\t\t\t//this.getRouter().navTo(\"Glsqd\");\n\t\t\tvar that = this;\n\t\t\tthis._oHxDialog = this.getView().byId(\"CLBX_dialog_hx\");\n\t\t\tif (!this._oHxDialog) {\n\t\t\t\tthis._oHxDialog = sap.ui.xmlfragment(this.getView().getId(), \"sh.bz.common.fragment.CLBX_DIALOG_Hx\", this.getView().getController());\n\n\t\t\t\tthis.getView().addDependent(this._oHxDialog);\n\t\t\t}\n\t\t\tvar spath;\n\t\t\t//this.getView().getModel()\n\n\t\t\tspath = \"/HxSet\";\n\t\t\t//?$filter=PernrS eq '20003431'\n\n\t\t\tthis._oHxDialog.bindElement({\n\t\t\t\t//change: this._onBindingChange.bind(this),\n\t\t\t\tpath: spath,\n\t\t\t\tevents: {\n\t\t\t\t\tdataRequested: function() {\n\n\t\t\t\t\t},\n\t\t\t\t\tdataReceived: function() {\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._oHxDialog.setModel(this.getView().getModel());\n\t\t\tthis._oHxDialog.open();\n\t\t\tvar sdata = this.getView().byId(\"Panel_h\").getBindingContext().getProperty();\n\t\t\tvar sPernrJ = sdata.PernrB;\n\t\t\t//sPernrJ = \"10001099\";\n\t\t\tvar oFilter1 = new sap.ui.model.Filter(\"PernrJ\", sap.ui.model.FilterOperator.EQ, sPernrJ);\n\n\t\t\tvar ofilterall = [];\n\t\t\tofilterall.push(oFilter1);\n\t\t\tvar otable = this.byId(\"table_hx\");\n\t\t\tvar allitems = otable.getItems();\n\n\t\t\tfor (var i = 0; i < allitems.length; i++) {\n\t\t\t\tofilterall.push(new sap.ui.model.Filter(\"Jkdh\", sap.ui.model.FilterOperator.NE, allitems[i].getBindingContext().getProperty().Jkdh));\n\t\t\t}\n\t\t\tthis.byId(\"CLBX_dialogtable_hx\").getBinding(\"items\").filter(ofilterall);\n\t\t},\n\t\tonFp: function() {\n\t\t\t//this.getRouter().navTo(\"Fp\");\n\t\t\t//this.getRouter().navTo(\"Hx\");\n\t\t\t//this.getRouter().navTo(\"Glsqd\");\n\t\t\tvar that = this;\n\t\t\tthis._oFpDialog = this.getView().byId(\"CLBX_Dialog_Fp\");\n\t\t\tif (!this._oFpDialog) {\n\t\t\t\tthis._oFpDialog = sap.ui.xmlfragment(this.getView().getId(), \"sh.bz.common.fragment.CLBX_DIALOG_Fp\", this.getView().getController());\n\n\t\t\t\tthis.getView().addDependent(this._oFpDialog);\n\n\t\t\t}\n\t\t\tvar spath;\n\t\t\t//this.getView().getModel()\n\n\t\t\tspath = \"/FysqSet\";\n\t\t\t//spath = \"/FysqSet\";\n\t\t\t//?$filter=PernrS eq '20003431'\n\t\t\t//spath = \"/FPLISTSet?$filter=Userid eq ' \" +  + \"'\";\n\t\t\t//spath = \"/FPLISTSet?$filter=Userid eq 'ZZLIYJ'\";\n\t\t\t//spath = \"/FPLISTSet\";\n\t\t\tspath = \"/ZzspSet\";\n\n\t\t\tthis._oFpDialog.bindElement({\n\t\t\t\t//change: this._onBindingChange.bind(this),\n\t\t\t\tpath: spath,\n\t\t\t\tevents: {\n\t\t\t\t\tdataRequested: function() {\n\n\t\t\t\t\t},\n\t\t\t\t\tdataReceived: function() {\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t//this._oFpDialog.setModel(this.getView().getModel());\n\t\t\tthis._oFpDialog.open();\n\t\t\tvar sdata = this.getView().byId(\"Panel_h\").getBindingContext().getProperty();\n\t\t\tvar UsridS = sdata.UsridS;\n\t\t\t// var loc = location.href.toLowerCase();\n\t\t\t// if (loc.indexOf(\"fiorilaunchpad.html\") > 0) {\n\t\t\t// \tthis.getOwnerComponent()._userid = sap.ushell.Container.getService(\"UserInfo\").getId();\n\t\t\t// } else {\n\t\t\t// \tthis.getOwnerComponent()._userid = \"ZZLIYJ\";\n\t\t\t// }\n\t\t\tvar oFilter1 = new sap.ui.model.Filter(\"Crby\", sap.ui.model.FilterOperator.EQ, UsridS);\n\t\t\t//this.byId(\"CLBX_dialogtable_fp\").getBinding(\"items\").filter([oFilter1]);\n\n\t\t\tvar ofilterall = [];\n\t\t\tofilterall.push(oFilter1);\n\t\t\tvar otable = this.byId(\"table_fp\");\n\t\t\tvar allitems = otable.getItems();\n\n\t\t\tfor (var i = 0; i < allitems.length; i++) {\n\t\t\t\tofilterall.push(new sap.ui.model.Filter(\"Invoiceid\", sap.ui.model.FilterOperator.NE, allitems[i].getBindingContext().getProperty()\n\t\t\t\t\t.Invoiceid));\n\t\t\t};\n\n\t\t\tthis.byId(\"CLBX_dialogtable_fp\").getBinding(\"items\").filter(ofilterall);\n\n\t\t},\n\t\tonDialogSaveHx: function(oEvent) {\n\n\t\t\tvar oseltable = this.getView().byId(\"CLBX_dialogtable_hx\");\n\t\t\tvar oselcontext = oseltable.getSelectedContexts();\n\t\t\t//this.getView().byId(\"table_hx\").destroyItems();\n\t\t\tfor (var i = 0; i < oselcontext.length; i++) {\n\t\t\t\tvar otable = this.getView().byId(\"table_hx\");\n\t\t\t\tvar otable_item_clone = this.getView().byId(\"table_item_hx\").clone();\n\t\t\t\totable_item_clone.setBindingContext(oselcontext[i]);\n\t\t\t\totable_item_clone.getBindingContext().getProperty().Bchxje = null;\n\t\t\t\totable.addItem(otable_item_clone);\n\n\t\t\t\t//add\n\t\t\t\tthis.getView().getModel().setProperty(\"Hxdjh\", \"\", oselcontext[i], true);\n\t\t\t}\n\t\t\tthis.onDialogBackHx();\n\t\t\t//this.doHxRowNumber();\n\t\t},\n\t\tonDialogSaveFp: function(oEvent) {\n\n\t\t\tvar oseltable = this.getView().byId(\"CLBX_dialogtable_fp\");\n\t\t\tvar oselcontext = oseltable.getSelectedContexts();\n\n\t\t\tvar bhsje;\n\t\t\tvar se;\n\t\t\tvar hsje;\n\t\t\tbhsje = this.getView().getModel(\"fphjmodel\").getProperty(\"/bhxje\", bhsje);\n\t\t\tse = this.getView().getModel(\"fphjmodel\").getProperty(\"/bhxse\", se);\n\t\t\thsje = this.getView().getModel(\"fphjmodel\").getProperty(\"/hsje\", hsje);\n\t\t\t//this.getView().byId(\"table_fp\").destroyItems();\n\t\t\tfor (var i = 0; i < oselcontext.length; i++) {\n\t\t\t\tvar otable = this.getView().byId(\"table_fp\");\n\t\t\t\tvar otable_item_clone = this.getView().byId(\"table_item_fp\").clone();\n\t\t\t\totable_item_clone.setBindingContext(oselcontext[i]);\n\t\t\t\totable.addItem(otable_item_clone);\n\t\t\t\t//add\n\t\t\t\t//this.getView().getModel().setProperty(\"fplist\", \"\", oselcontext[i], true);\n\t\t\t\t//计算发票金额 \n\t\t\t\tvar itembhsje = 0;\n\t\t\t\tvar itemse = 0;\n\t\t\t\tvar itemhsje = 0;\n\t\t\t\tif (otable_item_clone.getBindingContext().getProperty().Awotax !== undefined) {\n\t\t\t\t\titembhsje = otable_item_clone.getBindingContext().getProperty().Awotax;\n\t\t\t\t}\n\t\t\t\tbhsje = parseFloat(bhsje) + parseFloat(itembhsje);\n\n\t\t\t\tif (otable_item_clone.getBindingContext().getProperty().Taxamount !== undefined) {\n\t\t\t\t\titemse = otable_item_clone.getBindingContext().getProperty().Taxamount;\n\t\t\t\t}\n\t\t\t\tse = parseFloat(se) + parseFloat(itemse);\n\t\t\t\tif (otable_item_clone.getBindingContext().getProperty().Awtax !== undefined) {\n\t\t\t\t\titemhsje = otable_item_clone.getBindingContext().getProperty().Awtax;\n\t\t\t\t}\n\t\t\t\thsje = parseFloat(hsje) + parseFloat(itemhsje);\n\n\t\t\t};\n\t\t\tvar bhsje = Formatter.FloatFormat(bhsje);\n\t\t\tvar se = Formatter.FloatFormat(se);\n\t\t\tvar hsje = Formatter.FloatFormat(hsje);\n\t\t\tthis.getView().getModel(\"fphjmodel\").setProperty(\"/bhxje\", bhsje)\n\t\t\tthis.getView().getModel(\"fphjmodel\").setProperty(\"/bhxse\", se);\n\t\t\tthis.getView().getModel(\"fphjmodel\").setProperty(\"/hsje\", hsje);\n\n\t\t\tthis.onDialogBackFp();\n\n\t\t},\n\t\tonDeleteHx: function(oEvent) {\n\n\t\t\tvar oselcontext = this.byId(\"table_hx\").getSelectedItems();\n\t\t\tfor (var i = 0; i < oselcontext.length; i++) {\n\t\t\t\tthis.byId(\"table_hx\").removeItem(oselcontext[i]);\n\t\t\t\tif (oselcontext[i].getBindingContext().getProperty().Bxdh === \"\" ||\n\t\t\t\t\toselcontext[i].getBindingContext().getProperty().Bxdh === undefined) {\n\t\t\t\t\tthis.getView().getModel().deleteCreatedEntry(oselcontext[i].getBindingContext());\n\t\t\t\t} else {\n\t\t\t\t\tvar wa = {\n\t\t\t\t\t\tpath: oselcontext[i].getBindingContext().getPath()\n\t\t\t\t\t};\n\t\t\t\t\tif (this._deleteHxdata === undefined) {\n\t\t\t\t\t\tthis._deleteHxdata = [];\n\t\t\t\t\t\tthis._deleteHxdata.splice(0, 0, wa);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._deleteHxdata.splice(0, 0, wa);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.changeBchxje();\n\t\t},\n\t\tonDeleteGL: function(oEvent) {\n\t\t\t//deal delete \n\t\t\t//这个直接在后台控制,select出之前的申请单,然后取消关联标志,然后把新的放进去 前台不处理\n\t\t\t// var allitems_glsqd = this.getView().byId(\"table_sq\").getItems();\n\t\t\t// if (allitems_glsqd[0] !== undefined) {\n\t\t\t// \tvar Sitemdata_glsqd = allitems_glsqd[0].getBindingContext().getProperty();\n\t\t\t// \tSHeader.Bxsqd = Sitemdata_glsqd.Recode;\n\t\t\t// } else {\n\t\t\t// \tSHeader.Bxsqd = \"\";\n\t\t\t// };\n\n\t\t\tthis.byId(\"table_sq\").destroyItems();\n\n\t\t},\n\t\tonDeleteFp: function(oEvent) {\n\t\t\tdebugger;\n\t\t\tvar oselcontext = this.byId(\"table_fp\").getSelectedItems();\n\t\t\tfor (var i = 0; i < oselcontext.length; i++) {\n\t\t\t\t//处理发票金额 s\n\t\t\t\tvar bhsje;\n\t\t\t\tvar se;\n\t\t\t\tvar hsje;\n\t\t\t\tbhsje = this.getView().getModel(\"fphjmodel\").getProperty(\"/bhxje\", bhsje);\n\t\t\t\tse = this.getView().getModel(\"fphjmodel\").getProperty(\"/bhxse\", se);\n\t\t\t\thsje = this.getView().getModel(\"fphjmodel\").getProperty(\"/hsje\", hsje);\n\n\t\t\t\tif (oselcontext[i].getBindingContext().getProperty().Awotax !== undefined) {\n\t\t\t\t\tvar itembhsje = oselcontext[i].getBindingContext().getProperty().Awotax;\n\t\t\t\t}\n\t\t\t\tbhsje = parseFloat(bhsje) - parseFloat(itembhsje);\n\n\t\t\t\tif (oselcontext[i].getBindingContext().getProperty().Taxamount !== undefined) {\n\t\t\t\t\tvar itemse = oselcontext[i].getBindingContext().getProperty().Taxamount;\n\t\t\t\t}\n\t\t\t\tse = parseFloat(se) - parseFloat(itemse);\n\t\t\t\tif (oselcontext[i].getBindingContext().getProperty().Awtax !== undefined) {\n\t\t\t\t\tvar itemhsje = oselcontext[i].getBindingContext().getProperty().Awtax;\n\t\t\t\t}\n\t\t\t\thsje = parseFloat(hsje) - parseFloat(itemhsje);\n\t\t\t\t//处理发票金额 e\n\n\t\t\t\tthis.byId(\"table_fp\").removeItem(oselcontext[i]);\n\t\t\t\tif (oselcontext[i].getBindingContext().getProperty().Recode === \"\" ||\n\t\t\t\t\toselcontext[i].getBindingContext().getProperty().Recode === undefined) {\n\t\t\t\t\tthis.getView().getModel().deleteCreatedEntry(oselcontext[i].getBindingContext());\n\t\t\t\t} else {\n\t\t\t\t\tvar wa = {\n\t\t\t\t\t\tpath: oselcontext[i].getBindingContext().getPath()\n\t\t\t\t\t};\n\t\t\t\t\tif (this._deleteFpdata === undefined) {\n\t\t\t\t\t\tthis._deleteFpdata = [];\n\t\t\t\t\t\tthis._deleteFpdata.splice(0, 0, wa);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._deleteFpdata.splice(0, 0, wa);\n\t\t\t\t\t};\n\n\t\t\t\t};\n\t\t\t};\n\t\t\t//处理发票金额 s\n\t\t\tvar bhsje = Formatter.FloatFormat(bhsje);\n\t\t\tvar se = Formatter.FloatFormat(se);\n\t\t\tvar hsje = Formatter.FloatFormat(hsje);\n\t\t\tthis.getView().getModel(\"fphjmodel\").setProperty(\"/bhxje\", bhsje);\n\t\t\tthis.getView().getModel(\"fphjmodel\").setProperty(\"/bhxse\", se);\n\t\t\tthis.getView().getModel(\"fphjmodel\").setProperty(\"/hsje\", hsje);\n\t\t\t//处理发票金额 e\n\t\t},\n\n\t\t//小数点\n\t\tonTwoAmountsum: function(oEvent) {\n\t\t\tvar value = oEvent.getSource().getValue();\n\t\t\tvar path = this.getView().byId(\"Panel_h\").getBindingContext().getPath() + \"/\";\n\t\t\tvar sum = Formatter.FloatFormat(value);\n\t\t\t//this.getView().getModel().setProperty(path + \"Amountsum\", sum);\n\t\t\toEvent.getSource().setValue(sum);\n\t\t},\n\n\t\tonDeleteXX: function(oEvent) {\n\n\t\t\tvar oselcontext = this.byId(\"CLBX_CLXX_table\").getSelectedItems();\n\t\t\tfor (var i = 0; i < oselcontext.length; i++) {\n\t\t\t\tthis.byId(\"CLBX_CLXX_table\").removeItem(oselcontext[i]);\n\t\t\t\tif (oselcontext[i].getBindingContext().getProperty().Recode === \"\" ||\n\t\t\t\t\toselcontext[i].getBindingContext().getProperty().Recode === undefined) {\n\t\t\t\t\tthis.getView().getModel().deleteCreatedEntry(oselcontext[i].getBindingContext());\n\t\t\t\t} else {\n\t\t\t\t\tvar wa = {\n\t\t\t\t\t\tpath: oselcontext[i].getBindingContext().getPath()\n\t\t\t\t\t};\n\t\t\t\t\tif (this._deleteXXdata === undefined) {\n\t\t\t\t\t\tthis._deleteXXdata = [];\n\t\t\t\t\t\tthis._deleteXXdata.splice(0, 0, wa);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._deleteXXdata.splice(0, 0, wa);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//计算报销金额 Bchxje\n\t\t\tthis.changeBxje();\n\t\t},\n\n\t\tonCancelCheckName: function(oEvent) {\n\t\t\tvar model = [];\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_CHECK\");\n\t\t\tthis.oDialogCheckName.close();\n\t\t},\n\n\t\tonDeleteItem: function(oEvent) {\n\t\t\t//读取选中的行的下标（数组）\n\t\t\tvar contexts = this.getView().byId(\"JKD_IP_table_file\").getSelectedContexts();\n\t\t\t//读取选中的行的内容（数组）\n\t\t\tvar items = contexts.map(function(c) {\n\t\t\t\treturn c.getObject();\n\t\t\t});\n\t\t\tvar items_Length = items.length;\n\t\t\tUtil.debug(JSON.stringify(items));\n\n\t\t\t//从后台删除选中的数据 TODO\n\t\t\tfor (var i = 0; i < items_Length; i++) {\n\t\t\t\t//Util.showInfo(\"文件 \" + items[i].Filename + \" removed\");\n\t\t\t}\n\n\t\t\t//从原始的数组 删除 选中的数组\n\t\t\tvar data = this.getView().getModel(\"model_file\").getData().Item;\n\t\t\tfor (var i = 0; i < items.length; i++) {\n\t\t\t\tfor (var j = 0; j < data.length; j++) {\n\t\t\t\t\tif (data[j] == items[i]) {\n\t\t\t\t\t\tdata.splice(j, 1);\n\t\t\t\t\t\tj = j - 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t//更新显示\n\t\t\tvar model = {\n\t\t\t\tItem: data\n\t\t\t};\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_file\");\n\t\t},\n\n\t\tsaveallorder: function(oEvent) {\n\t\t\t//保存时候的录入数据校验\n\t\t\tvar objs = [{\n\t\t\t\tidStr: \"IP_PERNR_B\", //报销人\n\t\t\t\tvalidNull: true\n\t\t\t}, {\n\t\t\t\tidStr: \"IP_PRCTR\", //利润中心\n\t\t\t\tvalidNull: true\n\t\t\t}, {\n\t\t\t\tidStr: \"IP_TELNUM\", //联系方式\n\t\t\t\tvalidNull: true,\n\t\t\t\treg: reg_PHONE, //验证手机号\n\t\t\t\tmsg: \"需输入有效手机号\"\n\t\t\t}, {\n\t\t\t\tidStr: \"IP_ACCOUNTNAME\", //户名\n\t\t\t\tvalidNull: true\n\t\t\t}, {\n\t\t\t\tidStr: \"IP_FJZS\", //附件张数\n\t\t\t\tvalidNull: true,\n\t\t\t\treg: reg_NO, //验证数字\n\t\t\t\tmsg: \"需输入有效数字\"\n\t\t\t}, {\n\t\t\t\tidStr: \"IP_FJZS\", //附件张数\n\t\t\t\tvalidNull: true,\n\t\t\t\treg: /^(0|([1-9]\\d{0,2}))$/, //验证数字\n\t\t\t\tmsg: \"需输入有效数字，最多999张附件\"\n\t\t\t}, {\n\t\t\t\tidStr: \"IP_BANKA\", //收款银行\n\t\t\t\tvalidNull: true\n\t\t\t}, {\n\t\t\t\tidStr: \"IP_NOTE\", //出差事由\n\t\t\t\tvalidNull: true\n\t\t\t}, {\n\t\t\t\tidStr: \"IP_BANKN\", //收款账号\n\t\t\t\tvalidNull: true,\n\t\t\t\treg: reg_BankNO, //验证18位数字\n\t\t\t\tmsg: \"需输入有效收款账号(最多18位数字)\"\n\t\t\t}, {\n\t\t\t\tidStr: \"IP_WRBTR\", //报销金额\n\t\t\t\tvalidNull: true\n\t\t\t}, {\n\t\t\t\tidStr: \"IP_ZLSCH\", //付款方式\n\t\t\t\tvalidNull: true\n\t\t\t}, {\n\t\t\t\tidStr: \"IP_ETNAME\", //费用类型\n\t\t\t\tvalidNull: true\n\t\t\t}, {\n\t\t\t\tidStr: \"IP_Orgeh\", //报销人部门\n\t\t\t\tvalidNull: true\n\t\t\t}];\n\t\t\tif (this.validForm(oEvent, this, objs))\n\t\t\t\treturn;\n\n\t\t\tvar view = this.getView();\n\t\t\tvar ipWrbtr = view.byId(\"IP_WRBTR\").getValue();\n\t\t\tvar ipBchxje = view.byId(\"IP_BCHXJE\").getValue();\n\n\t\t\tif (parseFloat(ipWrbtr) <= 0) {\n\t\t\t\tUtil.showError(\"请新增费用明细\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tvar valAllitems = this.getView().byId(\"CLBX_CLXX_table\").getItems();\n\t\t\tvar aufnr = [];\n\t\t\tfor (var i = 0; i < valAllitems.length; i++) {\n\t\t\t\tvar Sitemdata = valAllitems[i].getBindingContext().getProperty();\n\t\t\t\tif (Sitemdata && Sitemdata.Aufnr) {\n\t\t\t\t\tif (aufnr.length > 0) {\n\t\t\t\t\t\tif (aufnr[0] !== Sitemdata.Aufnr) {\n\t\t\t\t\t\t\tUtil.showError(\"费用明细行信息中订单不一致\");\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\taufnr.push(Sitemdata.Aufnr);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (parseFloat(ipWrbtr) < parseFloat(ipBchxje)) {\n\t\t\t\tUtil.showError(\"核销金额超出报销金额\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar table_hx = view.byId(\"table_hx\").getItems();\n\t\t\tif (table_hx.length > 0) {\n\t\t\t\tfor (var i = 0; i < table_hx.length; i++) {\n\t\t\t\t\tvar t = parseFloat(table_hx[i].getBindingContext().getProperty().Bchxje);\n\t\t\t\t\tif (!t || t === 0) {\n\t\t\t\t\t\tUtil.showError(\"请填写核销借款行核销金额\");\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar table_sq = view.byId(\"table_sq\").getItems();\n\t\t\tif (table_sq.length > 0) {\n\t\t\t\tfor (var i = 0; i < table_sq.length; i++) {\n\t\t\t\t\tvar t = parseFloat(table_sq[i].getBindingContext().getProperty().Amountsum);\n\t\t\t\t\tif (parseFloat(ipWrbtr) > parseFloat(table_sq[i].getBindingContext().getProperty().Amountsum)) {\n\t\t\t\t\t\tUtil.showError(\"报销金额超出申请金额,请检查 “差旅信息” 或 “关联申请单”\");\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// var inputss = [\n\t\t\t// \tview.byId(\"IP_WRBTR\"), //出差事由\n\t\t\t// \tview.byId(\"Bchxje\"), //报销金额\n\t\t\t// ];\n\t\t\t// if (!this.inputCheck(inputss)) {\n\t\t\t// \t//Util.showError(\"需输入必填字段\");\n\t\t\t// \tUtil.debug(\"需输入必填字段\");\n\t\t\t// \treturn;\n\t\t\t// }\n\t\t\t//return;\n\t\t\t// this.setBusy(true);\n\t\t\tvar SHeader = this.getView().byId(\"Panel_h\").getBindingContext().getProperty();\n\t\t\tvar sheaderpath = this.getView().byId(\"Panel_h\").getBindingContext().getPath();\n\n\t\t\t// if (sap.ushell != null)\n\t\t\t// \tuserid = sap.ushell.Container.getService(\"UserInfo\").getId(); //in Fiori FLP\n\t\t\t// else\n\t\t\t// \tvar userid = \"ZZLIYJ\"; //in SAP WebIDE test environment\n\t\t\tvar saveSuccess = false;\n\t\t\tvar that = this;\n\t\t\tvar Recode = SHeader.Recode;\n\t\t\tif (Recode !== \"\") {\n\t\t\t\t// var sdealPath = \"/HEADERSAVESet('\" + Recode + \"')\";\n\t\t\t\t// var oEntry = this.getView().getBindingContext().getProperty();\n\t\t\t\t// //delete oEntry.Uzeitcr;\n\t\t\t\t// //console.log(oEntry);\n\t\t\t\t// this.getView().getModel().update(sdealPath, oEntry, {\n\t\t\t\t// \tmerge: true,\n\t\t\t\t// \tsuccess: function(oData, oResponse) {\n\t\t\t\t// \t\t//Util.showInfo(\"保存成功\");\n\t\t\t\t// \t\t// that.getView().byId(\"view_Edit_save\").setEnabled(true);\n\t\t\t\t// \t\t// that.getView().byId(\"view_Edit_submit\").setEnabled(true);\n\t\t\t\t// \t},\n\t\t\t\t// \terror: function(error) {\n\t\t\t\t// \t\t//Util.showError(\"保存失败!\");\n\t\t\t\t// \t\t// that.getView().byId(\"view_Edit_save\").setEnabled(true);\n\t\t\t\t// \t\t// that.getView().byId(\"view_Edit_submit\").setEnabled(true);\n\t\t\t\t// \t},\n\t\t\t\t// \tasync: false\n\t\t\t\t// });\n\t\t\t\tthis.updateall();\n\t\t\t} else {\n\t\t\t\t//有问题 禁用\n\t\t\t\t// this.getView().getModel().submitChanges({\n\t\t\t\t// \tsuccess: function(oData) {\n\t\t\t\t// \t\tconsole.log(\"submit change success:\" + oData);\n\t\t\t\t// \t\tvar recode = oData.__batchResponses[0].__changeResponses[0].data.Recode;\n\t\t\t\t// \t\tthat.getView().getModel().setProperty(sheaderpath + \"/Recode\", recode);\n\t\t\t\t// \t},\n\t\t\t\t// \terror: function(oData) {\n\t\t\t\t// \t\tconsole.log(\"submit change failed:\" + oData);\n\t\t\t\t// \t}\n\t\t\t\t// });\n\t\t\t\t// return;\n\n\t\t\t\t//var date = new Date();\n\t\t\t\t//var Recode = that.getRecode(that);\n\t\t\t\t// var adata = that.getView().getBindingContext().getProperty(path + \"/\" + \"Redate\");\n\t\t\t\t//this.getView().getModel().setDeferredBatchGroups([\"grpCRT\"]);\n\t\t\t\tvar sdealPath = \"/Clbx_headerSet\";\n\t\t\t\t// console.log(this.getView().byId(\"Panel_h\").getBindingContext().getProperty());\n\t\t\t\tthat.getView().getModel().setProperty(sheaderpath + \"/Spzt\", \"A\");\n\t\t\t\tthat.getView().getModel().setProperty(sheaderpath + \"/Spztms\", \"起草\");\n\t\t\t\tvar data = that.getView().getModel(\"GLOBLEDATA\").oData.DKKD;\n\t\t\t\tif (data === \"BX\") {\n\t\t\t\t\tthat.getView().getModel().setProperty(sheaderpath + \"/Dkkd\", \"BX\");\n\t\t\t\t} else {\n\t\t\t\t\tthat.getView().getModel().setProperty(sheaderpath + \"/Dkkd\", \"CL\");\n\t\t\t\t}\n\t\t\t\t// SHeader.Spzt = \"A\";\n\t\t\t\t// SHeader.Spztms = \"起草\";\n\t\t\t\t// SHeader.Dkkd = \"CL\";\n\t\t\t\tvar SHeader = this.getView().byId(\"Panel_h\").getBindingContext().getProperty();\n\t\t\t\tdelete SHeader.Ktext;\n\t\t\t\tdelete SHeader.Butxt;\n\t\t\t\tdelete SHeader.PernrS;\n\t\t\t\tdelete SHeader.Etnm;\n\t\t\t\tdelete SHeader.PrctrKtext;\n\t\t\t\tdelete SHeader.OrgehText;\n\t\t\t\t// delete SHeader.ZlschText;\n\t\t\t\tvar allitems_glsqd = this.getView().byId(\"table_sq\").getItems();\n\t\t\t\tif (allitems_glsqd[0] !== undefined) {\n\t\t\t\t\tvar Sitemdata_glsqd = allitems_glsqd[0].getBindingContext().getProperty();\n\t\t\t\t\tSHeader.Bxsqd = Sitemdata_glsqd.Recode;\n\t\t\t\t} else {\n\t\t\t\t\tSHeader.Bxsqd = \"\";\n\t\t\t\t};\n\n\t\t\t\tconsole.log(this.getView().byId(\"Panel_h\").getBindingContext().getProperty());\n\t\t\t\tthis.getView().getModel().create(sdealPath, SHeader, {\n\t\t\t\t\tsuccess: function(oData, oResponse) {\n\t\t\t\t\t\tdebugger;\n\t\t\t\t\t\tthat.getView().getModel().setProperty(sheaderpath + \"/Recode\", oData.Recode);\n\t\t\t\t\t\tUtil.showInfo(\"保存成功\");\n\t\t\t\t\t\tthat.setscreen(\"A\");\n\t\t\t\t\t\tif (that.getView().byId(\"view_Edit_save\") === undefined) {\n\t\t\t\t\t\t\tvar data = that.getView().getModel(\"model_edit\");\n\t\t\t\t\t\t\tdata.button_save_enabled = true;\n\t\t\t\t\t\t\tdata.button_submit_enabled = true;\n\t\t\t\t\t\t\tthat.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// that.getView().byId(\"view_Edit_save\").setEnabled(true);\n\t\t\t\t\t\t\t// that.getView().byId(\"view_Edit_submit\").setEnabled(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthat.setBusy(false);\n\t\t\t\t\t},\n\t\t\t\t\terror: function(error) {\n\t\t\t\t\t\tdebugger;\n\t\t\t\t\t\t//that.setBusy(false);\n\t\t\t\t\t},\n\t\t\t\t\tasync: false,\n\t\t\t\t\tgroupId: \"grpCRT\"\n\t\t\t\t});\n\t\t\t\tSHeader = this.getView().byId(\"Panel_h\").getBindingContext().getProperty();\n\t\t\t\tvar allitems = this.getView().byId(\"CLBX_CLXX_table\").getItems();\n\t\t\t\t// var itempath = this.getView().byId(\"CLBX_CLXX_table\").getBindingContext().getPath();\n\t\t\t\tvar Sitem = [];\n\t\t\t\tfor (var i = 0; i < allitems.length; i++) {\n\t\t\t\t\tvar Sitemdata = allitems[i].getBindingContext().getProperty();\n\t\t\t\t\tSitemdata.Recode = SHeader.Recode;\n\t\t\t\t\t// Sitemdata.Kostl = SHeader.Kostl; //公司\n\t\t\t\t\tSitemdata.Pjzs = parseInt(Sitemdata.Pjzs);\n\t\t\t\t\tif (!Sitemdata.Cfrq) {\n\t\t\t\t\t\tSitemdata.Cfrq = null;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tSitemdata.Cfrq.setHours(8);\n\t\t\t\t\t\tSitemdata.Cfrq = new Date(Sitemdata.Cfrq);\n\t\t\t\t\t};\n\t\t\t\t\tif (!Sitemdata.Ddrq) {\n\t\t\t\t\t\tSitemdata.Cfrq = null;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tSitemdata.Ddrq.setHours(8);\n\t\t\t\t\t\tSitemdata.Ddrq = new Date(Sitemdata.Ddrq);\n\t\t\t\t\t};\n\n\t\t\t\t\t// Sitem.push(Sitemdata);\n\t\t\t\t\tdelete Sitemdata.Ktext;\n\t\t\t\t\tdelete Sitemdata.Aufnr_Ktext;\n\t\t\t\t\tdelete Sitemdata.Mwskz_Text1;\n\t\t\t\t\tdelete Sitemdata.Vektp_Veknm;\n\t\t\t\t\tdelete Sitemdata.Zzdqlbms;\n\t\t\t\t\tdelete Sitemdata.Vektp_Veknm;\n\t\t\t\t\tdelete Sitemdata.Sps_Spsdsc;\n\t\t\t\t\tdelete Sitemdata.Ctkd_Ctnm;\n\t\t\t\t\tdelete Sitemdata.Fkber_Fkbtx;\n\t\t\t\t\tdelete Sitemdata.Zzch_Zzchms;\n\t\t\t\t\tdelete Sitemdata.Zzcx_Zzcxms;\n\t\t\t\t\tdelete Sitemdata.Zzfxcb_Zzfxcbms;\n\t\t\t\t\tdelete Sitemdata.Zzfzhs01_Zzfzhs01ms;\n\t\t\t\t\tdelete Sitemdata.Zzfzhs02_Zzfzhs02ms;\n\t\t\t\t\tdelete Sitemdata.Zzfzhs03_Zzfzhs03ms;\n\t\t\t\t\tdelete Sitemdata.Zzfzhs04_Zzfzhs04ms;\n\t\t\t\t\tdelete Sitemdata.Zzfzhs05_Zzfzhs05ms;\n\t\t\t\t\tdelete Sitemdata.Zzfzhslb_Zzfzhslbms;\n\t\t\t\t\tdelete Sitemdata.Zzfzhsnr_Zzfzhsnrms;\n\t\t\t\t\tdelete Sitemdata.Zzghjh_Zzghjhms;\n\t\t\t\t\tdelete Sitemdata.Zzhtbh_Zzhtbhms;\n\t\t\t\t\tdelete Sitemdata.Zzjshkdw_Zzjshkdwms;\n\t\t\t\t\t// if(Sitemdata.Sfzp === undefined){\n\t\t\t\t\t// \tthat.getView().getModel().setProperty(itempath + \"/Sfzp\", \"X\");\n\t\t\t\t\t//      //Sitemdata.Sfzp = \"X\";\n\t\t\t\t\t// }\n\t\t\t\t\tif (Sitemdata.Mwskz === \"\") {\n\t\t\t\t\t\tSitemdata.Mwskz = \"0\";\n\t\t\t\t\t};\n\t\t\t\t\tif (Sitemdata.Netpr === \"\") {\n\t\t\t\t\t\tSitemdata.Netpr = \"0\";\n\t\t\t\t\t}\n\t\t\t\t\tif (Sitemdata.Wmwst === \"\") {\n\t\t\t\t\t\tSitemdata.Wmwst = \"0\";\n\t\t\t\t\t}\n\t\t\t\t\tSitemdata.Posnr = String(i + 1);\n\t\t\t\t\t//Sitemdata.Pjzs = String(Sitemdata.Pjzs);\n\t\t\t\t\tSitemdata.Pjzs = parseInt(Sitemdata.Pjzs);\n\t\t\t\t\tconsole.log(Sitemdata);\n\t\t\t\t\tsdealPath = \"/Clbx_itemSet\";\n\t\t\t\t\tthat._clxxupdatefinish = \"\"; //this 同步出现\n\t\t\t\t\tthis.getView().getModel().create(sdealPath, Sitemdata, {\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\n\n\t\t\t\t\t\t\tif (that._clxxupdatefinish == \"\") {\n\t\t\t\t\t\t\t\tfor (var i = 0; i < allitems.length; i++) {\n\t\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(allitems[i].getBindingContext().getPath() + \"/Recode\", oData.Recode);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthat._clxxupdatefinish == \"X\";\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(error) {\n\n\t\t\t\t\t\t\t//Util.showError(\"submit update failed:\" + error);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgroupId: \"grpCRT\"\n\t\t\t\t\t});\n\n\t\t\t\t};\n\t\t\t\t//start sqd\n\t\t\t\tSHeader = this.getView().byId(\"Panel_h\").getBindingContext().getProperty();\n\t\t\t\tvar allitemssq = this.getView().byId(\"table_sq\").getItems();\n\t\t\t\tvar Sitemfp = [];\n\t\t\t\tfor (var i = 0; i < allitemssq.length; i++) {\n\t\t\t\t\tvar Sitemsqdata = allitemssq[i].getBindingContext().getProperty();\n\t\t\t\t\tsdealPath = \"/FysqSet\";\n\t\t\t\t\t//that._clhxupdatefinish = \"\"; //this 同步出现\n\t\t\t\t\t// console.log(Sitemsqdata)\n\t\t\t\t\tthis.getView().getModel().create(sdealPath, Sitemsqdata, {\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\n\n\t\t\t\t\t\t\tif (that._clfpupdatefinish === \"\") {\n\t\t\t\t\t\t\t\tfor (var i = 0; i < allitemssq.length; i++) {\n\t\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(allitemssq[i].getBindingContext().getPath() + \"/Recode\", oData.Recode);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthat._clfpupdatefinish = \"X\";\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(error) {\n\n\t\t\t\t\t\t\t//Util.showError(\"submit update failed:\" + error);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgroupId: \"grpCRT\"\n\t\t\t\t\t});\n\n\t\t\t\t};\n\t\t\t\t//end  sqd\n\t\t\t\tSHeader = this.getView().byId(\"Panel_h\").getBindingContext().getProperty();\n\t\t\t\tvar allitemshx = this.getView().byId(\"table_hx\").getItems();\n\t\t\t\tvar Sitemhx = [];\n\t\t\t\tfor (var i = 0; i < allitemshx.length; i++) {\n\t\t\t\t\tvar Sitemhxdata = allitemshx[i].getBindingContext().getProperty();\n\t\t\t\t\tSitemhxdata.Bxdh = SHeader.Recode;\n\t\t\t\t\t//Sitemhxdata.Bchxje = \"1\";\n\n\t\t\t\t\t// Sitemhxdata.Pjzs = parseInt(Sitemhxdata.Pjzs);\n\t\t\t\t\t// Sitemhxdata.Cfrq = new Date(Sitemhxdata.Cfrq);\n\t\t\t\t\t// Sitemhxdata.Ddrq = new Date(Sitemhxdata.Ddrq);\n\t\t\t\t\t// Sitem.push(Sitemdata);\n\n\t\t\t\t\tsdealPath = \"/HxSet\";\n\t\t\t\t\t//that._clhxupdatefinish = \"\"; //this 同步出现\n\n\t\t\t\t\tthis.getView().getModel().create(sdealPath, Sitemhxdata, {\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\n\n\t\t\t\t\t\t\t//if (that._clhxupdatefinish == \"\") {\n\t\t\t\t\t\t\tfor (var i = 0; i < allitemshx.length; i++) {\n\t\t\t\t\t\t\t\tif (allitemshx[i].getBindingContext().getProperty().Jkdh == oData.Jkdh) {\n\t\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(allitemshx[i].getBindingContext().getPath() + \"/Hxdjh\", oData.Hxdjh);\n\t\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(allitemshx[i].getBindingContext().getPath() + \"/Bxdh\", oData.Bxdh);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//that._clhxupdatefinish == \"X\";\n\t\t\t\t\t\t\t//};\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(error) {\n\n\t\t\t\t\t\t\t//Util.showError(\"submit update failed:\" + error);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgroupId: \"grpCRT\"\n\t\t\t\t\t});\n\n\t\t\t\t};\n\n\t\t\t\tSHeader = this.getView().byId(\"Panel_h\").getBindingContext().getProperty();\n\t\t\t\tvar allitemsfp = this.getView().byId(\"table_fp\").getItems();\n\t\t\t\tvar Sitemfp = [];\n\t\t\t\tfor (var i = 0; i < allitemsfp.length; i++) {\n\t\t\t\t\tvar Sitemfpdata = allitemsfp[i].getBindingContext().getProperty();\n\t\t\t\t\t//Sitemfpdata.Bxdh = SHeader.Recode;\n\t\t\t\t\t//Sitemhxdata.Bchxje = \"1\";\n\n\t\t\t\t\t// Sitemhxdata.Pjzs = parseInt(Sitemhxdata.Pjzs);\n\t\t\t\t\t// Sitemhxdata.Cfrq = new Date(Sitemhxdata.Cfrq);\n\t\t\t\t\t// Sitemhxdata.Ddrq = new Date(Sitemhxdata.Ddrq);\n\t\t\t\t\t// Sitem.push(Sitemdata);\n\n\t\t\t\t\tsdealPath = \"/ZzspSet\";\n\t\t\t\t\tthat._clfpupdatefinish = \"\"; //this 同步出现\n\n\t\t\t\t\tthis.getView().getModel().create(sdealPath, Sitemfpdata, {\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\n\n\t\t\t\t\t\t\tif (that._clfpupdatefinish === \"\") {\n\t\t\t\t\t\t\t\tfor (var i = 0; i < allitemsfp.length; i++) {\n\t\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(allitemsfp[i].getBindingContext().getPath() + \"/Recode\", oData.Recode);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthat._clfpupdatefinish = \"X\";\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(error) {\n\n\t\t\t\t\t\t\t//Util.showError(\"submit update failed:\" + error);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgroupId: \"grpCRT\"\n\t\t\t\t\t});\n\n\t\t\t\t};\n\n\t\t\t\t//有问题 禁用\n\t\t\t\t// this.getView().getModel().submitChanges({\n\t\t\t\t// \tbatchGroupId: \"grpCRT\",\n\t\t\t\t// \tsuccess: function(oData) {\n\t\t\t\t// \t\tconsole.log(\"submit change success:\" + oData);\n\t\t\t\t// \t\tvar recode = oData.__batchResponses[0].__changeResponses[0].data.Recode;\n\t\t\t\t// \t\tthat.getView().getModel().setProperty(sheaderpath + \"/Recode\", recode);\n\t\t\t\t// \t},\n\t\t\t\t// \terror: function(oData) {\n\t\t\t\t// \t\tconsole.log(\"submit change failed:\" + oData);\n\t\t\t\t// \t}\n\t\t\t\t// });\n\t\t\t}\n\t\t},\n\t\tupdateall: function() {\n\t\t\tdebugger;\n\t\t\t// this.setBusy(true);\n\t\t\tvar SHeader = this.getView().byId(\"Panel_h\").getBindingContext().getProperty();\n\t\t\tvar sheaderpath = this.getView().byId(\"Panel_h\").getBindingContext().getPath();\n\n\t\t\tvar that = this;\n\t\t\tvar Recode = SHeader.Recode;\n\n\t\t\t//优先处理删除\n\t\t\tif (this._deleteHxdata !== undefined) {\n\t\t\t\tfor (var i = 0; i < this._deleteHxdata.length; i++) {\n\n\t\t\t\t\tvar sdata1 = this.getView().getModel().getProperty(this._deleteHxdata[i].path);\n\t\t\t\t\tvar sdealPath1 = \"/HxSet(Hxdjh='\" + sdata1.Hxdjh + \"')\";\n\t\t\t\t\tthis.getView().getModel().remove(sdealPath1, {\n\t\t\t\t\t\t//merge: false,\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\n\t\t\t\t\t\t\tdebugger;\n\t\t\t\t\t\t\tthat._deleteHxdata = [];\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(error) {\n\t\t\t\t\t\t\tdebugger;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgroupId: \"grpCRT\"\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t};\n\n\t\t\tif (this._deleteFpdata !== undefined) {\n\t\t\t\tfor (var i = 0; i < this._deleteFpdata.length; i++) {\n\t\t\t\t\tvar sdata2 = this.getView().getModel().getProperty(this._deleteFpdata[i].path);\n\t\t\t\t\tvar sdealPath2 = \"/ZzspSet(Invoiceid='\" + sdata2.Invoiceid + \"')\";\n\t\t\t\t\tthis.getView().getModel().remove(sdealPath2, {\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\n\t\t\t\t\t\t\tdebugger;\n\t\t\t\t\t\t\tthat._deleteFpdata = [];\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(error) {\n\t\t\t\t\t\t\tdebugger;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgroupId: \"grpCRT\"\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t};\n\n\t\t\tif (this._deleteXXdata !== undefined) {\n\t\t\t\tfor (var i = 0; i < this._deleteXXdata.length; i++) {\n\t\t\t\t\tvar sdata3 = this.getView().getModel().getProperty(this._deleteXXdata[i].path);\n\t\t\t\t\tvar sdealPath3 = \"/Clbx_itemSet(Recode='\" + sdata3.Recode + \"',Posnr='\" + sdata3.Posnr + \"')\";\n\t\t\t\t\tthis.getView().getModel().remove(sdealPath3, {\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\n\t\t\t\t\t\t\tdebugger;\n\t\t\t\t\t\t\tthat._deleteXXdata = [];\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(error) {\n\t\t\t\t\t\t\tdebugger;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgroupId: \"grpCRT\"\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t};\n\n\t\t\tvar sdealPath = \"/Clbx_headerSet('\" + Recode + \"')\";\n\t\t\t// SHeader.Spzt = \"A\";\n\t\t\t// SHeader.Spztms = \"起草\";\n\t\t\t// SHeader.Dkkd = \"CL\";\n\t\t\t//console.log(this.getView().byId(\"Panel_h\").getBindingContext().getProperty());\n\t\t\tdelete SHeader.Ktext;\n\t\t\tdelete SHeader.Butxt;\n\t\t\tdelete SHeader.PernrS;\n\t\t\tdelete SHeader.Etnm;\n\t\t\tdelete SHeader.PrctrKtext;\n\t\t\tdelete SHeader.OrgehText;\n\t\t\tvar allitems_glsqd = this.getView().byId(\"table_sq\").getItems();\n\t\t\tif (allitems_glsqd[0] !== undefined) {\n\t\t\t\tvar Sitemdata_glsqd = allitems_glsqd[0].getBindingContext().getProperty();\n\t\t\t\tSHeader.Bxsqd = Sitemdata_glsqd.Recode;\n\t\t\t} else {\n\t\t\t\tSHeader.Bxsqd = \"\";\n\t\t\t};\n\t\t\t//console.log(this.getView().byId(\"Panel_h\").getBindingContext().getProperty());\n\n\t\t\tthis.getView().getModel().update(sdealPath, SHeader, {\n\t\t\t\tmerge: true,\n\t\t\t\tsuccess: function(oData, oResponse) {\n\n\t\t\t\t\t// that.getView().getModel().setProperty(sheaderpath + \"/Recode\", oData.Recode);\n\t\t\t\t\tUtil.showInfo(\"保存成功\");\n\t\t\t\t\tthat.setscreen(\"A\");\n\t\t\t\t\tthat.setBusy(false);\n\t\t\t\t},\n\t\t\t\terror: function(error) {\n\n\t\t\t\t\tthat.setBusy(false);\n\t\t\t\t},\n\t\t\t\tgroupId: \"grpCRT\"\n\t\t\t});\n\n\t\t\tSHeader = this.getView().byId(\"Panel_h\").getBindingContext().getProperty();\n\t\t\tvar allitems = this.getView().byId(\"CLBX_CLXX_table\").getItems();\n\t\t\tvar Sitem = [];\n\t\t\tfor (var i = 0; i < allitems.length; i++) {\n\t\t\t\tvar Sitemdata = allitems[i].getBindingContext().getProperty();\n\t\t\t\tSitemdata.Kostl = SHeader.Kostl; //公司\n\t\t\t\t// Sitemdata.Pjzs = parseInt(Sitemdata.Pjzs);\n\t\t\t\tSitemdata.Pjzs = parseInt(Sitemdata.Pjzs);\n\t\t\t\tif (!Sitemdata.Cfrq) {\n\t\t\t\t\tSitemdata.Cfrq = null;\n\t\t\t\t} else {\n\t\t\t\t\tSitemdata.Cfrq.setHours(8);\n\t\t\t\t\tSitemdata.Cfrq = new Date(Sitemdata.Cfrq);\n\t\t\t\t};\n\t\t\t\tif (!Sitemdata.Ddrq) {\n\t\t\t\t\tSitemdata.Ddrq = null;\n\t\t\t\t} else {\n\t\t\t\t\tSitemdata.Ddrq.setHours(8);\n\t\t\t\t\tSitemdata.Ddrq = new Date(Sitemdata.Ddrq);\n\t\t\t\t};\n\t\t\t\tdelete Sitemdata.Ktext;\n\t\t\t\tdelete Sitemdata.Aufnr_Ktext;\n\t\t\t\tdelete Sitemdata.Mwskz_Text1;\n\t\t\t\tdelete Sitemdata.Vektp_Veknm;\n\t\t\t\tdelete Sitemdata.Zzdqlbms;\n\t\t\t\tdelete Sitemdata.Vektp_Veknm;\n\t\t\t\tdelete Sitemdata.Sps_Spsdsc;\n\t\t\t\tdelete Sitemdata.Ctkd_Ctnm;\n\t\t\t\tdelete Sitemdata.Fkber_Fkbtx;\n\t\t\t\tdelete Sitemdata.Zzch_Zzchms;\n\t\t\t\tdelete Sitemdata.Zzcx_Zzcxms;\n\t\t\t\tdelete Sitemdata.Zzfxcb_Zzfxcbms;\n\t\t\t\tdelete Sitemdata.Zzfzhs04_Zzfzhs04ms;\n\t\t\t\tdelete Sitemdata.Zzfzhslb_Zzfzhslbms;\n\t\t\t\tdelete Sitemdata.Zzfzhsnr_Zzfzhsnrms;\n\t\t\t\tdelete Sitemdata.Zzghjh_Zzghjhms;\n\t\t\t\tdelete Sitemdata.Zzhtbh_Zzhtbhms;\n\t\t\t\tdelete Sitemdata.Zzjshkdw_Zzjshkdwms;\n\t\t\t\tif (Sitemdata.Mwskz === \"\") {\n\t\t\t\t\tSitemdata.Mwskz = \"0\";\n\t\t\t\t};\n\t\t\t\tif (Sitemdata.Netpr === \"\") {\n\t\t\t\t\tSitemdata.Netpr = \"0\";\n\t\t\t\t}\n\t\t\t\tif (Sitemdata.Wmwst === \"\") {\n\t\t\t\t\tSitemdata.Wmwst = \"0\";\n\t\t\t\t}\n\t\t\t\tdebugger;\n\t\t\t\tSitemdata.Posnr = String(i + 1);\n\t\t\t\t//Sitemdata.Pjzs = String(Sitemdata.Pjzs);\n\t\t\t\tSitemdata.Pjzs = parseInt(Sitemdata.Pjzs);\n\t\t\t\t// Sitem.push(Sitemdata);\n\t\t\t\tif (Sitemdata.Recode === \"\" || Sitemdata.Recode === undefined) {\n\t\t\t\t\tSitemdata.Recode = SHeader.Recode;\n\t\t\t\t\tsdealPath = \"/Clbx_itemSet\";\n\t\t\t\t\tthat._clxxupdatefinish = \"\"; //this 同步出现\n\n\t\t\t\t\tthis.getView().getModel().create(sdealPath, Sitemdata, {\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\n\n\t\t\t\t\t\t\tif (that._clxxupdatefinish == \"\") {\n\t\t\t\t\t\t\t\tfor (var i = 0; i < allitems.length; i++) {\n\t\t\t\t\t\t\t\t\tif (allitems[i].getBindingContext().getProperty().Recode === \"\" || allitems[i].getBindingContext().getProperty().Recode ===\n\t\t\t\t\t\t\t\t\t\tundefined) {\n\t\t\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(allitems[i].getBindingContext().getPath() + \"/Recode\", oData.Recode);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthat._clxxupdatefinish == \"X\";\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(error) {\n\n\t\t\t\t\t\t\t//Util.showError(\"submit update failed:\" + error);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgroupId: \"grpCRT\"\n\t\t\t\t\t});\n\t\t\t\t} else {\n\n\t\t\t\t\tsdealPath = \"/Clbx_itemSet(Recode='\" + SHeader.Recode + \"',Posnr='\" + Sitemdata.Posnr + \"')\";\n\t\t\t\t\tthat._clxxupdatefinish = \"\"; //this 同步出现\n\n\t\t\t\t\tthis.getView().getModel().update(sdealPath, Sitemdata, {\n\t\t\t\t\t\tmerge: true,\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\n\n\t\t\t\t\t\t\t// if (that._clxxupdatefinish == \"\") {\n\t\t\t\t\t\t\t// \tfor (var i = 0; i < allitems.length; i++) {\n\t\t\t\t\t\t\t// \t\tthat.getView().getModel().setProperty(allitems[i].getBindingContext().getPath() + \"/Recode\", oData.Recode);\n\t\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t\t// \tthat._clxxupdatefinish == \"X\";\n\t\t\t\t\t\t\t// };\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(error) {\n\n\t\t\t\t\t\t\t//Util.showError(\"submit update failed:\" + error);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgroupId: \"grpCRT\"\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t};\n\n\t\t\tSHeader = this.getView().byId(\"Panel_h\").getBindingContext().getProperty();\n\t\t\tvar allitemshx = this.getView().byId(\"table_hx\").getItems();\n\t\t\tvar Sitemhx = [];\n\t\t\tfor (var i = 0; i < allitemshx.length; i++) {\n\t\t\t\tvar Sitemhxdata = allitemshx[i].getBindingContext().getProperty();\n\t\t\t\tif (Sitemhxdata.Bxdh === \"\" || Sitemhxdata.Bxdh === undefined) {\n\t\t\t\t\tSitemhxdata.Bxdh = SHeader.Recode;\n\t\t\t\t\t//Sitemhxdata.Bchxje = \"1\";\n\n\t\t\t\t\tsdealPath = \"/HxSet\";\n\t\t\t\t\t//that._clhxupdatefinish = \"\"; //this 同步出现\n\n\t\t\t\t\tthis.getView().getModel().create(sdealPath, Sitemhxdata, {\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\n\n\t\t\t\t\t\t\t//if (that._clhxupdatefinish == \"\") {\n\t\t\t\t\t\t\tfor (var i = 0; i < allitemshx.length; i++) {\n\t\t\t\t\t\t\t\tif (allitemshx[i].getBindingContext().getProperty().Jkdh == oData.Jkdh) {\n\t\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(allitemshx[i].getBindingContext().getPath() + \"/Hxdjh\", oData.Hxdjh);\n\t\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(allitemshx[i].getBindingContext().getPath() + \"/Bxdh\", oData.Bxdh);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//that._clhxupdatefinish == \"X\";\n\t\t\t\t\t\t\t//};\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(error) {\n\n\t\t\t\t\t\t\t//Util.showError(\"submit update failed:\" + error);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgroupId: \"grpCRT\"\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tSitemhxdata.Bxdh = SHeader.Recode;\n\t\t\t\t\t//Sitemhxdata.Bchxje = \"1\";\n\n\t\t\t\t\tsdealPath = \"/HxSet(Hxdjh='\" + Sitemhxdata.Hxdjh + \"')\";\n\n\t\t\t\t\tthis.getView().getModel().update(sdealPath, Sitemhxdata, {\n\t\t\t\t\t\tmerge: true,\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\n\n\t\t\t\t\t\t\t//if (that._clhxupdatefinish == \"\") {\n\t\t\t\t\t\t\t// for (var i = 0; i < allitemshx.length; i++) {\n\t\t\t\t\t\t\t// \tif (allitemshx[i].getBindingContext().getProperty().Jkdh == oData.Jkdh) {\n\t\t\t\t\t\t\t// \t\tthat.getView().getModel().setProperty(allitemshx[i].getBindingContext().getPath() + \"/Hxdjh\", oData.Hxdjh);\n\t\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t//that._clhxupdatefinish == \"X\";\n\t\t\t\t\t\t\t//};\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(error) {\n\n\t\t\t\t\t\t\t//Util.showError(\"submit update failed:\" + error);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgroupId: \"grpCRT\"\n\t\t\t\t\t});\n\n\t\t\t\t};\n\n\t\t\t};\n\n\t\t\tSHeader = this.getView().byId(\"Panel_h\").getBindingContext().getProperty();\n\t\t\tvar allitemsfp = this.getView().byId(\"table_fp\").getItems();\n\t\t\tvar Sitemfp = [];\n\t\t\tfor (var i = 0; i < allitemsfp.length; i++) {\n\t\t\t\tvar Sitemfpdata = allitemsfp[i].getBindingContext().getProperty();\n\t\t\t\tif (Sitemfpdata.Recode === \"\" || Sitemfpdata.Recode === undefined) {\n\t\t\t\t\tSitemfpdata.Recode = SHeader.Recode;\n\t\t\t\t\t//Sitemhxdata.Bchxje = \"1\";\n\n\t\t\t\t\tsdealPath = \"/ZzspSet\";\n\t\t\t\t\tthat._clfpupdatefinish = \"\"; //this 同步出现\n\n\t\t\t\t\tthis.getView().getModel().create(sdealPath, Sitemfpdata, {\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\n\n\t\t\t\t\t\t\tif (that._clfpupdatefinish == \"\") {\n\t\t\t\t\t\t\t\tfor (var i = 0; i < allitemsfp.length; i++) {\n\t\t\t\t\t\t\t\t\tthat.getView().getModel().setProperty(allitemshx[i].getBindingContext().getPath() + \"/Recode\", oData.Recode);\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthat._clfpupdatefinish = \"X\";\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(error) {\n\n\t\t\t\t\t\t\t//Util.showError(\"submit update failed:\" + error);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgroupId: \"grpCRT\"\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tSitemfpdata.Recode = SHeader.Recode;\n\t\t\t\t\t//Sitemhxdata.Bchxje = \"1\";\n\n\t\t\t\t\tsdealPath = \"/ZzspSet(Invoiceid='\" + Sitemfpdata.Invoiceid + \"')\";\n\n\t\t\t\t\tthis.getView().getModel().update(sdealPath, Sitemfpdata, {\n\t\t\t\t\t\tmerge: true,\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\n\n\t\t\t\t\t\t\t//if (that._clhxupdatefinish == \"\") {\n\t\t\t\t\t\t\t// for (var i = 0; i < allitemshx.length; i++) {\n\t\t\t\t\t\t\t// \tif (allitemshx[i].getBindingContext().getProperty().Jkdh == oData.Jkdh) {\n\t\t\t\t\t\t\t// \t\tthat.getView().getModel().setProperty(allitemshx[i].getBindingContext().getPath() + \"/Hxdjh\", oData.Hxdjh);\n\t\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t//that._clhxupdatefinish == \"X\";\n\t\t\t\t\t\t\t//};\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(error) {\n\n\t\t\t\t\t\t\t//Util.showError(\"submit update failed:\" + error);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgroupId: \"grpCRT\"\n\t\t\t\t\t});\n\n\t\t\t\t};\n\n\t\t\t};\n\n\t\t},\n\t\tsubmitorder: function(oEvent) {\n\t\t\tvar that = this;\n\t\t\tif (this.getView().getModel(\"model_edit\").oData.Lcid === undefined) {\n\t\t\t\tvar SHeader = that.getView().byId(\"Panel_h\").getBindingContext().getProperty();\n\t\t\t\tvar allitems = this.getView().byId(\"CLBX_CLXX_table\").getItems();\n\t\t\t\tvar aufnr = [];\n\t\t\t\tfor (var i = 0; i < allitems.length; i++) {\n\t\t\t\t\tvar Sitemdata = allitems[i].getBindingContext().getProperty();\n\t\t\t\t\tif (Sitemdata.Aufnr !== undefined) {\n\t\t\t\t\t\taufnr.push(Sitemdata.Aufnr);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar Aufnr = aufnr.join(\"\");\n\t\t\t\tvar Bukrs = SHeader.Bukrs;\n\t\t\t\tif (SHeader.Dkkd === \"CL\") {\n\t\t\t\t\tvar DKKD = \"CL\";\n\t\t\t\t} else {\n\t\t\t\t\tvar DKKD = \"BX\";\n\t\t\t\t}\n\t\t\t\tvar sPath = \"/BETYPESet?$filter=( Bukrs eq '\" + Bukrs + \"' ) and ( Dkkd eq '\" + DKKD + \"' )\";\n\t\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\n\t\t\t\toDataModel.read(sPath, {\n\t\t\t\t\tsuccess: function(oData, response) {\n\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData).oData.results[0];\n\t\t\t\t\t\tvar id = model.Lcid;\n\t\t\t\t\t\tvar ZSlbm = model.Lcbm;\n\t\t\t\t\t\t// var path = that.getView().getBindingContext().getPath() + \"/\";\n\t\t\t\t\t\tvar name = SHeader.SnameB; //申请人\n\t\t\t\t\t\tvar e_business_code = SHeader.Recode; //单据编号\n\t\t\t\t\t\tvar e_business_name = SHeader.Note; //费用申请说明\n\t\t\t\t\t\tvar e_business_count = SHeader.Wrbtr; //申请金额\n\t\t\t\t\t\tvar Orgeh = SHeader.Orgeh;\n\t\t\t\t\t\tif (sap.ushell != null)\n\t\t\t\t\t\t\tuserid = sap.ushell.Container.getService(\"UserInfo\").getId(); //in Fiori FLP\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tvar userid = \"ZZLIYJ\"; //in SAP WebIDE test environment\n\t\t\t\t\t\tvar sPaths = \"/Clbx_headerSet('\" + e_business_code + \"')\";\n\t\t\t\t\t\tvar oDataModeld = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV/\", true);\n\t\t\t\t\t\toDataModeld.read(sPaths, {\n\t\t\t\t\t\t\tsuccess: function(oData, response) {\n\t\t\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\n\t\t\t\t\t\t\t\tif (model.oData.Slbm === \"\") {\n\t\t\t\t\t\t\t\t\tif (SHeader.Spzt === \"R\") {\n\t\t\t\t\t\t\t\t\t\tvar obj = {};\n\t\t\t\t\t\t\t\t\t\tobj.id = id;\n\t\t\t\t\t\t\t\t\t\tobj.amountsum = e_business_count;\n\t\t\t\t\t\t\t\t\t\tobj.name = name;\n\t\t\t\t\t\t\t\t\t\tobj.business_code = e_business_code;\n\t\t\t\t\t\t\t\t\t\tobj.business_name = e_business_name;\n\t\t\t\t\t\t\t\t\t\tobj.userid = userid;\n\t\t\t\t\t\t\t\t\t\tobj.Orgeh = Orgeh;\n\t\t\t\t\t\t\t\t\t\tobj.Aufnr = Aufnr;\n\t\t\t\t\t\t\t\t\t\tvar oEntry = {\n\t\t\t\t\t\t\t\t\t\t\tZslbm: model.oData.Slbm,\n\t\t\t\t\t\t\t\t\t\t\tZlcid: id,\n\t\t\t\t\t\t\t\t\t\t\tZyhm: userid\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\tUtilWorkFlow.clrestartflow(oEntry, that, obj);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tvar obj = {};\n\t\t\t\t\t\t\t\t\t\tobj.id = id;\n\t\t\t\t\t\t\t\t\t\tobj.amountsum = e_business_count;\n\t\t\t\t\t\t\t\t\t\tobj.name = name;\n\t\t\t\t\t\t\t\t\t\tobj.business_code = e_business_code;\n\t\t\t\t\t\t\t\t\t\tobj.business_name = e_business_name;\n\t\t\t\t\t\t\t\t\t\tobj.userid = userid;\n\t\t\t\t\t\t\t\t\t\tobj.Orgeh = Orgeh;\n\t\t\t\t\t\t\t\t\t\tobj.Aufnr = Aufnr;\n\t\t\t\t\t\t\t\t\t\tUtilWorkFlow.ys_submited(obj, that);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (SHeader.Spzt === \"R\") {\n\t\t\t\t\t\t\t\t\t\tvar obj = {};\n\t\t\t\t\t\t\t\t\t\tobj.id = id;\n\t\t\t\t\t\t\t\t\t\tobj.amountsum = e_business_count;\n\t\t\t\t\t\t\t\t\t\tobj.name = name;\n\t\t\t\t\t\t\t\t\t\tobj.business_code = e_business_code;\n\t\t\t\t\t\t\t\t\t\tobj.business_name = e_business_name;\n\t\t\t\t\t\t\t\t\t\tobj.userid = userid;\n\t\t\t\t\t\t\t\t\t\tobj.Orgeh = Orgeh;\n\t\t\t\t\t\t\t\t\t\tobj.Aufnr = Aufnr;\n\t\t\t\t\t\t\t\t\t\tvar oEntry = {\n\t\t\t\t\t\t\t\t\t\t\tZslbm: model.oData.Slbm,\n\t\t\t\t\t\t\t\t\t\t\tZlcid: id,\n\t\t\t\t\t\t\t\t\t\t\tZyhm: userid\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\tUtilWorkFlow.clrestartflow(oEntry, that, obj);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tvar obj = {\n\t\t\t\t\t\t\t\t\t\t\tamountsum: e_business_count,\n\t\t\t\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\t\t\t\tbusiness_code: e_business_code,\n\t\t\t\t\t\t\t\t\t\t\tbusiness_name: e_business_name,\n\t\t\t\t\t\t\t\t\t\t\tZslbm: model.oData.Slbm,\n\t\t\t\t\t\t\t\t\t\t\tZyhm: userid,\n\t\t\t\t\t\t\t\t\t\t\tOrgeh: Orgeh,\n\t\t\t\t\t\t\t\t\t\t\tAufnr: Aufnr\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\tUtilWorkFlow.Ys_subed(obj, that);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// if(model.resu){}\n\t\t\t\t\t\t\t\t// console.log(model)\n\t\t\t\t\t\t\t\t//Util.debug(model);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terror: function(oError) {\n\t\t\t\t\t\t\t\t// MessageToast.show(\"get RYBHSet error!\");\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tasync: false\n\t\t\t\t\t\t});\n\t\t\t\t\t\t// Util.debug(model);\n\t\t\t\t\t},\n\t\t\t\t\terror: function(oError) {\n\t\t\t\t\t\tUtil.showError(\"get RECODESet error!\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvar data = that.getView().getModel(\"model_edit\").getData();\n\t\t\t\tvar SHeader = that.getView().byId(\"Panel_h\").getBindingContext().getProperty();\n\n\t\t\t\tvar allitems = this.getView().byId(\"CLBX_CLXX_table\").getItems();\n\t\t\t\tvar aufnr = [];\n\t\t\t\tfor (var i = 0; i < allitems.length; i++) {\n\t\t\t\t\tvar Sitemdata = allitems[i].getBindingContext().getProperty();\n\t\t\t\t\tif (Sitemdata.Aufnr !== undefined) {\n\t\t\t\t\t\taufnr.push(Sitemdata.Aufnr);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar Aufnr = aufnr.join(\"\");\n\t\t\t\tvar id = data.Lcid; //流程id\n\t\t\t\t// console.log(data, SHeader);\n\t\t\t\tvar name = SHeader.SnameB; //申请人\n\t\t\t\tvar e_business_code = SHeader.Recode; //单据编号\n\t\t\t\tvar e_business_name = SHeader.Note; //费用申请说明\n\t\t\t\tvar e_business_count = SHeader.Wrbtr; //申请金额\n\t\t\t\tvar Orgeh = SHeader.Orgeh;\n\t\t\t\tif (sap.ushell != null)\n\t\t\t\t\tuserid = sap.ushell.Container.getService(\"UserInfo\").getId(); //in Fiori FLP\n\t\t\t\telse\n\t\t\t\t\tvar userid = \"ZZLIYJ\"; //in SAP WebIDE test environment\n\t\t\t\tvar sPath = \"/Clbx_headerSet('\" + e_business_code + \"')\";\n\t\t\t\tvar oDataModeld = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV/\", true);\n\t\t\t\toDataModeld.read(sPath, {\n\t\t\t\t\tsuccess: function(oData, response) {\n\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\n\t\t\t\t\t\tif (model.oData.Slbm === \"\") {\n\t\t\t\t\t\t\tvar obj = {};\n\t\t\t\t\t\t\tobj.id = id;\n\t\t\t\t\t\t\tobj.amountsum = e_business_count;\n\t\t\t\t\t\t\tobj.name = name;\n\t\t\t\t\t\t\tobj.business_code = e_business_code;\n\t\t\t\t\t\t\tobj.business_name = e_business_name;\n\t\t\t\t\t\t\tobj.userid = userid;\n\t\t\t\t\t\t\tobj.Orgeh = Orgeh;\n\t\t\t\t\t\t\tobj.Aufnr = Aufnr;\n\t\t\t\t\t\t\tUtilWorkFlow.ys_submited(obj, that);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (SHeader.Spzt === \"R\") {\n\t\t\t\t\t\t\t\tvar obj = {\n\t\t\t\t\t\t\t\t\tamountsum: e_business_count,\n\t\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\t\tbusiness_code: e_business_code,\n\t\t\t\t\t\t\t\t\tbusiness_name: e_business_name,\n\t\t\t\t\t\t\t\t\tZslbm: model.oData.Slbm,\n\t\t\t\t\t\t\t\t\tAufnr: Aufnr,\n\t\t\t\t\t\t\t\t\tZyhm: userid,\n\t\t\t\t\t\t\t\t\tOrgeh: Orgeh\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tvar oEntry = {\n\t\t\t\t\t\t\t\t\tZslbm: model.oData.Slbm,\n\t\t\t\t\t\t\t\t\tZlcid: id,\n\t\t\t\t\t\t\t\t\tZyhm: userid\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tUtilWorkFlow.clrestartflow(oEntry, that, obj);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar obj = {\n\t\t\t\t\t\t\t\t\tamountsum: e_business_count,\n\t\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\t\tbusiness_code: e_business_code,\n\t\t\t\t\t\t\t\t\tbusiness_name: e_business_name,\n\t\t\t\t\t\t\t\t\tZslbm: model.oData.Slbm,\n\t\t\t\t\t\t\t\t\tZyhm: userid,\n\t\t\t\t\t\t\t\t\tOrgeh: Orgeh,\n\t\t\t\t\t\t\t\t\tAufnr: Aufnr\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tUtilWorkFlow.Ys_subed(obj, that);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// if(model.resu){}\n\t\t\t\t\t\t// console.log(model)\n\t\t\t\t\t\t//Util.debug(model);\n\t\t\t\t\t},\n\t\t\t\t\terror: function(oError) {\n\t\t\t\t\t\t// MessageToast.show(\"get RYBHSet error!\");\n\t\t\t\t\t},\n\t\t\t\t\tasync: false\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t\tonConfirmCheckName: function(oEvent, that) {\n\t\t\tUtilWorkFlow.onConfirmCheckName(oEvent, this);\n\t\t},\n\n\t\tchangeBchxje: function(oEvent) {\n\t\t\tvar otable = this.byId(\"table_hx\");\n\t\t\tvar allitems = otable.getItems();\n\t\t\tif (allitems.length > 0 && (oEvent.getSource().getValue() <= 0 || !oEvent.getSource().getValue().match(reg_NO))) {\n\t\t\t\tUtil.showError(\"核销金额请输入正数且最多可带两位小数\");\n\t\t\t\toEvent.getSource().setValue(null);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar path = this.getView().byId(\"Panel_h\").getBindingContext().getPath() + \"/\";\n\t\t\tvar sum = 0.00;\n\t\t\tvar header = this.getView().byId(\"Panel_h\").getBindingContext().getProperty();\n\t\t\tfor (var i = 0; i < allitems.length; i++) {\n\t\t\t\tsum = parseFloat(sum) + parseFloat(allitems[i].getBindingContext().getProperty().Bchxje);\n\t\t\t\tif (oEvent) {\n\t\t\t\t\tvar a = allitems[i].getBindingContext().getProperty().Bchxje;\n\t\t\t\t\tvar b = allitems[i].getBindingContext().getProperty().Dmbtr;\n\t\t\t\t\tvar c = allitems[i].getBindingContext().getProperty().Yhxje;\n\t\t\t\t\tif (a > b - c) {\n\t\t\t\t\t\tUtil.showError(\"填写的核销金额超出限制，最多可核销金额:\" + (b - c));\n\t\t\t\t\t\toEvent.getSource().setValue(null);\n\t\t\t\t\t\tthis.onTwoAmountsum(oEvent);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar zfje = parseFloat(header.Wrbtr) - parseFloat(sum);\n\t\t\tif (zfje < 0) {\n\t\t\t\tzfje = 0;\n\t\t\t}\n\t\t\tvar Bczfje = Formatter.FloatFormat(zfje);\n\t\t\tvar Bchxje = Formatter.FloatFormat(sum);\n\t\t\tthis.getView().getModel().setProperty(path + \"Bczfje\", Bczfje, true);\n\t\t\tthis.getView().getModel().setProperty(path + \"Bchxje\", Bchxje, true);\n\t\t\t// if (oEvent) {\n\t\t\t// \tthis.onTwoAmountsum(oEvent);\n\t\t\t// }\n\t\t},\n\n\t\t//公司\n\t\tonShowBUKRS: function(oEvent) {\n\t\t\t// DialogCostConHelp\n\t\t\tvar that = this;\n\t\t\tif (!that.oDialogBukrs) {\n\t\t\t\tthat.oDialogBukrs = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogBukrs\", that);\n\t\t\t\tthat.getView().addDependent(that.oDialogBukrs);\n\t\t\t}\n\t\t\tthat.oDialogBukrs.open();\n\t\t\tthis._onSearchBurks(oEvent);\n\t\t},\n\n\t\t_onSearchBurks: function(oEvent) {\n\t\t\tvar data = this.getView().getModel(\"GLOBLEDATA\").oData.DKKD;\n\t\t\tif (data === \"BX\") {\n\t\t\t\tvar Dkkd = \"BX\";\n\t\t\t} else {\n\t\t\t\tvar Dkkd = \"CL\";\n\t\t\t}\n\t\t\tif (oEvent === undefined) {\n\t\t\t\tvar value = \"\";\n\t\t\t} else {\n\t\t\t\tvar value = oEvent.getParameter(\"query\");\n\t\t\t}\n\t\t\tvar loc = location.href.toLowerCase();\n\t\t\tif (loc.indexOf(\"fiorilaunchpad.html\") > 0) {\n\t\t\t\tthis.getOwnerComponent()._userid = sap.ushell.Container.getService(\"UserInfo\").getId();\n\t\t\t} else {\n\t\t\t\tthis.getOwnerComponent()._userid = \"ZZLIYJ\";\n\t\t\t};\n\t\t\tvar userid = this.getOwnerComponent()._userid;\n\t\t\tvar sPath = \"/T001Set?$filter=Userid  eq '\" + userid + \"' and Dkkd eq '\" + Dkkd + \"'\";\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\n\t\t\tUtil.setBusy(true);\n\t\t\tvar that = this;\n\t\t\toDataModel.read(sPath, {\n\t\t\t\tsuccess: function(oData, response) {\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\n\t\t\t\t\tthat.getView().setModel(model, \"model_BUKRS\");\n\t\t\t\t\t//按条件搜索\n\t\t\t\t\tvar obj = {\n\t\t\t\t\t\tid: \"Burklists\",\n\t\t\t\t\t\tparams: [\"Bxbukrs\", \"Butxt\"],\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t};\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\n\t\t\t\t\t//关闭Busy等待\n\t\t\t\t\tthat.setBusy(false);\n\t\t\t\t},\n\t\t\t\terror: function(oError) {\n\t\t\t\t\tMessageToast.show(\"get TaxcodeSet error!\");\n\t\t\t\t\tUtil.setBusy(false);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tonCancelBukrsSelects: function() {\n\t\t\t\tthis.oDialogBukrs.close();\n\t\t\t}\n\t\t\t// //申请人选择\n\t\t\t// rowSelected: function(oEvent) {\n\t\t\t// \tvar sPath = oEvent.getSource().getBindingContext(\"model_PROPOSER\").getPath();\n\t\t\t// \tthis.getView().getModel(\"model_PROPOSER\").setProperty(\"/sPath\", sPath);\n\t\t\t// \tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\t// \tvar PernrB = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Pernr\");\n\t\t\t// \tvar SnameB = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Sname\");\n\t\t\t// \tvar Bukrs = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Bukrs\");\n\t\t\t// \tvar Butxt = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Butxt\");\n\t\t\t// \tvar Kostl = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Kostl\");\n\t\t\t// \tvar Ktext = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Ktext\");\n\t\t\t// \tvar Telnum = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Ptel\");\n\t\t\t// \tthis.getView().getModel().setProperty(path + \"PernrB\", PernrB);\n\t\t\t// \tthis.getView().getModel().setProperty(path + \"SnameB\", SnameB);\n\t\t\t// \tthis.getView().getModel().setProperty(path + \"Bukrs\", Bukrs);\n\t\t\t// \tthis.getView().getModel().setProperty(path + \"Butxt\", Butxt);\n\t\t\t// \tthis.getView().getModel().setProperty(path + \"Kostl\", Kostl);\n\t\t\t// \tthis.getView().getModel().setProperty(path + \"Ktext\", Ktext);\n\t\t\t// \tthis.getView().getModel().setProperty(path + \"Telnum\", Telnum);\n\t\t\t// \tvar data = {};\n\t\t\t// \tvar model = [];\n\t\t\t// \tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_PROPOSER\");\n\t\t\t// \tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_search\");\n\t\t\t// \tthis.oDialogCostCenterHelpName.close();\n\t\t\t// }\n\n\t});\n});\n// sap.ui.define([\n// \t\"sh/bz/common/controller/BaseController\",\n// \t\"sap/ui/model/json/JSONModel\",\n// \t\"sap/ui/core/routing/History\",\n// \t\"sh/bz/common/controller/formatter\"\n// ], function(\n// \tBaseController,\n// \tJSONModel,\n// \tHistory,\n// \tformatter\n// ) {\n// \t\"use strict\";\n\n// \treturn BaseController.extend(\"sh.bz.common.controller.CLBX_ALLINFOR\", {\n\n// \t\tformatter: formatter,\n\n// \t\t/* ================================BaseController=========================== */\n// \t\t/* lifecycle methods                                           */\n// \t\t/* =========================================================== */\n\n// \t\t/**\n// \t\t * Called when the worklist controller is instantiated.\n// \t\t * @public\n// \t\t */\n// \t\tonInit: function() {\n// \t\t\t\n// \t\t\t// Model used to manipulate control states. The chosen values make sure,\n// \t\t\t// detail page is busy indication immediately so there is no break in\n// \t\t\t// between the busy indication for loading the view's meta data\n// \t\t\tvar iOriginalBusyDelay,\n// \t\t\t\toViewModel = new JSONModel({\n// \t\t\t\t\tbusy: true,\n// \t\t\t\t\tdelay: 0\n// \t\t\t\t});\n\n// \t\t\tthis.getRouter().getRoute(\"DETAIL\").attachPatternMatched(this._onObjectMatched, this);\n\n// \t\t\t// Store original busy indicator delay, so it can be restored later on\n// \t\t\tiOriginalBusyDelay = this.getView().getBusyIndicatorDelay();\n// \t\t\tthis.setModel(oViewModel, \"objectView\");\n// \t\t\tthis.getOwnerComponent().getModel().metadataLoaded().then(function() {\n// \t\t\t\t// Restore original busy indicator delay for the object view\n// \t\t\t\toViewModel.setProperty(\"/delay\", iOriginalBusyDelay);\n// \t\t\t});\n// \t\t},\n\n// \t\t/* =========================================================== */\n// \t\t/* event handlers                                              */\n// \t\t/* =========================================================== */\n\n// \t\t/**\n// \t\t * Event handler when the share in JAM button has been clicked\n// \t\t * @public\n// \t\t */\n// \t\tonShareInJamPress: function() {\n// \t\t\tvar oViewModel = this.getModel(\"objectView\"),\n// \t\t\t\toShareDialog = sap.ui.getCore().createComponent({\n// \t\t\t\t\tname: \"sap.collaboration.components.fiori.sharing.dialog\",\n// \t\t\t\t\tsettings: {\n// \t\t\t\t\t\tobject: {\n// \t\t\t\t\t\t\tid: location.href,\n// \t\t\t\t\t\t\tshare: oViewModel.getProperty(\"/shareOnJamTitle\")\n// \t\t\t\t\t\t}\n// \t\t\t\t\t}\n// \t\t\t\t});\n// \t\t\toShareDialog.open();\n// \t\t},\n\n// \t\t/**\n// \t\t * Event handler  for navigating back.\n// \t\t * It there is a history entry or an previous app-to-app navigation we go one step back in the browser history\n// \t\t * If not, it will replace the current entry of the browser history with the worklist route.\n// \t\t * @public\n// \t\t */\n// \t\tonNavBack: function() {\n// \t\t\tvar sPreviousHash = History.getInstance().getPreviousHash(),\n// \t\t\t\toCrossAppNavigator = sap.ushell.Container.getService(\"CrossApplicationNavigation\");\n\n// \t\t\tif (sPreviousHash !== undefined || !oCrossAppNavigator.isInitialNavigation()) {\n// \t\t\t\thistory.go(-1);\n// \t\t\t} else {\n// \t\t\t\tthis.getRouter().navTo(\"worklist\", {}, true);\n// \t\t\t}\n// \t\t},\n\n// \t\t/* =========================================================== */\n// \t\t/* internal methods                                            */\n// \t\t/* =========================================================== */\n\n// \t\t/**\n// \t\t * Binds the view to the object path.\n// \t\t * @function\n// \t\t * @param {sap.ui.base.Event} oEvent pattern match event in route 'object'\n// \t\t * @private\n// \t\t */\n// \t\t_onObjectMatched: function(oEvent) {\n// \t\t\t\n// \t\t\tthis.getView().setModel(this.getView().getModel(\"CLMODEL\"));\n// \t\t\tvar data = {};\n// \t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\n// \t\t\tvar sObjectId = oEvent.getParameter(\"arguments\").id;\n// \t\t\tthis.getModel().metadataLoaded().then(function() {\n// \t\t\t\tvar sObjectPath = this.getModel().createKey(\"Clbx_headerSet\", {\n// \t\t\t\t\tRecode: sObjectId\n// \t\t\t\t});\n// \t\t\t\tthis._bindView(\"/\" + sObjectPath);\n// \t\t\t}.bind(this));\n// \t\t},\n\n// \t\t/**\n// \t\t * Binds the view to the object path.\n// \t\t * @function\n// \t\t * @param {string} sObjectPath path to the object to be bound\n// \t\t * @private\n// \t\t */\n// \t\t_bindView: function(sObjectPath) {\n// \t\t\tvar oViewModel = this.getModel(\"objectView\"),\n// \t\t\t\toDataModel = this.getModel();\n\n// \t\t\tthis.getView().bindElement({\n// \t\t\t\tpath: sObjectPath,\n// \t\t\t\tevents: {\n// \t\t\t\t\t//change: this._onBindingChange.bind(this),\n// \t\t\t\t\tdataRequested: function() {\n// \t\t\t\t\t\toDataModel.metadataLoaded().then(function() {\n// \t\t\t\t\t\t\t// Busy indicator on view should only be set if metadata is loaded,\n// \t\t\t\t\t\t\t// otherwise there may be two busy indications next to each other on the\n// \t\t\t\t\t\t\t// screen. This happens because route matched handler already calls '_bindView'\n// \t\t\t\t\t\t\t// while metadata is loaded.\n// \t\t\t\t\t\t\toViewModel.setProperty(\"/busy\", true);\n// \t\t\t\t\t\t});\n// \t\t\t\t\t},\n// \t\t\t\t\tdataReceived: function() {\n// \t\t\t\t\t\toViewModel.setProperty(\"/busy\", false);\n// \t\t\t\t\t}\n// \t\t\t\t}\n// \t\t\t});\n// \t\t},\n\n// \t\t_onBindingChange: function() {\n// \t\t\tvar oView = this.getView(),\n// \t\t\t\toViewModel = this.getModel(\"objectView\"),\n// \t\t\t\toElementBinding = oView.getElementBinding();\n\n// \t\t\t// No data for the binding\n// \t\t\tif (!oElementBinding.getBoundContext()) {\n// \t\t\t\tthis.getRouter().getTargets().display(\"objectNotFound\");\n// \t\t\t\treturn;\n// \t\t\t}\n\n// \t\t\tvar oResourceBundle = this.getResourceBundle(),\n// \t\t\t\toObject = oView.getBindingContext().getObject(),\n// \t\t\t\tsObjectId = oObject.Recode,\n// \t\t\t\tsObjectName = oObject.Recode;\n\n// \t\t\t// Everything went fine.\n// \t\t\toViewModel.setProperty(\"/busy\", false);\n// \t\t\toViewModel.setProperty(\"/saveAsTileTitle\", oResourceBundle.getText(\"saveAsTileTitle\", [sObjectName]));\n// \t\t\toViewModel.setProperty(\"/shareOnJamTitle\", sObjectName);\n// \t\t\toViewModel.setProperty(\"/shareSendEmailSubject\",\n// \t\t\t\toResourceBundle.getText(\"shareSendEmailObjectSubject\", [sObjectId]));\n// \t\t\toViewModel.setProperty(\"/shareSendEmailMessage\",\n// \t\t\t\toResourceBundle.getText(\"shareSendEmailObjectMessage\", [sObjectName, sObjectId, location.href]));\n// \t\t},\n// \t\tsaveallorder: function() {\n// \t\t\t\n// \t\t},\n\n// \t\tsubmitorder: function() {\n// \t\t\t\n// \t\t}\n// \t});\n\n// });",
		"sh/bz/common/common/controller/Ysxq.controller.js": "/*global location*/\nsap.ui.define([\n\t\"sh/bz/common/controller/BaseController\",\n\t\"sap/ui/model/json/JSONModel\",\n\t\"sap/ui/core/routing/History\",\n\t\"sh/bz/common/controller/formatter\",\n\t\"sh/bz/common/controller/Util\"\n], function(\n\tBaseController,\n\tJSONModel,\n\tHistory,\n\tformatter,\n\tUtil\n) {\n\t\"use strict\";\n\n\treturn BaseController.extend(\"sh.bz.common.controller.Ysxq\", {\n\t\tformatter: formatter,\n\t\t/* ================================BaseController=========================== */\n\t\t/* lifecycle methods                                           */\n\t\t/* =========================================================== */\n\t\tonInit: function() {\n\n\t\t\t// Model used to manipulate control states. The chosen values make sure,\n\t\t\t// detail page is busy indication immediately so there is no break in\n\t\t\t// between the busy indication for loading the view's meta data\n\t\t\tvar iOriginalBusyDelay,\n\t\t\t\toViewModel = new JSONModel({\n\t\t\t\t\tbusy: true,\n\t\t\t\t\tdelay: 0\n\t\t\t\t});\n\n\t\t\tthis.getRouter().getRoute(\"DETAIL_CL\").attachPatternMatched(this._onObjectMatched, this);\n\t\t\tthis.getRouter().getRoute(\"DETAIL_JK\").attachPatternMatched(this._onObjectMatched, this);\n\t\t\t// Store original busy indicator delay, so it can be restored later on\n\t\t\tiOriginalBusyDelay = this.getView().getBusyIndicatorDelay();\n\t\t\tthis.setModel(oViewModel, \"objectView\");\n\t\t\tthis.getOwnerComponent().getModel().metadataLoaded().then(function() {\n\t\t\t\toViewModel.setProperty(\"/delay\", iOriginalBusyDelay);\n\t\t\t});\n\t\t},\n\n\t\t/* =========================================================== */\n\t\t/* event handlers                                              */\n\t\t/* =========================================================== */\n\t\tonNavBack: function() {\n\t\t\tvar sPreviousHash = History.getInstance().getPreviousHash(),\n\t\t\t\toCrossAppNavigator = sap.ushell.Container.getService(\"CrossApplicationNavigation\");\n\t\t\tif (sPreviousHash !== undefined || !oCrossAppNavigator.isInitialNavigation()) {\n\t\t\t\thistory.go(-1);\n\t\t\t} else {\n\t\t\t\tthis.getRouter().navTo(\"worklist\", {}, true);\n\t\t\t}\n\t\t},\n\n\t\t/* =========================================================== */\n\t\t/* internal methods                                            */\n\t\t/* =========================================================== */\n\t\t_onObjectMatched: function(oEvent) {\n\t\t\tthis.getView().setModel(this.getView().getModel(\"CLMODEL\"));\n\t\t\tvar data = {};\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\n\t\t\tvar sObjectId = oEvent.getParameter(\"arguments\").id;\n\t\t\tthis.getModel().metadataLoaded().then(function() {\n\t\t\t\tvar sObjectPath = this.getModel().createKey(\"Clbx_headerSet\", {\n\t\t\t\t\tRecode: sObjectId\n\t\t\t\t});\n\n\t\t\t\tthis._bindView(\"/\" + sObjectPath);\n\t\t\t}.bind(this));\n\n\t\t\t//显示数据\n\t\t\tvar str = oEvent.getParameter(\"arguments\").id;\n\t\t\tvar bukrs = str.substring(2, 6);\n\t\t\tvar Ryear = str.substring(6, 10);\n\t\t\tvar Path = \"/FMAVCTSET?$filter=Bukrs eq '\" + bukrs + \"' and  Ryear eq '\" + Ryear + \"' and  Recode eq '\" + str + \"' \";\n\t\t\tvar oModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_YS_SEARCH_SRV/\", true);\n\t\t\tvar that = this;\n\t\t\toModel.read(Path, {\n\t\t\t\tsuccess: function(oData, response) {\n\t\t\t\t\tvar Item_data = new sap.ui.model.json.JSONModel(oData).getData();\n\t\t\t\t\tthat.getView().setModel(new sap.ui.model.json.JSONModel(Item_data), \"item_data\");\n\t\t\t\t},\n\t\t\t\terror: function(oError) {\n\n\t\t\t\t},\n\t\t\t\tasync: false\n\t\t\t});\n\n\t\t},\n\n\t\t_bindView: function(sObjectPath) {\n\n\t\t},\n\n\t\t_onBindingChange: function() {}\n\n\t});\n\n});",
		"sh/bz/common/common/controller/Clinfor.controller.js": "/*global location*/\r\nsap.ui.define([\r\n\t\"sh/bz/common/controller/BaseController\",\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"sap/ui/core/routing/History\",\r\n\t\"sh/bz/common/controller/Formatter\",\r\n\t\"sh/bz/common/controller/Util\",\r\n\t\"sap/ui/core/BusyIndicator\",\r\n\t\"sap/m/MessageToast\",\r\n\t\"sap/m/MessageBox\"\r\n], function(\r\n\tBaseController,\r\n\tJSONModel,\r\n\tHistory,\r\n\tFormatter,\r\n\tUtil,\r\n\tBusyIndicator,\r\n\tMessageToast,\r\n\tMessageBox\r\n) {\r\n\t\"use strict\";\r\n\tvar objsDT = [];\r\n\tvar clxx_num = 0;\r\n\tvar reg_NO = /^\\d+$/; //正整数\r\n\tvar reg_JE = /^\\d+(.\\d{2})?$/; //金额\r\n\tvar reg_PHONE = /^1[35678]\\d{9}$|^((0\\d{2}-)?\\d{8}(-\\d{1,4})?)$|^(0\\d{3}-\\d{7,8}(-\\d{1,4})?)$/;\r\n\tvar we = this;\r\n\tvar me;\r\n\treturn BaseController.extend(\"sh.bz.common.controller.Clinfor\", {\r\n\r\n\t\tformatter: Formatter,\r\n\r\n\t\t/* =========================================================== */\r\n\t\t/* lifecycle methods                                           */\r\n\t\t/* =========================================================== */\r\n\r\n\t\t/**\r\n\t\t * Called when the worklist controller is instantiated.\r\n\t\t * @public\r\n\t\t */\r\n\t\tonInit: function() {\r\n\t\t\twe = this;\r\n\t\t\tthis._dynamicctr = [];\r\n\t\t\tvar currentDate = new Date(),\r\n\t\t\t\tddrq = this.byId(\"IP_Ddrq\"),\r\n\t\t\t\tcfrq = this.byId(\"IP_Cfrq\");\r\n\t\t\tddrq.setMaxDate(currentDate); //设置最大日期不超过今天\r\n\t\t\tcfrq.setMaxDate(currentDate); //设置最大日期不超过今天\r\n\t\t\tthis.getView().addStyleClass(this.getContentDensityClass());\r\n\t\t\t// Model used to manipulate control states. The chosen values make sure,\r\n\t\t\t// detail page is busy indication immediately so there is no break in\r\n\t\t\t// between the busy indication for loading the view's meta data\r\n\t\t\tvar iOriginalBusyDelay,\r\n\t\t\t\toViewModel = new JSONModel({\r\n\t\t\t\t\tbusy: true,\r\n\t\t\t\t\tdelay: 0\r\n\t\t\t\t});\r\n\r\n\t\t\tthis.getRouter().getRoute(\"Clinfor\").attachPatternMatched(this._onObjectMatched, this);\r\n\r\n\t\t\t// Store original busy indicator delay, so it can be restored later on\r\n\t\t\tiOriginalBusyDelay = this.getView().getBusyIndicatorDelay();\r\n\t\t\tthis.setModel(oViewModel, \"objectView\");\r\n\t\t\tthis.getOwnerComponent().getModel().metadataLoaded().then(function() {\r\n\t\t\t\t// Restore original busy indicator delay for the object view\r\n\t\t\t\toViewModel.setProperty(\"/delay\", iOriginalBusyDelay);\r\n\t\t\t});\r\n\t\t\tvar oViewModel = this.getModel(\"objectView\");\r\n\t\t\toViewModel.setProperty(\"/busy\", false);\r\n\t\t\toViewModel.setProperty(\"/busy\", false);\r\n\r\n\t\t},\r\n\t\t//出发到达日期设置范围\r\n\t\tsetDate: function(oControlEvent) {\r\n\t\t\tvar param = oControlEvent.getParameters(),\r\n\t\t\t\tval = param.value.split(\".\"),\r\n\t\t\t\ty = Number(val[0]),\r\n\t\t\t\tm = Number(val[1]),\r\n\t\t\t\td = Number(val[2]),\r\n\t\t\t\tmDate = new Date(y, m - 1, d);\r\n\t\t\tif (param.id.search(\"IP_Cfrq\") > -1) { //如果是出发日期\r\n\t\t\t\tvar ddrq = this.byId(\"IP_Ddrq\");\r\n\t\t\t\tddrq.setMinDate(mDate);\r\n\t\t\t} else { //如果是到达日期\r\n\t\t\t\tvar cfrq = this.byId(\"IP_Cfrq\");\r\n\t\t\t\tcfrq.setMaxDate(mDate);\r\n\t\t\t\tif (cfrq._lastValue.length < 1) {\r\n\t\t\t\t\tcfrq.setValue(y + \"/\" + (m - 1) + \"/\" + d);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t//小数点\r\n\t\tonTwoAmountsum: function(oEvent) {\r\n\t\t\tvar value = oEvent.getSource().getValue();\r\n\t\t\tvar sum = Formatter.FloatFormat(value);\r\n\t\t\toEvent.getSource().setValue(sum);\r\n\t\t},\r\n\r\n\t\t//费用金额\r\n\t\tChangeWrbtr: function(oEvent) {\r\n\t\t\tthis.onTwoAmountsumAndNotNull(oEvent);\r\n\t\t\tvar total = this.getView().getBindingContext().getProperty();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Zfpje = String(total.Wrbtr);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zfpje\", Formatter.FloatFormat(Zfpje), true);\r\n\r\n\t\t},\r\n\r\n\t\t//小数点并且不能为空\r\n\t\tonTwoAmountsumAndNotNull: function(oEvent) {\r\n\t\t\tthis.onTwoAmountsum(oEvent);\r\n\t\t\tvar value = oEvent.getSource().getValue();\r\n\t\t\tif (parseFloat(value) <= 0) {\r\n\t\t\t\tUtil.showError(\"不得为0或负数\");\r\n\t\t\t\toEvent.getSource().setValue(null);\r\n\t\t\t} else {\r\n\t\t\t\tvar netpr = this.getView().byId(\"IP_Netpr\"), //不含税金额\r\n\t\t\t\t\tnetprVal = Number(netpr.getValue()),\r\n\t\t\t\t\twmwst = this.getView().byId(\"IP_Wmwst\"); //税额\r\n\t\t\t\tif (netprVal >= value) {\r\n\t\t\t\t\tnetpr.setValue();\r\n\t\t\t\t\twmwst.setValue();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (netprVal > 0) {\r\n\t\t\t\t\twmwst.setValue((value - netprVal).toFixed(2));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t//发票金额\r\n\t\tchangeZfpje: function(oEvent) {\r\n\t\t\tthis.onTwoAmountsum(oEvent);\r\n\t\t\t\r\n\t\t\t//校验发票金额和费用金额的关系\r\n\t\t\tvar value = oEvent.getSource().getValue();\r\n\t\t\tvar Wrbtr = this.getView().byId(\"IP_Wrbtr\");\r\n\t\t\tif (!Wrbtr) {\r\n\t\t\t\toEvent.getSource().setValue(null);\r\n\t\t\t\tUtil.showError(\"请先填写费用金额项\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar Netprvalue = Wrbtr.getValue();\r\n\t\t\tif (Netprvalue) {\r\n\t\t\t\tif (Number(value) < Number(Netprvalue)) {\r\n\t\t\t\t\toEvent.getSource().setValue(null);\r\n\t\t\t\t\tUtil.showError(\"发票金额不得低于费用金额\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t/* =========================================================== */\r\n\t\t/* event handlers                                              */\r\n\t\t/* =========================================================== */\r\n\r\n\t\t/**\r\n\t\t * Event handler when the share in JAM button has been clicked\r\n\t\t * @public\r\n\t\t */\r\n\t\tonShareInJamPress: function() {\r\n\t\t\tvar oViewModel = this.getModel(\"objectView\"),\r\n\t\t\t\toShareDialog = sap.ui.getCore().createComponent({\r\n\t\t\t\t\tname: \"sap.collaboration.components.fiori.sharing.dialog\",\r\n\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\tobject: {\r\n\t\t\t\t\t\t\tid: location.href,\r\n\t\t\t\t\t\t\tshare: oViewModel.getProperty(\"/shareOnJamTitle\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\toShareDialog.open();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Event handler  for navigating back.\r\n\t\t * It there is a history entry or an previous app-to-app navigation we go one step back in the browser history\r\n\t\t * If not, it will replace the current entry of the browser history with the worklist route.\r\n\t\t * @public\r\n\t\t */\r\n\t\tonNavBack: function() {\r\n\t\t\tthis.destroy();\r\n\t\t\tif (this._oldoObject !== undefined) {\r\n\t\t\t\tif (JSON.stringify(this._oldoObject) !== \"{}\") {\r\n\t\t\t\t\tvar otable = sap.ui.getCore().CLBX_HOMEVIEW.byId('CLBX_CLXX_table');\r\n\t\t\t\t\tfor (var key in this._oldoObject) {\r\n\t\t\t\t\t\totable.getModel().setProperty(key, this._oldoObject[key], this.getView().getBindingContext(), true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// otable.getModel().setProperty(\"Einm\", this._oldoObject.Einm, this.getView().getBindingContext(), true);\r\n\t\t\t\t\t// otable.getModel().setProperty(\"Pjzs\", this._oldoObject.Pjzs, this.getView().getBindingContext(), true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.clearErrorSateAll(this);\r\n\t\t\tvar sPreviousHash = History.getInstance().getPreviousHash();\r\n\t\t\tvar isInitialNavigation = false;\r\n\t\t\tif (sap.ushell !== undefined) {\r\n\t\t\t\tif (sap.ushell.Container) {\r\n\t\t\t\t\tvar oCrossAppNavigator = sap.ushell.Container.getService(\"CrossApplicationNavigation\");\r\n\t\t\t\t\tisInitialNavigation = oCrossAppNavigator.isInitialNavigation();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (sPreviousHash !== undefined || !isInitialNavigation) {\r\n\t\t\t\thistory.go(-1);\r\n\t\t\t} else {\r\n\t\t\t\tthis.getRouter().navTo(\"worklist\", {}, true);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/* =========================================================== */\r\n\t\t/* internal methods                                            */\r\n\t\t/* =========================================================== */\r\n\r\n\t\t/**\r\n\t\t * Binds the view to the object path.\r\n\t\t * @function\r\n\t\t * @param {sap.ui.base.Event} oEvent pattern match event in route 'object'\r\n\t\t * @private\r\n\t\t */\r\n\t\t_onObjectMatched: function(oEvent) {\r\n\t\t\tthis.setscreen(this.getOwnerComponent()._status);\r\n\t\t\t//add by sunfeng start\r\n\t\t\tif (this.getView().getModel(\"CLMODEL\") !== undefined) {\r\n\t\t\t\tthis.getView().setModel(this.getView().getModel(\"CLMODEL\"));\r\n\t\t\t\tthis.getView().getModel().setRefreshAfterChange();\r\n\t\t\t}\r\n\t\t\tif (!sap.ui.getCore().AppContext) {\r\n\t\t\t\tthis.getRouter().navTo(\"worklist\", {}, true);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// if (sap.ui.getCore().AppContext.Bukrs === '9200') {\r\n\t\t\t// \tthis.getView().byId(\"IP_Aufnr_label\").setRequired(true);\r\n\t\t\t// } else {\r\n\t\t\t// \tthis.getView().byId(\"IP_Aufnr_label\").setRequired(false);\r\n\t\t\t// }\r\n\t\t\t// if (sap.ui.getCore().AppContext.Bukrs === '8100') {\r\n\t\t\t// \tthis.getView().byId(\"IP_Dqlb_label\").setRequired(true);\r\n\t\t\t// } else {\r\n\t\t\t// \tthis.getView().byId(\"IP_Dqlb_label\").setRequired(false);\r\n\t\t\t// }\r\n\t\t\t// if (sap.ui.getCore().AppContext.Bukrs === '6102') {\r\n\t\t\t// \tthis.getView().byId(\"IP_Zzfzhs01_label\").setRequired(true);\r\n\t\t\t// } else {\r\n\t\t\t// \tthis.getView().byId(\"IP_Zzfzhs01_label\").setRequired(false);\r\n\t\t\t// }\r\n\t\t\t//add by sunfeng end\r\n\r\n\t\t\tthis._entitysaved = undefined;\r\n\r\n\t\t\tvar sentityid = oEvent.getParameter(\"arguments\").entityid;\r\n\t\t\tthis.getModel().metadataLoaded().then(function() {\r\n\t\t\t\tif (!sentityid) {\r\n\t\t\t\t\tthis._entityid = undefined;\r\n\t\t\t\t\t//create\r\n\t\t\t\t\tvar posnr = clxx_num += 1;\r\n\t\t\t\t\tvar posnr_t = posnr.toString();\r\n\t\t\t\t\tvar newData = {\r\n\t\t\t\t\t\tPosnr: posnr_t\r\n\t\t\t\t\t};\r\n\t\t\t\t\tvar oEntry = this.getView().getModel().createEntry(\"Clbx_itemSet\", {\r\n\t\t\t\t\t\tproperties: newData,\r\n\t\t\t\t\t\tsuccess: function() {},\r\n\t\t\t\t\t\terror: function() {}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.getView().unbindContext();\r\n\t\t\t\t\tthis.getView().setBindingContext(oEntry);\r\n\r\n\t\t\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\t\t\tthis.getView().getModel().setProperty(path + \"Sfzp\", \"X\", true);\r\n\t\t\t\t\tthis.getView().byId(\"IP_Netpr\").setEditable(true);\r\n\t\t\t\t\tthis.getView().byId(\"IP_Wmwst\").setEditable(true);\r\n\t\t\t\t\tthis.getView().byId(\"IP_Mwskz\").setEditable(true);\r\n\t\t\t\t\tvar path = sap.ui.getCore().CLBX_HOMEVIEW.getBindingContext();\r\n\t\t\t\t\tvar kostl = sap.ui.getCore().CLBX_HOMEVIEW.getModel().getProperty(path + \"/Kostl\");\r\n\t\t\t\t\tvar ktext = sap.ui.getCore().CLBX_HOMEVIEW.getModel().getProperty(path + \"/Ktext\");\r\n\t\t\t\t\tvar paths = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\t\t\tthis.getView().getModel().setProperty(paths + \"Kostl\", kostl, true);\r\n\t\t\t\t\tthis.getView().getModel().setProperty(paths + \"Ktext\", ktext, true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// change\r\n\t\t\t\t\tthis._entityid = sentityid;\r\n\t\t\t\t\tvar spath = \"/\" + sentityid;\r\n\t\t\t\t\tthis.getView().setBindingContext(new sap.ui.model.Context(this.getView().getModel(), spath));\r\n\t\t\t\t\tvar Fieldt = this.getView().getBindingContext().getProperty().Zdynamicfield;\r\n\t\t\t\t\tvar data = this.getView().getBindingContext().getProperty();\r\n\t\t\t\t\tthis._Filedtcl(Fieldt, data);\r\n\t\t\t\t\t// this.getView().bindElement({\r\n\t\t\t\t\t// \tchange: this._onBindingChange.bind(this),\r\n\t\t\t\t\t// \tpath: spath,\r\n\t\t\t\t\t// \tevents: {\r\n\t\t\t\t\t// \t\tdataRequested: function() {\r\n\r\n\t\t\t\t\t// \t\t},\r\n\t\t\t\t\t// \t\tdataReceived: function() {}\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// });\r\n\r\n\t\t\t\t\t//clone\r\n\t\t\t\t\tthis._onBindingChange();\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// var sObjectPath = this.getModel().createKey(\"Clbx_headerSet\", {\r\n\t\t\t\t// \tRecode :  sObjectId\r\n\t\t\t\t// });\r\n\t\t\t\t// this._bindView(\"/\" + sObjectPath);\r\n\t\t\t}.bind(this));\r\n\r\n\t\t\t//pic\r\n\t\t\tvar oFrame = this.getView().byId(\"idFrame\");\r\n\t\t\t// var sURI = \"http://od2qxv61y.bkt.clouddn.com/zborg.png\";\r\n\t\t\t// oFrame.setContent(\"<iframe src=\" + sURI + \" height='700' width='1000' ></iframe>\");  \r\n\t\t\t//oFrame.setContent(\"<iframe src=\" + sURI + \"></iframe>\");\r\n\t\t\t//oFrame.setContent(\"<iframe src=\" + sURI + \" width:100%;height:100%' ></iframe>\");  \r\n\t\t},\r\n\t\t//add by ymz s\r\n\t\t//add for search all s\r\n\r\n\t\t//add for search all e\r\n\t\tsetscreen: function(status) {\r\n\t\t\tvar that = this;\r\n\t\t\t// if(status !== undefined){\r\n\t\t\t// \tvar Fieldt = this.getView().getBindingContext().getProperty().Zdynamicfield;\r\n\t\t\t// }\r\n\t\t\t// \teditable_IP_ETNAME;\r\n\t\t\tif (this.getOwnerComponent().getModel(\"CONTROL\") && this.getOwnerComponent().getModel(\"CONTROL\").getProperty(\"/control\") === 'AL') {\r\n\t\t\t\tstatus = 'C';\r\n\t\t\t};\r\n\t\t\tif (status === \"A\" || status === \"\" || status === \"D\" || status === \"R\") {\r\n\t\t\t\t//起草\r\n\t\t\t\tvar sViewinfor = [];\r\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_Einm', null, null, true);\r\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_RBGselect', null, null, true);\r\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_Pjzs', null, null, true);\r\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_Mwskz', null, null, true);\r\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_Wrbtr', null, null, true);\r\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_Netpr', null, null, true);\r\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_Note', null, null, true);\r\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_Wmwst', null, null, true);\r\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_Vektp', null, null, true);\r\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_Sps', null, null, true);\r\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_Ctkd', null, null, true);\r\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_ICcts', null, null, true);\r\n\r\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_Cfrq', null, null, true);\r\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_Ctkd1', null, null, true);\r\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_Ddrq', null, null, true);\r\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'IP_Ctkd2', null, null, true);\r\n\r\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'bt_homesave', true, true, null);\r\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'bt_homebackl', true, true, null);\r\n\r\n\t\t\t\tfor (var i = 0; i < sViewinfor.length; i++) {\r\n\t\t\t\t\tif (sViewinfor[i].visible !== null) {\r\n\t\t\t\t\t\tthis.getView().byId(sViewinfor[i].element).setVisible(sViewinfor[i].visible);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (sViewinfor[i].enable !== null) {\r\n\t\t\t\t\t\tthis.getView().byId(sViewinfor[i].element).setEnabled(sViewinfor[i].enable);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (sViewinfor[i].editable !== null) {\r\n\t\t\t\t\t\tthis.getView().byId(sViewinfor[i].element).setEditable(sViewinfor[i].editable);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t} else if (status === \"C\" || status === \"E\") {\r\n\t\t\t\t// this.getView().byId(\"fileUploader\").setVisible(false);\r\n\t\t\t\tvar elements = that.getView().findElements(true);\r\n\t\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\t\tif (elements[i].getMetadata().getName() === \"sap.m.MultiInput\" || elements[i].getMetadata().getName() === \"sap.m.Input\" ||\r\n\t\t\t\t\t\telements[i].getMetadata().getName() === \"sap.m.DatePicker\" || elements[i].getMetadata().getName() === \"sap.m.RadioButtonGroup\") {\r\n\t\t\t\t\t\telements[i].setEditable(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (elements[i].getMetadata().getName() === \"sap.m.Button\") {\r\n\t\t\t\t\t\telements[i].setVisible(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// var Fieldt = this.getView().getBindingContext().getProperty().Zdynamicfield;\r\n\t\t\t}\r\n\t\t\tthis.getView().byId(\"bt_homebackl\").setVisible(true);\r\n\t\t},\r\n\t\taddfiledcontrol: function(sViewinfor, selement, svisible, senable, seditable) {\r\n\t\t\tvar wa = {\r\n\t\t\t\telement: selement,\r\n\t\t\t\tvisible: svisible,\r\n\t\t\t\tenable: senable,\r\n\t\t\t\teditable: seditable,\r\n\t\t\t};\r\n\t\t\tsViewinfor.splice(0, 0, wa);\r\n\t\t\treturn sViewinfor;\r\n\t\t},\r\n\t\t//add by ymz e\r\n\r\n\t\t/**\r\n\t\t * Binds the view to the object path.\r\n\t\t * @function\r\n\t\t * @param {string} sObjectPath path to the object to be bound\r\n\t\t * @private\r\n\t\t */\r\n\t\t_bindView: function(sObjectPath) {\r\n\t\t\tvar oViewModel = this.getModel(\"objectView\"),\r\n\t\t\t\toDataModel = this.getModel();\r\n\r\n\t\t\tthis.getView().bindElement({\r\n\t\t\t\tpath: sObjectPath,\r\n\t\t\t\tevents: {\r\n\t\t\t\t\tchange: this._onBindingChange.bind(this),\r\n\t\t\t\t\tdataRequested: function() {\r\n\t\t\t\t\t\toDataModel.metadataLoaded().then(function() {\r\n\t\t\t\t\t\t\t// Busy indicator on view should only be set if metadata is loaded,\r\n\t\t\t\t\t\t\t// otherwise there may be two busy indications next to each other on the\r\n\t\t\t\t\t\t\t// screen. This happens because route matched handler already calls '_bindView'\r\n\t\t\t\t\t\t\t// while metadata is loaded.\r\n\t\t\t\t\t\t\toViewModel.setProperty(\"/busy\", true);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdataReceived: function() {\r\n\t\t\t\t\t\toViewModel.setProperty(\"/busy\", false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_onBindingChange: function() {\r\n\t\t\tvar oView = this.getView(),\r\n\t\t\t\toElementBinding = oView.getElementBinding();\r\n\t\t\t// No data for the binding\r\n\t\t\t// if (!oElementBinding.getBoundContext()) {\r\n\t\t\t// \tthis.getRouter().getTargets().display(\"objectNotFound\");\r\n\t\t\t// \treturn;\r\n\t\t\t// }\r\n\r\n\t\t\tthis._oldoObject = oView.getBindingContext().getProperty();\r\n\r\n\t\t},\r\n\t\tsavePressed: function(oEvent) {\r\n\t\t\t//保存时候的录入数据校验2\r\n\t\t\tvar objs = [];\r\n\t\t\tif (this.getView().byId(\"IP_Einm\")) {\r\n\t\t\t\tobjs.push({\r\n\t\t\t\t\tidStr: \"IP_Einm\", //费用项目\r\n\t\t\t\t\tvalidNull: true\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (this.getView().byId(\"IP_Pjzs\")) {\r\n\t\t\t\tobjs.push({\r\n\t\t\t\t\tidStr: \"IP_Pjzs\", //票据张数\r\n\t\t\t\t\tvalidNull: true,\r\n\t\t\t\t\treg: reg_NO,\r\n\t\t\t\t\tmsg: \"需输入有效数字\"\r\n\t\t\t\t});\r\n\t\t\t\tobjs.push({\r\n\t\t\t\t\tidStr: \"IP_Pjzs\", //票据张数\r\n\t\t\t\t\tvalidNull: true,\r\n\t\t\t\t\treg: /^(0|([1-9]\\d{0,2}))$/, //验证数字0-999\r\n\t\t\t\t\tmsg: \"需输入有效数字，最多999张附件\"\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (this.getView().byId(\"IP_Wrbtr\")) {\r\n\t\t\t\tobjs.push({\r\n\t\t\t\t\tidStr: \"IP_Wrbtr\", //金额\r\n\t\t\t\t\tvalidNull: true,\r\n\t\t\t\t\treg: reg_JE,\r\n\t\t\t\t\tmsg: \"需输入有效金额\"\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// if (this.getView().byId(\"IP_Note\")) {\r\n\t\t\t// \tobjs.push({\r\n\t\t\t// \t\tidStr: \"IP_Note\", //说明\r\n\t\t\t// \t\tvalidNull: true,\r\n\t\t\t// \t\treg: /^[\\w\\u4e00-\\u9fa5]{0,50}$/, // 限制字数\r\n\t\t\t// \t\tmsg: \"字数限制在50个自符内\"\r\n\t\t\t// \t});\r\n\t\t\t// }\r\n\t\t\tif (this.getView().byId(\"IP_KOSTL\")) {\r\n\t\t\t\tobjs.push({\r\n\t\t\t\t\tidStr: \"IP_KOSTL\", //成本中心\r\n\t\t\t\t\tvalidNull: true\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (this.getView().byId(\"IP_Zfpje\")) {\r\n\t\t\t\tobjs.push({\r\n\t\t\t\t\tidStr: \"IP_Zfpje\", //发票金额\r\n\t\t\t\t\tvalidNull: true\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (this.getView().byId(\"IP_RBGselect\").getSelectedIndex() === 0) {\r\n\t\t\t\tif (this.getView().byId(\"IP_Mwskz\")) {\r\n\t\t\t\t\tobjs.push({\r\n\t\t\t\t\t\tidStr: \"IP_Mwskz\", //税码\r\n\t\t\t\t\t\tvalidNull: true\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (this.getView().byId(\"IP_Netpr\")) {\r\n\t\t\t\t\tobjs.push({\r\n\t\t\t\t\t\tidStr: \"IP_Netpr\", //不含税金额\r\n\t\t\t\t\t\tvalidNull: true,\r\n\t\t\t\t\t\treg: reg_JE,\r\n\t\t\t\t\t\tmsg: \"需输入有效金额\"\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (this.getView().byId(\"IP_Wmwst\")) {\r\n\t\t\t\t\tobjs.push({\r\n\t\t\t\t\t\tidStr: \"IP_Wmwst\", //税额\r\n\t\t\t\t\t\tvalidNull: true,\r\n\t\t\t\t\t\treg: reg_JE,\r\n\t\t\t\t\t\tmsg: \"需输入有效金额\"\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (objsDT.length > 0) {\r\n\t\t\t\tfor (var i = 0; i < objsDT.length; i++) {\r\n\t\t\t\t\tobjs.push(objsDT[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (this.validForm(oEvent, this, objs)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//校验不含税金额”与“税额”总和需等于“金额”项\r\n\t\t\tif (this.getView().byId(\"IP_RBGselect\").getSelectedIndex() === 0) {\r\n\t\t\t\tvar a = this.getView().byId(\"IP_Wrbtr\").getValue();\r\n\t\t\t\tvar b = this.getView().byId(\"IP_Netpr\").getValue();\r\n\t\t\t\tvar c = this.getView().byId(\"IP_Wmwst\").getValue();\r\n\t\t\t\tif (parseFloat(a) !== parseFloat(b) + parseFloat(c)) {\r\n\t\t\t\t\tUtil.showError(\"“不含税金额”与“税额”总和需等于“金额”项\");\r\n\t\t\t\t\tthis.getView().byId(\"IP_Netpr\").setValueState(\"Error\");\r\n\t\t\t\t\tthis.getView().byId(\"IP_Wmwst\").setValueState(\"Error\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//校验“金额”项不能为零\r\n\t\t\tif (this.getView().byId(\"IP_Wrbtr\").getValue() === 0) {\r\n\t\t\t\tUtil.showError(\"请填写有效金额\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//if create ,need add a row to table\r\n\t\t\tif (!this._entityid && !this._entitysaved) {\r\n\t\t\t\tvar allpages = this.getView().getParent().getPages();\r\n\t\t\t\t// for (var i = 0; i < allpages.length; i++) {\r\n\t\t\t\t// \tif (allpages[i].sViewName == \"sh.bz.clbx.view.Home\") {\r\n\t\t\t\t// \t\tvar oHomeView = allpages[i];\r\n\t\t\t\t// \t\tvar otable = oHomeView.byId(\"table\");\r\n\t\t\t\t// \t\tvar otable_item_clone = oHomeView.byId(\"table_item\").clone();\r\n\t\t\t\t// \t\totable_item_clone.setBindingContext(this.getView().getBindingContext());\r\n\t\t\t\t// \t\totable.addItem(otable_item_clone);\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }\r\n\t\t\t\tvar otable = sap.ui.getCore().CLBX_HOMEVIEW.byId('CLBX_CLXX_table');\r\n\t\t\t\tvar oHomeView = sap.ui.getCore().CLBX_HOMEVIEW;\r\n\t\t\t\t// when clone,if create,\r\n\t\t\t\tvar otable_item_clone = oHomeView.byId(\"clbx_clxx_table_item\").clone();\r\n\t\t\t\totable_item_clone.setBindingContext(this.getView().getBindingContext());\r\n\t\t\t\totable.addItem(otable_item_clone);\r\n\r\n\t\t\t\tthis._entitysaved = this.getView().getBindingContext().getProperty();\r\n\t\t\t\t//this.showMessageall('S','保存成功',\"保存并创建记录成功\");\r\n\t\t\t\tUtil.showInfo(\"保存并创建记录成功\");\r\n\t\t\t\tthis._oldoObject = {};\r\n\t\t\t\t// this.destroy();\r\n\t\t\t} else {\r\n\t\t\t\t//this.showMessageall('S','保存成功',\"保存成功\");\r\n\t\t\t\tUtil.showInfo(\"保存成功\");\r\n\t\t\t\tthis._oldoObject = {};\r\n\t\t\t\t// this.destroy();\r\n\t\t\t};\r\n\t\t\t//if changed ,save auto \r\n\r\n\t\t\t//this.onNavBack();\r\n\t\t},\r\n\t\tcancelPressed: function() {\r\n\t\t\t//create or change \r\n\t\t\t//create need to deploy entity \r\n\t\t\tif (!this._entityid) {\r\n\t\t\t\tthis.getView().getModel().deleteCreatedEntry(this.getView().getBindingContext());\r\n\t\t\t} else {\r\n\t\t\t\t//var sinfor = this.getDomref(this, 'sh.bz.clbx.view.Home', 'CLBX_CLXX_table');\r\n\t\t\t\tvar otable = sap.ui.getCore().CLBX_HOMEVIEW.byId('CLBX_CLXX_table');\r\n\t\t\t\tvar oHomeView = sap.ui.getCore().CLBX_HOMEVIEW;\r\n\t\t\t\totable.getModel().setProperty(\"Einm\", this._oldoObject.Einm, this.getView().getBindingContext(), true);\r\n\t\t\t\t//to do \r\n\t\t\t\t// other field need to reset\r\n\t\t\t\t// otable.getModel().setProperty(\"Einm\",this._oldoObject.Einm,this.getView().getBindingContext(),true); \r\n\t\t\t\t// otable.getModel().setProperty(\"Einm\",this._oldoObject.Einm,this.getView().getBindingContext(),true); \r\n\t\t\t\t// otable.getModel().setProperty(\"Einm\",this._oldoObject.Einm,this.getView().getBindingContext(),true); \r\n\t\t\t\t// otable.getModel().setProperty(\"Einm\",this._oldoObject.Einm,this.getView().getBindingContext(),true); \r\n\t\t\t\t// otable.getModel().setProperty(\"Einm\",this._oldoObject.Einm,this.getView().getBindingContext(),true); \r\n\t\t\t\t// otable.getModel().setProperty(\"Einm\",this._oldoObject.Einm,this.getView().getBindingContext(),true); \r\n\t\t\t\t// otable.getModel().setProperty(\"Einm\",this._oldoObject.Einm,this.getView().getBindingContext(),true); \r\n\r\n\t\t\t};\r\n\r\n\t\t\t//change need to reset change\r\n\t\t\tthis.onNavBack();\r\n\t\t},\r\n\r\n\t\tChangeNetpr: function(oEvent) {\r\n\t\t\t//检查是否填写过金额项\r\n\t\t\tif (!this.getView().byId(\"IP_Zfpje\").getValue()) {\r\n\t\t\t\tUtil.showError(\"请先填写费用金额项\");\r\n\t\t\t\toEvent.getSource().setValue(null);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// \r\n\t\t\tif (parseFloat(oEvent.getSource().getValue()) <= 0) {\r\n\t\t\t\tUtil.showError(\"不得为0或负数\");\r\n\t\t\t\toEvent.getSource().setValue(null);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (parseFloat(oEvent.getSource().getValue()) > parseFloat(this.getView().byId(\"IP_Zfpje\").getValue())) {\r\n\t\t\t\tUtil.showError(\"不得超过金额项\");\r\n\t\t\t\toEvent.getSource().setValue(null);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (parseFloat(oEvent.getSource().getValue()) === parseFloat(this.getView().byId(\"IP_Zfpje\").getValue())) {\r\n\t\t\t\tUtil.showError(\"税额项不得为0\");\r\n\t\t\t\toEvent.getSource().setValue(null);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar total = this.getView().getBindingContext().getProperty();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tif (total.Zfpje === undefined) {\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tif (!oEvent.getSource().getValue()) {\r\n\t\t\t\t\tvar Netpr = String(total.Zfpje - total.Wmwst);\r\n\t\t\t\t\tthis.getView().getModel().setProperty(path + \"Netpr\", Formatter.FloatFormat(Netpr), true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar Wmwst = String(total.Zfpje - total.Netpr);\r\n\t\t\t\t\tthis.getView().getModel().setProperty(path + \"Wmwst\", Formatter.FloatFormat(Wmwst), true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.onTwoAmountsum(oEvent);\r\n\r\n\t\t},\r\n\r\n\t\tchangeWmwst: function(oEvent) {\r\n\t\t\t//检查是否填写过金额项\r\n\t\t\tif (!this.getView().byId(\"IP_Zfpje\").getValue()) {\r\n\t\t\t\tUtil.showError(\"请先填写费用金额项\");\r\n\t\t\t\toEvent.getSource().setValue(null);\r\n\t\t\t\t// this.onTwoAmountsum(oEvent);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// \r\n\t\t\tif (parseFloat(oEvent.getSource().getValue()) <= 0) {\r\n\t\t\t\tUtil.showError(\"不得为0或负数\");\r\n\t\t\t\toEvent.getSource().setValue(null);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (parseFloat(oEvent.getSource().getValue()) > parseFloat(this.getView().byId(\"IP_Zfpje\").getValue())) {\r\n\t\t\t\tUtil.showError(\"不得超过金额项\");\r\n\t\t\t\toEvent.getSource().setValue(null);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (parseFloat(oEvent.getSource().getValue()) === parseFloat(this.getView().byId(\"IP_Zfpje\").getValue())) {\r\n\t\t\t\tUtil.showError(\"不含税金额项不得为0\");\r\n\t\t\t\toEvent.getSource().setValue(null);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar total = this.getView().getBindingContext().getProperty();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tif (total.Zfpje === undefined) {\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tif (!oEvent.getSource().getValue()) {\r\n\t\t\t\t\tvar Wmwst = String(total.Zfpje - total.Netpr);\r\n\t\t\t\t\tthis.getView().getModel().setProperty(path + \"Wmwst\", Formatter.FloatFormat(Wmwst), true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar Netpr = String(total.Zfpje - total.Wmwst);\r\n\t\t\t\t\tthis.getView().getModel().setProperty(path + \"Netpr\", Formatter.FloatFormat(Netpr), true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.onTwoAmountsum(oEvent);\r\n\t\t},\r\n\r\n\t\tchangeselect: function(oEvent) {\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tthis.getView().byId(\"IP_Netpr\").setValueState(\"None\");\r\n\t\t\tthis.getView().byId(\"IP_Wmwst\").setValueState(\"None\");\r\n\t\t\tthis.getView().byId(\"IP_Mwskz\").setValueState(\"None\");\r\n\r\n\t\t\tif (oEvent.getParameters().selectedIndex === 1) {\r\n\t\t\t\tthis.getView().byId(\"IP_Netpr\").setEditable(false);\r\n\t\t\t\tthis.getView().byId(\"IP_Wmwst\").setEditable(false);\r\n\t\t\t\tthis.getView().byId(\"IP_Mwskz\").setEditable(false);\r\n\t\t\t\tthis.getView().getModel().setProperty(path + \"Netpr\", \"\", true);\r\n\t\t\t\tthis.getView().getModel().setProperty(path + \"Wmwst\", \"\", true);\r\n\t\t\t\tthis.getView().getModel().setProperty(path + \"Mwskz\", \"\", true);\r\n\t\t\t\tthis.getView().getModel().setProperty(path + \"Sfzp\", \"\", true);\r\n\t\t\t\tthis.getView().getModel().setProperty(path + \"Mwskz_Text1\", \"\", true);\r\n\r\n\t\t\t\tthis.getView().byId(\"IP_Mwskz_label\").setRequired(false);\r\n\t\t\t\tthis.getView().byId(\"IP_Netpr_label\").setRequired(false);\r\n\t\t\t\tthis.getView().byId(\"IP_Wmwst_label\").setRequired(false);\r\n\t\t\t} else {\r\n\t\t\t\tthis.getView().byId(\"IP_Netpr\").setEditable(true);\r\n\t\t\t\tthis.getView().byId(\"IP_Wmwst\").setEditable(true);\r\n\t\t\t\tthis.getView().byId(\"IP_Mwskz\").setEditable(true);\r\n\t\t\t\tthis.getView().getModel().setProperty(path + \"Sfzp\", \"X\", true);\r\n\r\n\t\t\t\tthis.getView().byId(\"IP_Mwskz_label\").setRequired(true);\r\n\t\t\t\tthis.getView().byId(\"IP_Netpr_label\").setRequired(true);\r\n\t\t\t\tthis.getView().byId(\"IP_Wmwst_label\").setRequired(true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t//=======================成本中心--------\r\n\t\tonShowKostlHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogCostCenteredHelp) {\r\n\t\t\t\tthat.oDialogCostCenteredHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogCostCenteredHelp\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogCostCenteredHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogCostCenteredHelp.open();\r\n\t\t\tthat.onSearchPROPOSER_KOSTLed(oEvent);\r\n\t\t\t// that.onSearchEinm(oEvent);\r\n\t\t},\r\n\t\tonSearchPROPOSER_KOSTLed: function(oEvent) {\r\n\t\t\tUtil.onSearchPROPOSER_KOSTLed(oEvent, this);\r\n\t\t},\r\n\t\trowSelectedPROPOSER_KOSTLed: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_PROPOSER_KOSTLed\").getPath();\r\n\t\t\tthis.getView().getModel(\"model_PROPOSER_KOSTLed\").setProperty(\"/sPath\", sPath);\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Kostl = this.getView().getModel(\"model_PROPOSER_KOSTLed\").getProperty(sPath + \"/\" + \"Kostl\");\r\n\t\t\tvar Ktext = this.getView().getModel(\"model_PROPOSER_KOSTLed\").getProperty(sPath + \"/\" + \"Ktext\");\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Kostl\", Kostl);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Ktext\", Ktext);\r\n\t\t\tvar value = Kostl + \"|\" + Ktext;\r\n\t\t\tsap.ui.getCore().byId(\"IP_Kostl\").setValue(value);\r\n\t\t\tvar data = {};\r\n\t\t\tvar model = [];\r\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_PROPOSER\");\r\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_search\");\r\n\t\t\tthat.oDialogCostCenteredHelp.close();\r\n\t\t},\r\n\t\tonCancelPartSelected: function(oEvent, that) {\r\n\t\t\tme.oDialogCostCenteredHelp.close();\r\n\t\t},\r\n\t\t// =================费用项目====================\r\n\t\t// 3.选择一行odata数据\r\n\t\trowSelectedEinm: function(oEvent, that) {\r\n\t\t\t// infor.me = this;\r\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Einm\").getPath();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Einm = this.getView().getModel(\"model_Einm\").getProperty(sPath + \"/\" + \"Einm\");\r\n\t\t\tvar Eikd = this.getView().getModel(\"model_Einm\").getProperty(sPath + \"/\" + \"Eikd\");\r\n\t\t\tvar Hkont = this.getView().getModel(\"model_Einm\").getProperty(sPath + \"/\" + \"Hkont\");\r\n\t\t\tvar url = this.getView().getModel(\"model_Einm\").getProperty(sPath + \"/\" + \"Estpic\");\r\n\t\t\tvar Zdynamicfield = this.getView().getModel(\"model_Einm\").getProperty(sPath + \"/\" + \"Fieldt\");\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Hkont\", Hkont);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Einm\", Einm);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Eikd\", Eikd);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Sfzp\", \"X\");\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zdynamicfield\", Zdynamicfield);\r\n\t\t\tvar data = {\r\n\t\t\t\turl: url\r\n\t\t\t};\r\n\t\t\tif (this.isSupportiFrame()) {\r\n\r\n\t\t\t} else {\r\n\t\t\t\tdata.width = \"100px\";\r\n\t\t\t}\r\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_show\");\r\n\t\t\tvar Fieldt = this.getView().getModel(\"model_Einm\").getProperty(sPath + \"/\" + \"Fieldt\");\r\n\t\t\tme = this;\r\n\t\t\t//this.getView().byId(\"Fuzhuhsxx\").removeAllContent();\r\n\t\t\tvar that = this;\r\n\t\t\t//add start\r\n\t\t\tthat.destroy();\r\n\t\t\tthat._Filedtcl(Fieldt);\r\n\t\t\t//add end\r\n\t\t\tthis.oDialogEinmHelp.close();\r\n\t\t},\r\n\r\n\t\tdestroy: function() {\r\n\t\t\tfor (var i = 0; i < this._dynamicctr.length; i++) {\r\n\t\t\t\t//this.getView().byId(\"Fuzhuhsxx\").removeContent(this._dynamicctr[i].ctr.sId);\r\n\t\t\t\tthis._dynamicctr[i].ctr.destroy();\r\n\t\t\t\t// console.log(\"11\",this.getView().byId(\"Fuzhuhsxx\").getContent());\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_Filedtcl: function(Fieldt, data) {\r\n\t\t\tobjsDT = [];\r\n\t\t\tvar fieldt = JSON.parse(Fieldt);\r\n\t\t\tvar that = this;\r\n\t\t\tthat._dynamicctr = [];\r\n\t\t\tvar wa;\r\n\t\t\tif (fieldt.length === 1) {\r\n\t\t\t\tvar code = fieldt[0].code.slice(0, 1) + fieldt[0].code.slice(1).toLocaleLowerCase();\r\n\t\t\t\tvar core = new sap.ui.core.Title(\"IP_\" + fieldt[0].code + \"_title\", {\r\n\t\t\t\t\ttext: \"\"\r\n\t\t\t\t});\r\n\t\t\t\twa = {\r\n\t\t\t\t\tctr: core\r\n\t\t\t\t};\r\n\t\t\t\tthis._dynamicctr.splice(0, 0, wa);\r\n\t\t\t\tthis.getView().byId(\"Fuzhuhsxx\").addContent(core);\r\n\t\t\t\tvar label = new sap.m.Label(\"IP_\" + code + \"_label\", {\r\n\t\t\t\t\ttext: fieldt[0].laber,\r\n\t\t\t\t\trequired: true\r\n\t\t\t\t});\r\n\t\t\t\twa = {\r\n\t\t\t\t\tctr: label\r\n\t\t\t\t};\r\n\t\t\t\tthis._dynamicctr.splice(0, 0, wa);\r\n\t\t\t\tthis.getView().byId(\"Fuzhuhsxx\").addContent(label);\r\n\t\t\t\tvar obj = this.getView().byId(\"Fuzhuhsxx\").getBindingContext().getProperty();\r\n\t\t\t\tif (obj.Kostl !== undefined) {\r\n\t\t\t\t\tvar kostled = obj.Kostl + \"|\" + obj.Ktext;\r\n\t\t\t\t}\r\n\t\t\t\tvar muti = new sap.m.MultiInput(\"IP_\" + code, {\r\n\t\t\t\t\t//valueHelpRequest: that[\"onShow\"+ code +\"Help\"],\r\n\t\t\t\t\tvalueHelpRequest: function(oEvent) {\r\n\t\t\t\t\t\tvar dynamiccode = oEvent.getSource();\r\n\t\t\t\t\t\tvar method = \"onShow\" + dynamiccode.sId.substr(3) + \"Help\";\r\n\t\t\t\t\t\tthat[method].apply(that, Array.prototype.slice.call(arguments, 1));\r\n\t\t\t\t\t},\r\n\t\t\t\t\tvalueHelpOnly: true,\r\n\t\t\t\t\tvalue: kostled\r\n\t\t\t\t});\r\n\t\t\t\twa = {\r\n\t\t\t\t\tctr: muti\r\n\t\t\t\t};\r\n\t\t\t\tthis._dynamicctr.splice(0, 0, wa);\r\n\t\t\t\tthis.getView().byId(\"Fuzhuhsxx\").addContent(muti);\r\n\t\t\t\tvar core = new sap.ui.core.Title({\r\n\t\t\t\t\ttext: \"\"\r\n\t\t\t\t});\r\n\t\t\t\twa = {\r\n\t\t\t\t\tctr: core\r\n\t\t\t\t};\r\n\t\t\t\tthis._dynamicctr.splice(0, 0, wa);\r\n\t\t\t\tthis.getView().byId(\"Fuzhuhsxx\").addContent(core);\r\n\t\t\t} else {\r\n\t\t\t\tfor (var i = 0; i < fieldt.length; i++) {\r\n\t\t\t\t\tvar code = fieldt[i].code.slice(0, 1) + fieldt[i].code.slice(1).toLocaleLowerCase();\r\n\t\t\t\t\tif (fieldt[i].ktext !== \"\") {\r\n\t\t\t\t\t\tif (fieldt[i].ktext.split(\"_\").length === 1) {\r\n\t\t\t\t\t\t\tvar ktext = fieldt[i].ktext.split(\"_\")[0].slice(0, 1) + fieldt[i].ktext.split(\"_\")[0].slice(1).toLocaleLowerCase();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar ktext = fieldt[i].ktext.split(\"_\")[0].slice(0, 1) + fieldt[i].ktext.split(\"_\")[0].slice(1).toLocaleLowerCase() + \"_\" +\r\n\t\t\t\t\t\t\t\tfieldt[i].ktext.split(\"_\")[1].slice(0, 1) + fieldt[i].ktext.split(\"_\")[1].slice(1).toLocaleLowerCase();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (fieldt[i].key === \"A\") {\r\n\t\t\t\t\t\tobjsDT.push({\r\n\t\t\t\t\t\t\tidStr: \"IP_\" + code,\r\n\t\t\t\t\t\t\tvalidNull: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (code === \"Posid\") {\r\n\t\t\t\t\t\t\tvar core = new sap.ui.core.Title(\"IP_\" + fieldt[i].code + \"_title\", {\r\n\t\t\t\t\t\t\t\ttext: \"\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\twa = {\r\n\t\t\t\t\t\t\t\tctr: core\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthis._dynamicctr.splice(0, 0, wa);\r\n\t\t\t\t\t\t\tthis.getView().byId(\"Fuzhuhsxx\").addContent(core);\r\n\t\t\t\t\t\t\tvar label = new sap.m.Label(\"IP_\" + fieldt[i].code + \"_label\", {\r\n\t\t\t\t\t\t\t\ttext: fieldt[i].laber,\r\n\t\t\t\t\t\t\t\trequired: true\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\twa = {\r\n\t\t\t\t\t\t\t\tctr: label\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthis._dynamicctr.splice(0, 0, wa);\r\n\t\t\t\t\t\t\tthis.getView().byId(\"Fuzhuhsxx\").addContent(label);\r\n\t\t\t\t\t\t\tvar muti = new sap.m.Input(\"IP_\" + fieldt[i].code, {\r\n\t\t\t\t\t\t\t\tvalue: \"{Posid}\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\twa = {\r\n\t\t\t\t\t\t\t\tctr: muti\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthis._dynamicctr.splice(0, 0, wa);\r\n\t\t\t\t\t\t\tthis.getView().byId(\"Fuzhuhsxx\").addContent(muti);\r\n\t\t\t\t\t\t} else if (code === \"Kostl\") {\r\n\t\t\t\t\t\t\tvar core = new sap.ui.core.Title(\"IP_\" + fieldt[i].code + \"_title\", {\r\n\t\t\t\t\t\t\t\ttext: \"\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\twa = {\r\n\t\t\t\t\t\t\t\tctr: core\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthis._dynamicctr.splice(0, 0, wa);\r\n\t\t\t\t\t\t\tthis.getView().byId(\"Fuzhuhsxx\").addContent(core);\r\n\t\t\t\t\t\t\tvar label = new sap.m.Label(\"IP_\" + code + \"_label\", {\r\n\t\t\t\t\t\t\t\ttext: fieldt[i].laber,\r\n\t\t\t\t\t\t\t\trequired: true\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\twa = {\r\n\t\t\t\t\t\t\t\tctr: label\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthis._dynamicctr.splice(0, 0, wa);\r\n\t\t\t\t\t\t\tthis.getView().byId(\"Fuzhuhsxx\").addContent(label);\r\n\t\t\t\t\t\t\tvar obj = this.getView().byId(\"Fuzhuhsxx\").getBindingContext().getProperty();\r\n\t\t\t\t\t\t\tif (obj.Kostl !== undefined) {\r\n\t\t\t\t\t\t\t\tvar kostled = obj.Kostl + \"|\" + obj.Ktext;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar muti = new sap.m.MultiInput(\"IP_\" + code, {\r\n\t\t\t\t\t\t\t\t//valueHelpRequest: that[\"onShow\"+ code +\"Help\"],\r\n\t\t\t\t\t\t\t\tvalueHelpRequest: function(oEvent) {\r\n\t\t\t\t\t\t\t\t\tvar dynamiccode = oEvent.getSource();\r\n\t\t\t\t\t\t\t\t\tvar method = \"onShow\" + dynamiccode.sId.substr(3) + \"Help\";\r\n\t\t\t\t\t\t\t\t\tthat[method].apply(that, Array.prototype.slice.call(arguments, 1));\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tvalueHelpOnly: true,\r\n\t\t\t\t\t\t\t\tvalue: kostled\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\twa = {\r\n\t\t\t\t\t\t\t\tctr: muti\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthis._dynamicctr.splice(0, 0, wa);\r\n\t\t\t\t\t\t\tthis.getView().byId(\"Fuzhuhsxx\").addContent(muti);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar core = new sap.ui.core.Title(\"IP_\" + fieldt[i].code + \"_title\", {\r\n\t\t\t\t\t\t\t\ttext: \"\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\twa = {\r\n\t\t\t\t\t\t\t\tctr: core\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthis._dynamicctr.splice(0, 0, wa);\r\n\t\t\t\t\t\t\tthis.getView().byId(\"Fuzhuhsxx\").addContent(core);\r\n\t\t\t\t\t\t\tvar label = new sap.m.Label(\"IP_\" + code + \"_label\", {\r\n\t\t\t\t\t\t\t\ttext: fieldt[i].laber,\r\n\t\t\t\t\t\t\t\trequired: true\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\twa = {\r\n\t\t\t\t\t\t\t\tctr: label\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthis._dynamicctr.splice(0, 0, wa);\r\n\t\t\t\t\t\t\tthis.getView().byId(\"Fuzhuhsxx\").addContent(label);\r\n\t\t\t\t\t\t\t// var obj = this.getView().byId(\"Fuzhuhsxx\").getBindingContext().getProperty();\r\n\t\t\t\t\t\t\tvar valued = \"{code}\";\r\n\t\t\t\t\t\t\tif (data === undefined) {\r\n\t\t\t\t\t\t\t\tvar valued = \"\";\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar valued = data[code] + \"|\" + data[ktext];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar muti = new sap.m.MultiInput(\"IP_\" + code, {\r\n\t\t\t\t\t\t\t\t//valueHelpRequest: that[\"onShow\"+ code +\"Help\"],\r\n\t\t\t\t\t\t\t\tvalueHelpRequest: function(oEvent) {\r\n\t\t\t\t\t\t\t\t\tvar dynamiccode = oEvent.getSource();\r\n\t\t\t\t\t\t\t\t\tvar method = \"onShow\" + dynamiccode.sId.substr(3) + \"Help\";\r\n\t\t\t\t\t\t\t\t\tthat[method].apply(that, Array.prototype.slice.call(arguments, 1));\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tvalueHelpOnly: true,\r\n\t\t\t\t\t\t\t\tvalue: valued\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\twa = {\r\n\t\t\t\t\t\t\t\tctr: muti\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthis._dynamicctr.splice(0, 0, wa);\r\n\t\t\t\t\t\t\tthis.getView().byId(\"Fuzhuhsxx\").addContent(muti);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (fieldt[i].key === \"C\") {\r\n\t\t\t\t\t\tif (fieldt[i].code === \"Posid\") {\r\n\t\t\t\t\t\t\tvar core = new sap.ui.core.Title(\"IP_\" + fieldt[i].code + \"_title\", {\r\n\t\t\t\t\t\t\t\ttext: \"\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\twa = {\r\n\t\t\t\t\t\t\t\tctr: core\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthis._dynamicctr.splice(0, 0, wa);\r\n\t\t\t\t\t\t\tthis.getView().byId(\"Fuzhuhsxx\").addContent(core);\r\n\t\t\t\t\t\t\tvar label = new sap.m.Label(\"IP_\" + fieldt[i].code + \"_label\", {\r\n\t\t\t\t\t\t\t\ttext: fieldt[i].laber\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\twa = {\r\n\t\t\t\t\t\t\t\tctr: label\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthis._dynamicctr.splice(0, 0, wa);\r\n\t\t\t\t\t\t\tthis.getView().byId(\"Fuzhuhsxx\").addContent(label);\r\n\t\t\t\t\t\t\tvar muti = new sap.m.Input(\"IP_\" + fieldt[i].code, {\r\n\t\t\t\t\t\t\t\tvalue: \"{Posid}\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\twa = {\r\n\t\t\t\t\t\t\t\tctr: muti\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthis._dynamicctr.splice(0, 0, wa);\r\n\t\t\t\t\t\t\tthis.getView().byId(\"Fuzhuhsxx\").addContent(muti);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar core = new sap.ui.core.Title(\"IP_\" + fieldt[i].code + \"_title\", {\r\n\t\t\t\t\t\t\t\ttext: \"\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\twa = {\r\n\t\t\t\t\t\t\t\tctr: core\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthis._dynamicctr.splice(0, 0, wa);\r\n\t\t\t\t\t\t\tthis.getView().byId(\"Fuzhuhsxx\").addContent(core);\r\n\t\t\t\t\t\t\tvar label = new sap.m.Label(\"IP_\" + fieldt[i].code + \"_label\", {\r\n\t\t\t\t\t\t\t\ttext: fieldt[i].laber\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\twa = {\r\n\t\t\t\t\t\t\t\tctr: label\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthis._dynamicctr.splice(0, 0, wa);\r\n\t\t\t\t\t\t\tthis.getView().byId(\"Fuzhuhsxx\").addContent(label);\r\n\t\t\t\t\t\t\tif (status === undefined || status === \"\") {\r\n\t\t\t\t\t\t\t\tvar valued = \"\";\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar ms = code + \"_\" + code + \"ms\";\r\n\t\t\t\t\t\t\t\tvar valued = data[code] + \"|\" + data[ms];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar muti = new sap.m.MultiInput(\"IP_\" + code, {\r\n\t\t\t\t\t\t\t\t//valueHelpRequest: that[\"onShow\"+ code +\"Help\"],\r\n\t\t\t\t\t\t\t\tvalueHelpRequest: function(oEvent) {\r\n\t\t\t\t\t\t\t\t\tvar dynamiccode = oEvent.getSource();\r\n\t\t\t\t\t\t\t\t\tvar method = \"onShow\" + dynamiccode.sId.substr(3) + \"Help\";\r\n\t\t\t\t\t\t\t\t\tthat[method].apply(that, Array.prototype.slice.call(arguments, 1));\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tvalueHelpOnly: true,\r\n\t\t\t\t\t\t\t\tvalue: valued\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\twa = {\r\n\t\t\t\t\t\t\t\tctr: muti\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthis._dynamicctr.splice(0, 0, wa);\r\n\t\t\t\t\t\t\tthis.getView().byId(\"Fuzhuhsxx\").addContent(muti);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// =================税码====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowMwskzHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogMwskzHelp) {\r\n\t\t\t\tthat.oDialogMwskzHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogMwskzHelp\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogMwskzHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogMwskzHelp.open();\r\n\t\t\tthat.onSearchMwskz(oEvent);\r\n\t\t},\r\n\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchMwskz: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (oEvent === undefined) {\r\n\t\t\t\tvar value = \"\";\r\n\t\t\t} else {\r\n\t\t\t\tvar value = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\t// var value = oEvent.getParameter(\"query\");\r\n\t\t\tvar sPath = \"/TaxcodeSet\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tUtil.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Mwskz\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Mwskzlist\",\r\n\t\t\t\t\t\tparams: [\"Mwskz\", \"Text1\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get TaxcodeSet error!\");\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\trowSelectedMwskz: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Mwskz\").getPath();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Mwskz = this.getView().getModel(\"model_Mwskz\").getProperty(sPath + \"/\" + \"Mwskz\");\r\n\t\t\tvar Mwskz_Text1 = this.getView().getModel(\"model_Mwskz\").getProperty(sPath + \"/\" + \"Text1\");\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Mwskz\", Mwskz);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Mwskz_Text1\", Mwskz_Text1);\r\n\t\t\tthis.oDialogMwskzHelp.close();\r\n\t\t},\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelMwskzSelect: function(oEvent) {\r\n\t\t\tthis.oDialogMwskzHelp.close();\r\n\t\t},\r\n\r\n\t\t// =================订单====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowAufnrHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogAufnrHelp) {\r\n\t\t\t\tthat.oDialogAufnrHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogAufnrHelp\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogAufnrHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogAufnrHelp.open();\r\n\t\t\tthat.onSearchAufnr(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchAufnr: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (oEvent === undefined) {\r\n\t\t\t\tvar value = \"\";\r\n\t\t\t} else {\r\n\t\t\t\tvar value = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar Bukrs = sap.ui.getCore().AppContext.Bukrs;\r\n\t\t\tvar sPath = \"/AufkSet?$filter=Bukrs eq '\" + Bukrs + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tUtil.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Aufnr\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Aufnrlist\",\r\n\t\t\t\t\t\tparams: [\"Aufnr\", \"Ktext\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get AufkSet error!\");\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\trowSelectedAufnr: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Aufnr\").getPath();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Aufnr = this.getView().getModel(\"model_Aufnr\").getProperty(sPath + \"/\" + \"Aufnr\");\r\n\t\t\tvar Aufnr_Ktext = this.getView().getModel(\"model_Aufnr\").getProperty(sPath + \"/\" + \"Ktext\");\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Aufnr\", Aufnr);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Aufnr_Ktext\", Aufnr_Ktext);\r\n\t\t\tvar value = Aufnr + \"|\" + Aufnr_Ktext;\r\n\t\t\tsap.ui.getCore().byId(\"IP_Aufnr\").setValue(value);\r\n\t\t\tthis.oDialogAufnrHelp.close();\r\n\t\t},\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelAufnrSelect: function(oEvent) {\r\n\t\t\tthis.oDialogAufnrHelp.close();\r\n\t\t},\r\n\r\n\t\t// =================交通工具====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowVektpHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogVektpHelp) {\r\n\t\t\t\tthat.oDialogVektpHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogVektpHelp\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogVektpHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogVektpHelp.open();\r\n\t\t\tthat.onSearchVektp(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchVektp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (oEvent === undefined) {\r\n\t\t\t\tvar value = \"\";\r\n\t\t\t} else {\r\n\t\t\t\tvar value = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar sPath = \"/VekSet\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tUtil.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Vektp\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Vektplist\",\r\n\t\t\t\t\t\tparams: [\"Vektp\", \"Veknm\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get VekSet error!\");\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\trowSelectedVektp: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Vektp\").getPath();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Vektp = this.getView().getModel(\"model_Vektp\").getProperty(sPath + \"/\" + \"Vektp\");\r\n\t\t\tvar Vektp_Veknm = this.getView().getModel(\"model_Vektp\").getProperty(sPath + \"/\" + \"Veknm\");\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Sps\", null);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Sps_Spsdsc\", null);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Vektp\", Vektp);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Vektp_Veknm\", Vektp_Veknm);\r\n\t\t\tthis.oDialogVektpHelp.close();\r\n\t\t},\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelVektpSelect: function(oEvent) {\r\n\t\t\tthis.oDialogVektpHelp.close();\r\n\t\t},\r\n\r\n\t\t// =================舱位席别====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowSpsHelp: function(oEvent) {\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Vektp = this.getView().getModel().getProperty(path).Vektp;\r\n\t\t\tif (!Vektp) {\r\n\t\t\t\tsap.m.MessageBox.information(\"请先选择交通工具\", {\r\n\t\t\t\t\ttitle: \"警告\",\r\n\t\t\t\t\tonClose: null,\r\n\t\t\t\t\tstyleClass: \"\",\r\n\t\t\t\t\tinitialFocus: null,\r\n\t\t\t\t\ttextDirection: sap.ui.core.TextDirection.Inherit\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogSpsHelp) {\r\n\t\t\t\tthat.oDialogSpsHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogSpsHelp\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogSpsHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogSpsHelp.open();\r\n\t\t\tthat.onSearchSps(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchSps: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (oEvent === undefined) {\r\n\t\t\t\tvar value = \"\";\r\n\t\t\t} else {\r\n\t\t\t\tvar value = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Vektp = this.getView().getModel().getProperty(path).Vektp;\r\n\t\t\tif (!Vektp) {\r\n\t\t\t\tsap.m.MessageBox.information(\"请先选择交通工具\", {\r\n\t\t\t\t\ttitle: \"警告\",\r\n\t\t\t\t\tonClose: null,\r\n\t\t\t\t\tstyleClass: \"\",\r\n\t\t\t\t\tinitialFocus: null,\r\n\t\t\t\t\ttextDirection: sap.ui.core.TextDirection.Inherit\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar sPath = \"/VeksSet?$filter=Vektp eq '\" + Vektp + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tUtil.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Sps\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Spslist\",\r\n\t\t\t\t\t\tparams: [\"Sps\", \"Spsdsc\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get VekSet error!\");\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\trowSelectedSps: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Sps\").getPath();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Sps = this.getView().getModel(\"model_Sps\").getProperty(sPath + \"/\" + \"Sps\");\r\n\t\t\tvar Sps_Spsdsc = this.getView().getModel(\"model_Sps\").getProperty(sPath + \"/\" + \"Spsdsc\");\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Sps\", Sps);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Sps_Spsdsc\", Sps_Spsdsc);\r\n\t\t\tthis.oDialogSpsHelp.close();\r\n\t\t},\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelSpsSelect: function(oEvent) {\r\n\t\t\tthis.oDialogSpsHelp.close();\r\n\t\t},\r\n\r\n\t\t// =================城市====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowCtkdHelp: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogCtkdHelp) {\r\n\t\t\t\tthat.oDialogCtkdHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogCtkdHelp\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogCtkdHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogCtkdHelp.open();\r\n\t\t\tthat.onSearchCtkd(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchCtkd: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (oEvent === undefined) {\r\n\t\t\t\tvar value = \"\";\r\n\t\t\t} else {\r\n\t\t\t\tvar value = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar Bukrs = sap.ui.getCore().AppContext.Bukrs;\r\n\t\t\tvar sPath = \"/BctSet?$filter=Bukrs eq '\" + Bukrs + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tUtil.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Ctkd\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Ctkdlist\",\r\n\t\t\t\t\t\tparams: [\"Ctkd\", \"Ctnm\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get BctSet error!\");\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\trowSelectedCtkd: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Ctkd\").getPath();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Ctkd = this.getView().getModel(\"model_Ctkd\").getProperty(sPath + \"/\" + \"Ctkd\");\r\n\t\t\tvar Ctkd_Ctnm = this.getView().getModel(\"model_Ctkd\").getProperty(sPath + \"/\" + \"Ctnm\");\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Ctkd\", Ctkd);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Ctkd_Ctnm\", Ctkd_Ctnm);\r\n\t\t\tthis.oDialogCtkdHelp.close();\r\n\t\t},\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelCtkdSelect: function(oEvent) {\r\n\t\t\tthis.oDialogCtkdHelp.close();\r\n\t\t},\r\n\t\t// =================地区类别====================\r\n\t\t// 1.显示odata帮助 \r\n\t\tonShowZzdqlbHelp: function(oEvent) {\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar that = this;\r\n\t\t\tif (!that.oDialogDqlbHelp) {\r\n\t\t\t\tthat.oDialogDqlbHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogDqlbHelp\", that);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogDqlbHelp);\r\n\t\t\t}\r\n\t\t\tthat.oDialogDqlbHelp.open();\r\n\t\t\tthat.onSearchDqlb(oEvent);\r\n\t\t},\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchDqlb: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (oEvent === undefined) {\r\n\t\t\t\tvar value = \"\";\r\n\t\t\t} else {\r\n\t\t\t\tvar value = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar sPath = \"/DqlbSet?$filter=substringof('\" + (value ? value : '') + \"',Zzdqlbms)\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tUtil.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Dqlb\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Dqlblist\",\r\n\t\t\t\t\t\tparams: [\"Zzdqlb\", \"Zzdqlbms\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get BctSet error!\");\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 3.选择一行odata数据\r\n\t\trowSelectedDqlb: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Dqlb\").getPath();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Zzdqlb = this.getView().getModel(\"model_Dqlb\").getProperty(sPath + \"/\" + \"Zzdqlb\");\r\n\t\t\tvar Zzdqlbms = this.getView().getModel(\"model_Dqlb\").getProperty(sPath + \"/\" + \"Zzdqlbms\");\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Dqlb\", Zzdqlb);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzdqlbms\", Zzdqlbms);\r\n\t\t\tvar value = Zzdqlb + \"|\" + Zzdqlbms;\r\n\t\t\tsap.ui.getCore().byId(\"IP_Zzdqlb\").setValue(value);\r\n\t\t\tthis.oDialogDqlbHelp.close();\r\n\t\t},\r\n\t\t// 4.关闭窗口\r\n\t\tonCancelDqlbSelect: function(oEvent) {\r\n\t\t\tthis.oDialogDqlbHelp.close();\r\n\t\t},\r\n\t\t// =================功能范围====================\r\n\t\t// 3.选择一行odata数据\r\n\t\trowSelectedFkber: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Fkber\").getPath();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Fkber = this.getView().getModel(\"model_Fkber\").getProperty(sPath + \"/\" + \"Fkber\");\r\n\t\t\tvar Fkber_Fkbtx = this.getView().getModel(\"model_Fkber\").getProperty(sPath + \"/\" + \"Fkbtx\");\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Fkber\", Fkber);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Fkber_Fkbtx\", Fkber_Fkbtx);\r\n\t\t\tvar value = Fkber + \"|\" + Fkber_Fkbtx;\r\n\t\t\tsap.ui.getCore().byId(\"IP_Fkber\").setValue(value);\r\n\t\t\tthis.oDialogFkberHelp.close();\r\n\t\t},\r\n\t\t// =================车型====================\r\n\t\t// 3.选择一行odata数据\r\n\t\trowSelectedZzcx: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Zzcx\").getPath();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Zzcx = this.getView().getModel(\"model_Zzcx\").getProperty(sPath + \"/\" + \"Zzcx\");\r\n\t\t\tvar Zzcx_Zzcxms = this.getView().getModel(\"model_Zzcx\").getProperty(sPath + \"/\" + \"Zzcxms\");\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzcx\", Zzcx);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzcx_Zzcxms\", Zzcx_Zzcxms);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzch\", null);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzch_Zzchms\", null);\r\n\t\t\tvar value = Zzcx + \"|\" + Zzcx_Zzcxms;\r\n\t\t\tsap.ui.getCore().byId(\"IP_Zzcx\").setValue(value);\r\n\t\t\tthis.oDialogZzcxHelp.close();\r\n\t\t},\r\n\t\t// =================车号====================\r\n\t\t// 3.选择一行odata数据\r\n\t\trowSelectedZzch: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Zzch\").getPath();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Zzch = this.getView().getModel(\"model_Zzch\").getProperty(sPath + \"/\" + \"Zzch\");\r\n\t\t\tvar Zzch_Zzchms = this.getView().getModel(\"model_Zzch\").getProperty(sPath + \"/\" + \"Zzchms\");\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzch\", Zzch);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzch_Zzchms\", Zzch_Zzchms);\r\n\t\t\tvar value = Zzch + \"|\" + Zzch_Zzchms;\r\n\t\t\tsap.ui.getCore().byId(\"IP_Zzch\").setValue(value);\r\n\t\t\tthis.oDialogZzchHelp.close();\r\n\t\t},\r\n\t\t// =================分线核算====================\r\n\t\t// 3.选择一行odata数据\r\n\t\trowSelectedZzfxcb: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Zzfxcb\").getPath();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Zzfxcb = this.getView().getModel(\"model_Zzfxcb\").getProperty(sPath + \"/\" + \"Zzfxcb\");\r\n\t\t\tvar Zzfxcb_Zzfxcbms = this.getView().getModel(\"model_Zzfxcb\").getProperty(sPath + \"/\" + \"Zzfxcbms\");\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzfxcb\", Zzfxcb);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzfxcb_Zzfxcbms\", Zzfxcb_Zzfxcbms);\r\n\t\t\tvar value = Zzfxcb + \"|\" + Zzfxcb_Zzfxcbms;\r\n\t\t\tsap.ui.getCore().byId(\"IP_Zzfxcb\").setValue(value);\r\n\t\t\tthis.oDialogZzfxcbHelp.close();\r\n\t\t},\r\n\t\t// =================辅助核算01====================\r\n\t\t// 3.选择一行odata数据\r\n\t\trowSelectedZzfzhs01: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Zzfzhs01\").getPath();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Zzfzhs01 = this.getView().getModel(\"model_Zzfzhs01\").getProperty(sPath + \"/\" + \"Zzfzhs01\");\r\n\t\t\tvar Zzfzhs01_Zzfzhs01ms = this.getView().getModel(\"model_Zzfzhs01\").getProperty(sPath + \"/\" + \"Zzfzhs01ms\");\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzfzhs01\", Zzfzhs01);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzfzhs01_Zzfzhs01ms\", Zzfzhs01_Zzfzhs01ms);\r\n\t\t\tvar value = Zzfzhs01 + \"|\" + Zzfzhs01_Zzfzhs01ms;\r\n\t\t\tsap.ui.getCore().byId(\"IP_Zzfzhs01\").setValue(value);\r\n\t\t\tthis.oDialogZzfzhs01Help.close();\r\n\t\t},\r\n\t\t// =================辅助核算02====================\r\n\t\t// 3.选择一行odata数据\r\n\t\trowSelectedZzfzhs02: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Zzfzhs02\").getPath();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Zzfzhs02 = this.getView().getModel(\"model_Zzfzhs02\").getProperty(sPath + \"/\" + \"Zzfzhs02\");\r\n\t\t\tvar Zzfzhs02_Zzfzhs02ms = this.getView().getModel(\"model_Zzfzhs02\").getProperty(sPath + \"/\" + \"Zzfzhs02ms\");\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzfzhs02\", Zzfzhs02);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzfzhs02_Zzfzhs02ms\", Zzfzhs02_Zzfzhs02ms);\r\n\t\t\tvar value = Zzfzhs02 + \"|\" + Zzfzhs02_Zzfzhs02ms;\r\n\t\t\tsap.ui.getCore().byId(\"IP_Zzfzhs02\").setValue(value);\r\n\t\t\tthis.oDialogZzfzhs02Help.close();\r\n\t\t},\r\n\t\t// =================辅助核算03====================\r\n\t\t// 3.选择一行odata数据\r\n\t\trowSelectedZzfzhs03: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Zzfzhs03\").getPath();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Zzfzhs03 = this.getView().getModel(\"model_Zzfzhs03\").getProperty(sPath + \"/\" + \"Zzfzhs03\");\r\n\t\t\tvar Zzfzhs03_Zzfzhs03ms = this.getView().getModel(\"model_Zzfzhs03\").getProperty(sPath + \"/\" + \"Zzfzhs03ms\");\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzfzhs03\", Zzfzhs03);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzfzhs03_Zzfzhs03ms\", Zzfzhs03_Zzfzhs03ms);\r\n\t\t\tvar value = Zzfzhs03 + \"|\" + Zzfzhs03_Zzfzhs03ms;\r\n\t\t\tsap.ui.getCore().byId(\"IP_Zzfzhs03\").setValue(value);\r\n\t\t\tthis.oDialogZzfzhs03Help.close();\r\n\t\t},\r\n\t\t// =================辅助核算04====================\r\n\t\t// 3.选择一行odata数据\r\n\t\trowSelectedZzfzhs04: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Zzfzhs04\").getPath();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Zzfzhs04 = this.getView().getModel(\"model_Zzfzhs04\").getProperty(sPath + \"/\" + \"Zzfzhs04\");\r\n\t\t\tvar Zzfzhs04_Zzfzhs04ms = this.getView().getModel(\"model_Zzfzhs04\").getProperty(sPath + \"/\" + \"Zzfzhs04ms\");\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzfzhs04\", Zzfzhs04);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzfzhs04_Zzfzhs04ms\", Zzfzhs04_Zzfzhs04ms);\r\n\t\t\tvar value = Zzfzhs04 + \"|\" + Zzfzhs04_Zzfzhs04ms;\r\n\t\t\tsap.ui.getCore().byId(\"IP_Zzfzhs04\").setValue(value);\r\n\t\t\tthis.oDialogZzfzhs04Help.close();\r\n\t\t},\r\n\t\t// =================辅助核算05====================\r\n\t\t// 3.选择一行odata数据\r\n\t\trowSelectedZzfzhs05: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Zzfzhs05\").getPath();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Zzfzhs05 = this.getView().getModel(\"model_Zzfzhs05\").getProperty(sPath + \"/\" + \"Zzfzhs05\");\r\n\t\t\tvar Zzfzhs05_Zzfzhs05ms = this.getView().getModel(\"model_Zzfzhs05\").getProperty(sPath + \"/\" + \"Zzfzhs05ms\");\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzfzhs05\", Zzfzhs05);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzfzhs05_Zzfzhs05ms\", Zzfzhs05_Zzfzhs05ms);\r\n\t\t\tvar value = Zzfzhs05 + \"|\" + Zzfzhs05_Zzfzhs05ms;\r\n\t\t\tsap.ui.getCore().byId(\"IP_Zzfzhs05\").setValue(value);\r\n\t\t\tthis.oDialogZzfzhs05Help.close();\r\n\t\t},\r\n\t\t// =================辅助核算类别====================\r\n\t\t// 3.选择一行odata数据\r\n\t\trowSelectedZzfzhslb: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Zzfzhslb\").getPath();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Zzfzhslb = this.getView().getModel(\"model_Zzfzhslb\").getProperty(sPath + \"/\" + \"Zzfzhslb\");\r\n\t\t\tvar Zzfzhslb_Zzfzhslbms = this.getView().getModel(\"model_Zzfzhslb\").getProperty(sPath + \"/\" + \"Zzfzhslbms\");\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzfzhslb\", Zzfzhslb);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzfzhslb_Zzfzhslbms\", Zzfzhslb_Zzfzhslbms);\r\n\t\t\tvar value = Zzfzhslb + \"|\" + Zzfzhslb_Zzfzhslbms;\r\n\t\t\tsap.ui.getCore().byId(\"IP_Zzfzhslb\").setValue(value);\r\n\t\t\tthis.oDialogZzfzhslbHelp.close();\r\n\t\t},\r\n\t\t// =================辅助核算内容====================\r\n\t\t// 3.选择一行odata数据\r\n\t\trowSelectedZzfzhsnr: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Zzfzhsnr\").getPath();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Zzfzhsnr = this.getView().getModel(\"model_Zzfzhsnr\").getProperty(sPath + \"/\" + \"Zzfzhsnr\");\r\n\t\t\tvar Zzfzhsnr_Zzfzhsnrms = this.getView().getModel(\"model_Zzfzhsnr\").getProperty(sPath + \"/\" + \"Zzfzhsnrms\");\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzfzhsnr\", Zzfzhsnr);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzfzhsnr_Zzfzhsnrms\", Zzfzhsnr_Zzfzhsnrms);\r\n\t\t\tvar value = Zzfzhsnr + \"|\" + Zzfzhsnr_Zzfzhsnrms;\r\n\t\t\tsap.ui.getCore().byId(\"IP_Zzfzhsnr\").setValue(value);\r\n\t\t\tthis.oDialogZzfzhsnrHelp.close();\r\n\t\t},\r\n\t\t// =================业务类型====================\r\n\t\t// 3.选择一行odata数据\r\n\t\trowSelectedZzghjh: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Zzghjh\").getPath();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Zzghjh = this.getView().getModel(\"model_Zzghjh\").getProperty(sPath + \"/\" + \"Zzghjh\");\r\n\t\t\tvar Zzghjh_Zzghjhms = this.getView().getModel(\"model_Zzghjh\").getProperty(sPath + \"/\" + \"Zzghjhms\");\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzghjh\", Zzghjh);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzghjh_Zzghjhms\", Zzghjh_Zzghjhms);\r\n\t\t\tvar value = Zzghjh + \"|\" + Zzghjh_Zzghjhms;\r\n\t\t\tsap.ui.getCore().byId(\"IP_Zzghjh\").setValue(value);\r\n\t\t\tthis.oDialogZzghjhHelp.close();\r\n\t\t},\r\n\t\t// // =================合同编号====================\r\n\t\t// 3.选择一行odata数据\r\n\t\trowSelectedZzhtbh: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Zzhtbh\").getPath();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Zzhth = this.getView().getModel(\"model_Zzhtbh\").getProperty(sPath + \"/\" + \"Zzhth\");\r\n\t\t\tvar Zzhtbh_Zzhtbhms = this.getView().getModel(\"model_Zzhtbh\").getProperty(sPath + \"/\" + \"Zzhthms\");\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzhth\", Zzhth);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzhtbh_Zzhtbhms\", Zzhtbh_Zzhtbhms);\r\n\t\t\tvar value = Zzhth + \"|\" + Zzhtbh_Zzhtbhms;\r\n\t\t\tsap.ui.getCore().byId(\"IP_Zzhth\").setValue(value);\r\n\t\t\tthis.oDialogZzhtbhHelp.close();\r\n\t\t},\r\n\t\t// =================往来业务性质====================\r\n\t\t// 3.选择一行odata数据\r\n\t\trowSelectedZzjshkdw: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Zzjshkdw\").getPath();\r\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Zzjshkdw = this.getView().getModel(\"model_Zzjshkdw\").getProperty(sPath + \"/\" + \"Zzjshkdw\");\r\n\t\t\tvar Zzjshkdw_Zzjshkdwms = this.getView().getModel(\"model_Zzjshkdw\").getProperty(sPath + \"/\" + \"Zzjshkdwms\");\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzjshkdw\", Zzjshkdw);\r\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzjshkdw_Zzjshkdwms\", Zzjshkdw_Zzjshkdwms);\r\n\t\t\tvar value = Zzjshkdw + \"|\" + Zzjshkdw_Zzjshkdwms;\r\n\t\t\tsap.ui.getCore().byId(\"IP_Zzjshkdw\").setValue(value);\r\n\t\t\tthis.oDialogZzjshkdwHelp.close();\r\n\t\t},\r\n\t});\r\n\r\n});",
		"sh/bz/common/common/controller/DocPost.controller.js": "/*global location*/\nsap.ui.define([\n\t\"sh/bz/common/controller/BaseController\",\n\t\"sap/ui/model/json/JSONModel\",\n\t\"sap/ui/core/routing/History\",\n\t\"sh/bz/common/controller/formatter\",\n\t\"sh/bz/common/controller/Util\",\n\t\"sap/ui/core/BusyIndicator\"\n], function(\n\tBaseController,\n\tJSONModel,\n\tHistory,\n\tformatter,\n\tUtil,\n\tBusyIndicator\n) {\n\t\"use strict\";\n\n\treturn BaseController.extend(\"sh.bz.common.controller.DocPost\", {\n\t\tformatter: formatter,\n\t\tonInit: function() {\n\t\t\t// Model used to manipulate control states. The chosen values make sure,\n\t\t\t// detail page is busy indication immediately so there is no break in\n\t\t\t// between the busy indication for loading the view's meta data\n\t\t\tvar iOriginalBusyDelay,\n\t\t\t\toViewModel = new JSONModel({\n\t\t\t\t\tbusy: true,\n\t\t\t\t\tdelay: 0\n\t\t\t\t});\n\t\t\tthis.getRouter().getRoute(\"DETAIL_CL\").attachPatternMatched(this._onObjectMatched, this);\n\t\t\tthis.getRouter().getRoute(\"DETAIL_JK\").attachPatternMatched(this._onObjectMatched, this);\n\n\t\t\t// Store original busy indicator delay, so it can be restored later on\n\t\t\tiOriginalBusyDelay = this.getView().getBusyIndicatorDelay();\n\t\t\tthis.setModel(oViewModel, \"objectView\");\n\t\t\tthis.getOwnerComponent().getModel().metadataLoaded().then(function() {\n\t\t\t\t// Restore original busy indicator delay for the object view\n\t\t\t\toViewModel.setProperty(\"/delay\", iOriginalBusyDelay);\n\t\t\t});\n\t\t\tsap.ui.getCore().doc = this.getView();\n\t\t},\n\n\t\t/* =========================================================== */\n\t\t/* event handlers                                              */\n\t\t/* =========================================================== */\n\t\tonNavBack: function() {\n\t\t\tvar sPreviousHash = History.getInstance().getPreviousHash(),\n\t\t\t\toCrossAppNavigator = sap.ushell.Container.getService(\"CrossApplicationNavigation\");\n\n\t\t\tif (sPreviousHash !== undefined || !oCrossAppNavigator.isInitialNavigation()) {\n\t\t\t\thistory.go(-1);\n\t\t\t} else {\n\t\t\t\tthis.getRouter().navTo(\"worklist\", {}, true);\n\t\t\t}\n\t\t},\n\n\t\t/* =========================================================== */\n\t\t/* internal methods                                            */\n\t\t/* =========================================================== */\n\n\t\t_onObjectMatched: function(oEvent) {\n\t\t\tvar sObjectId = oEvent.getParameter(\"arguments\").id;\n\t\t\tthis.initdata(sObjectId);\n\t\t},\n\t\tinitdata: function(sObjectId) {\n\n\t\t\tthis.getView().setModel(this.getView().getModel(\"CLMODEL\"));\n\t\t\tvar data = {};\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\n\n\t\t\tthis.getView().byId('view_CODE').setValue(sObjectId);\n\t\t\t//初始化时间 \n\t\t\t// var new_date = {\n\t\t\t// \t\"budat\": new Date(),\n\t\t\t// \t\"bldat\": new Date()\n\t\t\t// };\n\t\t\t// var Model = new JSONModel(new_date);\n\t\t\t// this.getView().setModel(Model, \"JSdate\");\n\t\t\t//初始化输入框\n\t\t\tvar view = this.getView();\n\t\t\tvar inputs = [\n\t\t\t\tview.byId(\"view_BLDAT\"),\n\t\t\t\tview.byId(\"view_BUDAT\"),\n\t\t\t\tview.byId(\"view_KURSF\")\n\t\t\t];\n\t\t\tvar i;\n\t\t\tfor (i = 0; i < inputs.length; i++) {\n\t\t\t\tvar vauleI = inputs[i].getValue();\n\t\t\t\tinputs[i].setValueState();\n\t\t\t}\n\t\t\tvar that = this;\n\t\t\tthat.getView().byId(\"view_Doc_post\").setEnabled(true);\n\t\t\tthat.getView().byId(\"view_BLDAT\").setEditable(true);\n\t\t\tthat.getView().byId(\"view_BUDAT\").setEditable(true);\n\t\t\tthat.getView().byId(\"view_KURSF\").setEditable(true);\n\t\t\tthat.getView().byId(\"view_BKTXT\").setEditable(true);\n\t\t\tthat.getView().byId(\"view_NUMPG\").setEditable(true);\n\t\t\t//初始化输入表单数据 \n\t\t\tvar sPath = \"/HEADINITIALSet('\" + sObjectId + \"')\";\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROPZGZ_SRV/\", true);\n\t\t\tvar that = this;\n\t\t\toDataModel.read(sPath, {\n\t\t\t\tsuccess: function(oData, response) {\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\n\t\t\t\t\tthat.getView().setModel(model, \"header_data\");\n\t\t\t\t},\n\t\t\t\terror: function(oError) {},\n\t\t\t\tasync: false\n\t\t\t});\n\n\t\t\tthat.getView().byId(\"view_BLDAT\").setDateValue(new Date());\n\t\t\tthat.getView().byId(\"view_BUDAT\").setDateValue(new Date());\n\t\t\tvar sPath = \"/HEADERSAVESet('\" + sObjectId + \"')\";\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROPZGZ_SRV/\", true);\n\t\t\tvar that = this;\n\t\t\toDataModel.read(sPath, {\n\t\t\t\tsuccess: function(oData, response) {\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\n\t\t\t\t\tthat.getView().setModel(model, \"header_data\");\n\t\t\t\t\tif (model.oData.Belnr !== '') {\n\t\t\t\t\t\tthat.getView().byId(\"view_Doc_post\").setEnabled(false);\n\t\t\t\t\t\tthat.getView().byId(\"view_BLDAT\").setEditable(false);\n\t\t\t\t\t\tthat.getView().byId(\"view_BUDAT\").setEditable(false);\n\t\t\t\t\t\tthat.getView().byId(\"view_KURSF\").setEditable(false);\n\t\t\t\t\t\tthat.getView().byId(\"view_BKTXT\").setEditable(false);\n\t\t\t\t\t\tthat.getView().byId(\"view_NUMPG\").setEditable(false);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror: function(oError) {},\n\t\t\t\tasync: false\n\t\t\t});\n\n\t\t\tvar belnr = that.getView().byId(\"view_BELNR\").getValue();\n\t\t\tif (belnr === '') {\n\t\t\t\tvar sPath = \"/HEADINITIALSet('\" + sObjectId + \"')\";\n\t\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROPZGZ_SRV/\", true);\n\t\t\t\tvar that = this;\n\t\t\t\toDataModel.read(sPath, {\n\t\t\t\t\tsuccess: function(oData, response) {\n\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\n\t\t\t\t\t\tif (model.oData.Numpg === \"000\") {\n\t\t\t\t\t\t\tmodel.oData.Numpg = \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthat.getView().setModel(model, \"header_data\");\n\t\t\t\t\t},\n\t\t\t\t\terror: function(oError) {},\n\t\t\t\t\tasync: false\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar Path = \"/ITEMINITIALSet?$filter=Recode eq '\" + sObjectId + \"'  \";\n\t\t\tvar oModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROPZGZ_SRV/\", true);\n\t\t\toModel.read(Path, {\n\t\t\t\tsuccess: function(oData, response) {\n\t\t\t\t\tvar Item_data = new sap.ui.model.json.JSONModel(oData).getData();\n\t\t\t\t\tvar Bktxt = that.getView().byId(\"view_BKTXT\").getValue();\n\t\t\t\t\tfor (i = 0; i < Item_data.results.length; i++) {\n\t\t\t\t\t\tItem_data.results[i].Sgtxt = Bktxt;\n\t\t\t\t\t\tif (Item_data.results[i].Shkzg === \"S\") {\n\t\t\t\t\t\t\tItem_data.results[i].Shkzg = \"借\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tItem_data.results[i].Shkzg = \"贷\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthat.getView().setModel(new sap.ui.model.json.JSONModel(Item_data), \"item_data\");\n\t\t\t\t},\n\t\t\t\terror: function(oError) {},\n\t\t\t\tasync: false\n\t\t\t});\n\t\t},\n\t\t//过账\n\t\tDocPostPress: function() {\n\t\t\t// 抬头信息保存时候的校验\t\n\t\t\tthis.validateInputHead();\n\t\t\tvar that = this;\n\t\t\tvar Data = that.getView().getModel(\"header_data\").getData();\n\t\t\tData.Bldat.setHours(8);\n\t\t\tData.Budat.setHours(8);\n\t\t\tif (this.type) {\n\t\t\t\tvar oEntry = {\n\t\t\t\t\t\"Bldat\": Data.Bldat, //凭证日期\n\t\t\t\t\t\"Budat\": Data.Budat, //过账日期\n\t\t\t\t\t\"Blart\": Data.Blart, //凭证类型\n\t\t\t\t\t\"Bukrs\": Data.Bukrs, //公司代码 \n\t\t\t\t\t\"Numpg\": Data.Numpg, //附件张数\n\t\t\t\t\t\"Bktxt\": Data.Bktxt, //抬头文本\n\t\t\t\t\t\"Usnam\": Data.Usnam, //用户名\n\t\t\t\t\t\"Waers\": Data.Waers, //货币\n\t\t\t\t\t\"Kursf\": Data.Kursf, //汇率\n\t\t\t\t\t\"Recode\": Data.Recode\n\t\t\t\t};\n\t\t\t\tvar Model = this.getView().getModel(\"GZMODEL\");\n\t\t\t\tvar sPath = \"/HEADERSAVESet\";\n\t\t\t\tthat.setBusy(true);\n\t\t\t\tModel.create(sPath, oEntry, {\n\t\t\t\t\tsuccess: function(oData, oResponse) {\n\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\n\t\t\t\t\t\tthat.getView().setModel(model, \"header_data\");\n\t\t\t\t\t\tif (model.oData.Zmark === 'E' || model.oData.Belnr === '') {\n\t\t\t\t\t\t\tUtil.showError(model.oData.Zflag);\n\t\t\t\t\t\t\tthat.setBusy(false);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.getView().byId(\"view_Doc_post\").setEnabled(false);\n\t\t\t\t\t\t\tthat.getView().byId(\"view_BLDAT\").setEditable(false);\n\t\t\t\t\t\t\tthat.getView().byId(\"view_BUDAT\").setEditable(false);\n\t\t\t\t\t\t\tthat.getView().byId(\"view_KURSF\").setEditable(false);\n\t\t\t\t\t\t\tthat.getView().byId(\"view_BKTXT\").setEditable(false);\n\t\t\t\t\t\t\tthat.getView().byId(\"view_NUMPG\").setEditable(false);\n\t\t\t\t\t\t\tUtil.showInfo(\"过账成功\");\n\t\t\t\t\t\t\tthat.setBusy(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror: function(error) {\n\t\t\t\t\t\tUtil.showError(\"过账失败:\" + error.message);\n\t\t\t\t\t\tthat.setBusy(false);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar header_Data = that.getView().getModel(\"header_data\").getData();\n\t\t\t\tvar Data = that.getView().getModel(\"item_data\").getData();\n\t\t\t\tfor (var i = 0; i < Data.results.length; i++) {\n\t\t\t\t\tvar Shkzg;\n\t\t\t\t\tif (Data.results[i].Shkzg === \"借\") {\n\t\t\t\t\t\tShkzg = \"S\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tShkzg = \"H\";\n\t\t\t\t\t}\n\t\t\t\t\tvar itemdata = {\n\t\t\t\t\t\t\"Recode\": Data.results[i].Recode,\n\t\t\t\t\t\t\"Reitem\": Data.results[i].Reitem,\n\t\t\t\t\t\t\"Bschl\": Data.results[i].Bschl,\n\t\t\t\t\t\t\"Hkont\": Data.results[i].Hkont,\n\t\t\t\t\t\t\"Shkzg\": Shkzg,\n\t\t\t\t\t\t\"Wrbtr\": Data.results[i].Wrbtr,\n\t\t\t\t\t\t\"Lifnr\": Data.results[i].Lifnr,\n\t\t\t\t\t\t\"Kunnr\": Data.results[i].Kunnr,\n\t\t\t\t\t\t\"Sgtxt\": header_Data.Bktxt,\n\t\t\t\t\t\t\"Kostl\": Data.results[i].Kostl,\n\t\t\t\t\t\t\"Prctr\": Data.results[i].Prctr,\n\t\t\t\t\t\t\"Zuonr\": Data.results[i].Zuonr,\n\t\t\t\t\t\t\"Aufnr\": Data.results[i].Aufnr,\n\t\t\t\t\t\t\"Posid\": Data.results[i].Posid,\n\t\t\t\t\t\t\"Koart\": Data.results[i].Koart,\n\t\t\t\t\t\t\"Monat\": Data.results[i].Monat,\n\t\t\t\t\t\t\"Rstgr\": Data.results[i].Rstgr,\n\t\t\t\t\t\t\"Vbund\": Data.results[i].Vbund,\n\t\t\t\t\t\t\"Bukrs\": Data.results[i].Bukrs,\n\t\t\t\t\t\t\"Gjahr\": Data.results[i].Gjahr,\n\t\t\t\t\t\t\"Zzjshkdw\": Data.results[i].Zzjshkdw,\n\t\t\t\t\t\t\"Zzzjjh\": Data.results[i].Zzzjjh,\n\t\t\t\t\t\t\"Zzflht\": Data.results[i].Zzflht,\n\t\t\t\t\t\t\"Zzcx\": Data.results[i].Zzcx,\n\t\t\t\t\t\t\"Zzch\": Data.results[i].Zzch,\n\t\t\t\t\t\t\"Zzdqlb\": Data.results[i].Zzdqlb,\n\t\t\t\t\t\t\"Zzfxcb\": Data.results[i].Zzfxcb,\n\t\t\t\t\t\t\"Zzfzhs01\": Data.results[i].Zzfzhs01,\n\t\t\t\t\t\t\"Zzfzhs02\": Data.results[i].Zzfzhs02,\n\t\t\t\t\t\t\"Zzfzhs03\": Data.results[i].Zzfzhs03,\n\t\t\t\t\t\t\"Zzfzhs04\": Data.results[i].Zzfzhs04,\n\t\t\t\t\t\t\"Zzfzhslb\": Data.results[i].Zzfzhslb,\n\t\t\t\t\t\t\"Zzfzhsnr\": Data.results[i].Zzfzhsnr,\n\t\t\t\t\t\t\"Zzghjh\": Data.results[i].Zzghjh,\n\t\t\t\t\t\t\"Fkber\": Data.results[i].Fkber,\n\t\t\t\t\t\t\"Menge\": Data.results[i].Menge,\n\t\t\t\t\t\t\"Mwskz\": Data.results[i].Mwskz\n\t\t\t\t\t};\n\t\t\t\t\tvar sdealPath = \"/ITEMSAVESet\";\n\t\t\t\t\tModel.create(sdealPath, itemdata, {\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\n\t\t\t\t\t\t\t// Util.showInfo(\"成功\");\n\t\t\t\t\t\t\tthat.setBusy(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(error) {\n\t\t\t\t\t\t\t// Util.showError(\"保存失败!\");\n\t\t\t\t\t\t\tthat.setBusy(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tvalidateInputHead: function() {\n\t\t\tvar view = this.getView();\n\t\t\tvar numpg = this.getView().byId(\"view_NUMPG\").getValue();\n\t\t\tvar inputs = [\n\t\t\t\tview.byId(\"view_BLDAT\"),\n\t\t\t\tview.byId(\"view_BUDAT\"),\n\t\t\t\tview.byId(\"view_KURSF\"),\n\t\t\t\t// view.byId(\"view_NUMPG\")\n\t\t\t];\n\t\t\tvar i;\n\t\t\tvar canContinue = true;\n\t\t\tthis.type = canContinue;\n\t\t\tfor (i = 0; i < inputs.length; i++) {\n\t\t\t\tvar vauleI = inputs[i].getValue();\n\t\t\t\tvauleI = vauleI.replace(new RegExp(\" \", \"gm\"), \"\");\n\t\t\t\tif (!vauleI) {\n\t\t\t\t\tinputs[i].setValueState(\"Error\");\n\t\t\t\t\tcanContinue = false;\n\t\t\t\t} else {\n\t\t\t\t\tinputs[i].setValueState();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.type = canContinue;\n\t\t\tif (canContinue) {} else {\n\t\t\t\tUtil.showError(\"请输入必输字段!\");\n\t\t\t}\n\n\t\t\tnumpg = numpg.replace(new RegExp(\" \", \"gm\"), \"\");\n\t\t\tif (numpg.match(/^\\d+$/) === null) {\n\t\t\t\tcanContinue = false;\n\t\t\t\tthis.getView().byId(\"view_NUMPG\").setValueState(\"Error\");\n\t\t\t\tUtil.showError(\"请输入有效有效数字!\");\n\t\t\t} else {\n\t\t\t\tthis.getView().byId(\"view_NUMPG\").setValueState();\n\t\t\t}\n\t\t\tthis.type = canContinue;\n\t\t},\n\n\t\t_bindView: function(sObjectPath) {\n\n\t\t},\n\n\t\t_onBindingChange: function() {}\n\n\t});\n\n});",
		"sh/bz/common/common/controller/Helper.js": "sap.ui.define([], function() {\r\n\r\n\tvar Helper = {\r\n\r\n\t\tgetUserInfo: function() { //取登录用户的相关信息放到\"OtherUserInfoModel\"中\r\n\t\t\tsap.ui.getCore().setModel(new sap.ui.model.json.JSONModel(), \"UserInfoModel\");\r\n\t\t\t// If on Fiori Launchpad\r\n\t\t\tvar userId = sap.ushell.Container.getService(\"UserInfo\").getId();\r\n\r\n\t\t\t// Read logon user info from Gateway\r\n\t\t\t//var userId = \"ZHANGYING\";// test userId\r\n\t\t\tvar oBpNumberModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZJKODATA_SRV/\", true);\r\n\t\t\tvar sPath = \"PERSIDSet('\" + userId + \"')\";\r\n\t\t\toBpNumberModel.read(sPath, {\r\n\t\t\t\tasync: false,\r\n\t\t\t\tsuccess: function(BpData) {\r\n\t\t\t\t\tvar sBpNumber = BpData.Psnid; //人员代码\r\n\t\t\t\t\tvar sBpName = BpData.Pernm; //人员名称\r\n\t\t\t\t\tvar sOrgId = BpData.Bukrs; //机构代码\r\n\t\t\t\t\tvar sOrgName = BpData.Buktx; //机构名称\r\n\t\t\t\t\tvar sFistl = BpData.Fistl; //部门代码（预算中心）\r\n\t\t\t\t\tvar sNamex = BpData.Namex; //部门名称\r\n\t\t\t\t\tvar sJobnr = BpData.Jobnr; //岗位代码\r\n\t\t\t\t\tvar sJobxt = BpData.Jobxt; //岗位名称\r\n\t\t\t\t\tvar sGrdnr = BpData.Grdnr; //职级代码\r\n\t\t\t\t\tvar sBxlvl = BpData.Bxlvl; //报销级别\r\n\t\t\t\t\tvar sUntid = BpData.Untid; //单位代码\r\n\t\t\t\t\tvar sUntnm = BpData.Untnm; //单位名称\r\n\t\t\t\t\tvar sDepid = BpData.Depid; //部门代码\r\n\t\t\t\t\tvar sDepnm = BpData.Depnm; //部门名称\r\n\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"UserInfoModel\").setProperty(\"/UserBpNumber\", sBpNumber);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"UserInfoModel\").setProperty(\"/UserBpName\", sBpName);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"UserInfoModel\").setProperty(\"/Org\", sOrgId);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"UserInfoModel\").setProperty(\"/Orgx\", sOrgName);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"UserInfoModel\").setProperty(\"/Fistl\", sFistl);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"UserInfoModel\").setProperty(\"/Namex\", sNamex);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"UserInfoModel\").setProperty(\"/Jobnr\", sJobnr);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"UserInfoModel\").setProperty(\"/Jobxt\", sJobxt);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"UserInfoModel\").setProperty(\"/Grdnr\", sGrdnr);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"UserInfoModel\").setProperty(\"/Bxlvl\", sBxlvl);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"UserInfoModel\").setProperty(\"/Bxlvl\", sBxlvl);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"UserInfoModel\").setProperty(\"/Untid\", sUntid);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"UserInfoModel\").setProperty(\"/Untnm\", sUntnm);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"UserInfoModel\").setProperty(\"/Depid\", sDepid);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"UserInfoModel\").setProperty(\"/Depnm\", sDepnm);\r\n\t\t\t\t\tuserId = sBpNumber;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn userId;\r\n\t\t},\r\n\r\n\t\tgetOtherUserInfo: function(userId) { //根据用户ID取用户的相关信息放到\"OtherUserInfoModel\"中\r\n\t\t\tsap.ui.getCore().setModel(new sap.ui.model.json.JSONModel(), \"OtherUserInfoModel\");\r\n\t\t\tvar oBpNumberModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZJKODATA_SRV/\", true);\r\n\t\t\tvar sPath = \"PERSIDSet('\" + userId + \"')\";\r\n\t\t\toBpNumberModel.read(sPath, {\r\n\t\t\t\tasync: false,\r\n\t\t\t\tsuccess: function(BpData) {\r\n\t\t\t\t\tvar sBpNumber = BpData.Psnid; //人员代码\r\n\t\t\t\t\tvar sBpName = BpData.Pernm; //人员名称\r\n\t\t\t\t\tvar sOrgId = BpData.Bukrs; //机构代码\r\n\t\t\t\t\tvar sOrgName = BpData.Buktx; //机构名称\r\n\t\t\t\t\tvar sFistl = BpData.Fistl; //部门代码\r\n\t\t\t\t\tvar sNamex = BpData.Namex; //部门名称\r\n\t\t\t\t\tvar sJobnr = BpData.Jobnr; //岗位代码\r\n\t\t\t\t\tvar sJobxt = BpData.Jobxt; //岗位名称\r\n\t\t\t\t\tvar sGrdnr = BpData.Grdnr; //职级代码\r\n\t\t\t\t\tvar sBxlvl = BpData.Bxlvl; //报销级别\r\n\t\t\t\t\tvar sUntid = BpData.Untid; //单位代码\r\n\t\t\t\t\tvar sUntnm = BpData.Untnm; //单位名称\r\n\t\t\t\t\tvar sDepid = BpData.Depid; //部门代码\r\n\t\t\t\t\tvar sDepnm = BpData.Depnm; //部门名称\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"OtherUserInfoModel\").setProperty(\"/UserBpNumber\", sBpNumber);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"OtherUserInfoModel\").setProperty(\"/UserBpName\", sBpName);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"OtherUserInfoModel\").setProperty(\"/Org\", sOrgId);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"OtherUserInfoModel\").setProperty(\"/Orgx\", sOrgName);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"OtherUserInfoModel\").setProperty(\"/Fistl\", sFistl);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"OtherUserInfoModel\").setProperty(\"/Namex\", sNamex);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"OtherUserInfoModel\").setProperty(\"/Jobnr\", sJobnr);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"OtherUserInfoModel\").setProperty(\"/Jobxt\", sJobxt);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"OtherUserInfoModel\").setProperty(\"/Grdnr\", sGrdnr);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"OtherUserInfoModel\").setProperty(\"/Bxlvl\", sBxlvl);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"OtherUserInfoModel\").setProperty(\"/Untid\", sUntid);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"OtherUserInfoModel\").setProperty(\"/Untnm\", sUntnm);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"OtherUserInfoModel\").setProperty(\"/Depid\", sDepid);\r\n\t\t\t\t\tsap.ui.getCore().getModel(\"OtherUserInfoModel\").setProperty(\"/Depnm\", sDepnm);\r\n\t\t\t\t\tuserId = sBpNumber;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn userId;\r\n\t\t},\r\n\r\n\t\tStringtoDecimal: function(sValue) {\r\n\t\t\t/*var oNumberFormat = sap.ui.core.format.NumberFormat.getFloatInstance({\r\n      \t  minFractionDigits: 2,\r\n  \t\t  maxFractionDigits: 2,\r\n  \t\t  groupingEnabled: true,\r\n  \t\t  groupingSeparator: \"\",\r\n  \t\t  decimalSeparator: \".\"\r\n  \t\t});\r\n    \treturn oNumberFormat.format(Str);*/\r\n\t\t\tif (!sValue) {\r\n\t\t\t\treturn \"0.00\";\r\n\t\t\t}\r\n\t\t\treturn parseFloat(sValue).toFixed(2).toString();\r\n\t\t},\r\n\r\n\t\tDateToUTC: function(date) {\r\n\t\t\tvar y = date.getUTCFullYear();\r\n\t\t\tvar m = date.getUTCMonth();\r\n\t\t\tvar d = date.getUTCDate();\r\n\t\t\tvar iM = Date.UTC(y, m, d);\r\n\t\t\tvar UtcDate = new Date(iM);\r\n\t\t\tif (date.getDate() > UtcDate.getDate()) {\r\n\t\t\t\tUtcDate = new Date(UtcDate.setDate(UtcDate.getDate() + 1));\r\n\t\t\t}\r\n\t\t\treturn UtcDate;\r\n\t\t},\r\n\t\t\r\n\t\tDateDiff: function(sDate1, sDate2) { //sDate1和sDate2是2006-12-18格式  \r\n\t\t\tvar aDate, oDate1, oDate2, iDays\r\n\t\t\taDate = sDate1.split(\"-\")\r\n\t\t\toDate1 = new Date(aDate[1] + '-' + aDate[2] + '-' + aDate[0]) //转换为12-18-2006格式  \r\n\t\t\taDate = sDate2.split(\"-\")\r\n\t\t\toDate2 = new Date(aDate[1] + '-' + aDate[2] + '-' + aDate[0])\r\n\t\t\tiDays = parseInt(Math.abs(oDate1 - oDate2) / 1000 / 60 / 60 / 24) //把相差的毫秒数转换为天数  \r\n\t\t\treturn iDays\r\n\t\t},\r\n\t\t/**\r\n\t\t * Deep clone object\r\n\t\t * \r\n\t\t * @param {Object} obj the original object\r\n\t\t * @return {Object} the cloned object\r\n\t\t */\r\n\t\tdeepClone: function(obj) {\r\n\t\t\tvar objClone;\r\n\t\t\tif (!obj) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif (obj.constructor === Object) {\r\n\t\t\t\tobjClone = new obj.constructor();\r\n\t\t\t} else {\r\n\t\t\t\tobjClone = new obj.constructor(obj.valueOf());\r\n\t\t\t}\r\n\t\t\tfor (var key in obj) {\r\n\t\t\t\tif (objClone[key] !== obj[key]) {\r\n\t\t\t\t\tif (typeof(obj[key]) === \"object\") {\r\n\t\t\t\t\t\tobjClone[key] = this.deepClone(obj[key]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tobjClone[key] = obj[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tobjClone.toString = obj.toString;\r\n\t\t\tobjClone.valueOf = obj.valueOf;\r\n\t\t\treturn objClone;\r\n\t\t},\r\n\t\t\r\n\t\t//访问odata\r\n\t\t_initData: function(odataModel, spath, modelName, that) {\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(odataModel, true);\r\n\t\t\tvar sPath = spath;\r\n\t\t\t//oDataModel.refreshSecurityToken();\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\t//async: true,\r\n\t\t\t\tsuccess: function(data, response) {\r\n\t\t\t\t\t// Success call back function\r\n\t\t\t\t\tthat.getView().setModel(new sap.ui.model.json.JSONModel(data), modelName)\r\n\t\t\t\t\t\t//sap.m.MessageToast.show(\"Submit success!\");\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {\r\n\t\t\t\t\t// Fail call back function\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\t// 清除校验错误提示\r\n\t\tonClearValueState: function(oEvent) {\r\n\t\t\toEvent.getSource().setValueState(\"None\");\r\n\t\t\toEvent.getSource().setValueStateText(\"\");\r\n\t\t},\r\n\r\n\t};\r\n\r\n\treturn Helper;\r\n});",
		"sh/bz/common/common/controller/Base64.js": "//https://www.cnblogs.com/pengchengzhong/p/6027663.html\r\n//https://gitee.com/loonhxl/jbase64/blob/master/jbase64.js\r\nsap.ui.define([\r\n\t\"sap/m/MessageToast\",\r\n], function(MessageToast) {\r\n\t\"use strict\";\r\n\r\n\t// private property\r\n\t//keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\n\r\n\tvar Base64 = {\r\n\r\n\t\t// public method for encoding\r\n\t\tencode: function(input) {\r\n\t\t\tvar _keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\n\t\t\tvar output = \"\";\r\n\t\t\tvar chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n\t\t\tvar i = 0;\r\n\t\t\tinput = this._utf8_encode(input);\r\n\t\t\twhile (i < input.length) {\r\n\t\t\t\tchr1 = input.charCodeAt(i++);\r\n\t\t\t\tchr2 = input.charCodeAt(i++);\r\n\t\t\t\tchr3 = input.charCodeAt(i++);\r\n\t\t\t\tenc1 = chr1 >> 2;\r\n\t\t\t\tenc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\r\n\t\t\t\tenc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\r\n\t\t\t\tenc4 = chr3 & 63;\r\n\t\t\t\tif (isNaN(chr2)) {\r\n\t\t\t\t\tenc3 = enc4 = 64;\r\n\t\t\t\t} else if (isNaN(chr3)) {\r\n\t\t\t\t\tenc4 = 64;\r\n\t\t\t\t}\r\n\t\t\t\toutput = output +\r\n\t\t\t\t\t_keyStr.charAt(enc1) + _keyStr.charAt(enc2) +\r\n\t\t\t\t\t_keyStr.charAt(enc3) + _keyStr.charAt(enc4);\r\n\t\t\t}\r\n\t\t\treturn output;\r\n\t\t},\r\n\t\t// private method for UTF-8 encoding\r\n\t\t_utf8_encode: function(string) {\r\n\t\t\tstring = string.replace(/\\r\\n/g, \"\\n\");\r\n\t\t\tvar utftext = \"\";\r\n\t\t\tfor (var n = 0; n < string.length; n++) {\r\n\t\t\t\tvar c = string.charCodeAt(n);\r\n\t\t\t\tif (c < 128) {\r\n\t\t\t\t\tutftext += String.fromCharCode(c);\r\n\t\t\t\t} else if ((c > 127) && (c < 2048)) {\r\n\t\t\t\t\tutftext += String.fromCharCode((c >> 6) | 192);\r\n\t\t\t\t\tutftext += String.fromCharCode((c & 63) | 128);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tutftext += String.fromCharCode((c >> 12) | 224);\r\n\t\t\t\t\tutftext += String.fromCharCode(((c >> 6) & 63) | 128);\r\n\t\t\t\t\tutftext += String.fromCharCode((c & 63) | 128);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\treturn utftext;\r\n\t\t},\r\n\r\n\t};\r\n\treturn Base64;\r\n});",
		"sh/bz/common/common/controller/Formatter.js": "sap.ui.define([\r\n\t\"sap/ui/core/format/DateFormat\"\r\n], function(DateFormat) {\r\n\r\n\tvar Formatter = {\r\n\t\tFloatFormat: function(sValue) {\r\n\t\t\tif (typeof sValue === \"number\")\r\n\t\t\t\treturn sValue.toFixed(2);\r\n\r\n\t\t\tif (!sValue) {\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t\tif (typeof sValue === \"string\") {\r\n\t\t\t\tvar sValue = sValue.replace(/,/g, '');\r\n\t\t\t\tsValue = parseFloat(sValue);\r\n\t\t\t}\r\n\t\t\treturn sValue.toFixed(2);\r\n\t\t},\r\n\t\t//发票类型\r\n\t\tIntypeString: function(value) {\r\n\t\t\tswitch (value) {\r\n\t\t\t\tcase \"c\":\r\n\t\t\t\t\treturn \"普纸\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"s\":\r\n\t\t\t\t\treturn \"专纸\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"ce\":\r\n\t\t\t\t\treturn \"电票\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"v\":\r\n\t\t\t\t\treturn \"机动车票\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"fj\":\r\n\t\t\t\t\treturn \"附件\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn \"\"\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tDateToString: function(oDate, spattern) {\r\n\t\t\tjQuery.sap.require(\"sap.ui.core.format.DateFormat\");\r\n\t\t\tvar oDateFormat = sap.ui.core.format.DateFormat.getDateTimeInstance({\r\n\t\t\t\tpattern: spattern\r\n\t\t\t});\r\n\r\n\t\t\treturn oDateFormat.format(oDate);\r\n\t\t},\r\n\r\n\t\tformatDate: function(date) {\r\n\t\t\tif (date === null || date === undefined || date === \"\") {\r\n\t\t\t\treturn \"\";\r\n\t\t\t} else {\r\n\t\t\t\t//Cover time to timestrmp\r\n\t\t\t\tvar timestrmp = Date.parse(date);\r\n\t\t\t\tvar newDate = new Date();\r\n\t\t\t\tnewDate.setTime(timestrmp);\r\n     \t\t\t\r\n     \t\t\t/*\r\n     \t\t\tvar formatter = DateFormat.getDateInstance({\r\n\t\t\t\t\tstyle: \"medium\",\r\n\t\t\t\t\tUTC: true\r\n\t\t\t\t});\r\n\t\t\t\t*/\r\n\t\t\t\tvar formatter = sap.ui.core.format.DateFormat.getDateTimeInstance({pattern: \"YYYY/MM/dd\"});\r\n    \t\t\treturn formatter.format(newDate, false);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t};\r\n\r\n\treturn Formatter;\r\n\r\n});",
		"sh/bz/common/common/controller/NotFound.controller.js": "sap.ui.define([\n\t\"sap/ui/core/mvc/Controller\",\n\t\"sh/bz/common/controller/BaseController\",\n\t\"sh/bz/common/controller/Util\",\n\t\"sh/bz/common/controller/UtilTest\",\n\t\"sh/bz/common/controller/Formatter\"\n], function(Controller, BaseController, Util, UtilTest, Formatter) {\n\t\"use strict\";\n\n\treturn BaseController.extend(\"sh.bz.jkd.controller.NotFound\", {\n\n\t});\n\n});",
		"sh/bz/common/common/controller/Util.js": "sap.ui.define([\r\n\t\"sap/m/MessageToast\",\r\n\t\"sap/m/MessageBox\",\r\n\t\"sap/ui/core/BusyIndicator\"\r\n], function(MessageToast, MessageBox, BusyIndicator) {\r\n\t\"use strict\";\r\n\tvar Util = {\r\n\t\tpageinfo: null,\r\n\r\n\t\tuuid: function() {\r\n\t\t\tvar s = [];\r\n\t\t\tvar hexDigits = \"0123456789abcdef\";\r\n\t\t\tfor (var i = 0; i < 36; i++) {\r\n\t\t\t\ts[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\r\n\t\t\t}\r\n\t\t\ts[14] = \"4\"; // bits 12-15 of the time_hi_and_version field to 0010\r\n\t\t\ts[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1); // bits 6-7 of the clock_seq_hi_and_reserved to 01\r\n\t\t\ts[8] = s[13] = s[18] = s[23] = \"-\";\r\n\r\n\t\t\tvar uuid = s.join(\"\");\r\n\t\t\treturn uuid;\r\n\t\t},\r\n\t\t//todolist CX code \r\n\t\treadFYSQByBusinessCode: function(code, that) {\r\n\t\t\tvar sPath = \"/HEADERSAVESet?$filter=Recode eq '\" + code + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\r\n\t\t\t\t\tUtil.debug(model);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_edit\");\r\n\t\t\t\t\t// console.log(model)\r\n\t\t\t\t\t//Util.debug(model);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get RYBHSet error!\");\r\n\t\t\t\t},\r\n\t\t\t\tasync: false\r\n\t\t\t});\r\n\t\t},\r\n\t\t//QUERY CX code\r\n\t\treadGrdjcx: function(code, that) {\r\n\t\t\tvar Dkkd = code.slice(0, 2);\r\n\t\t\tvar sPath = this.checkDkkd(Dkkd);\r\n\t\t\tconsole.log(sPath);\r\n\t\t\t// var path = that.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\t// var oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROSQDTB_SRV/\", true);\r\n\t\t\t// that.getView().bindElement({\r\n\t\t\t// \tpath: sPath,\r\n\t\t\t// \tevents: {\r\n\t\t\t// \t\tdataRequested: function() {\r\n\t\t\t// \t\t\tUtil.debug(\"dataRequested\");\r\n\t\t\t// \t\t},\r\n\t\t\t// \t\tdataReceived: function(oData, response) {\r\n\t\t\t// \t\t\tvar model = oData.getParameters();\r\n\t\t\t// \t\t\tif (model.Spzt === \"A\" || model.Spzt === \"D\" || model.Spzt === \"R\") {\r\n\t\t\t// \t\t\t\tthat.getView().byId(\"view_Edit_save\").setEnabled(true);\r\n\t\t\t// \t\t\t\tthat.getView().byId(\"view_Edit_submit\").setEnabled(true);\r\n\t\t\t// \t\t\t} else {\r\n\t\t\t// \t\t\t\tthat.getView().byId(\"view_Edit_save\").setEnabled(false);\r\n\t\t\t// \t\t\t\tthat.getView().byId(\"view_Edit_submit\").setEnabled(false);\r\n\t\t\t// \t\t\t}\r\n\t\t\t// \t\t}\r\n\t\t\t// \t}\r\n\t\t\t// });\r\n\t\t\t// this.setBusy(true);\r\n\t\t\t// var a = this;\r\n\t\t\t// oDataModel.read(sPath, {\r\n\t\t\t// \tsuccess: function(oData, response) {\r\n\t\t\t// \t\ta.setBusy(false);\r\n\t\t\t// \t\tvar model = new sap.ui.model.json.JSONModel(oData).getData();\r\n\t\t\t// \t\tUtil.debug(model);\r\n\t\t\t// \t\tif (model.results[0].Spzt === \"A\" || model.results[0].Spzt === \"D\" || model.results[0].Spzt ===\r\n\t\t\t// \t\t\t\"R\") {\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Spzt\", model.results[0].Spzt);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Recode\", model.results[0].Recode);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Accountfor\", model.results[0].Accountfor);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Amountsum\", model.results[0].Amountsum);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Aufnr\", model.results[0].Aufnr);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Bukrs\", model.results[0].Bukrs);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Butxt\", model.results[0].Butxt);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Dkkd\", model.results[0].Dkkd);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Dknm\", model.results[0].Dknm);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Etkd\", model.results[0].Etkd);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Etnm\", model.results[0].Etnm);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Kostl\", model.results[0].Kostl);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Ktext\", model.results[0].Ktext);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"KtextAufnr\", model.results[0].KtextAufnr);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"KtextPrctr\", model.results[0].KtextPrctr);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Pernr\", model.results[0].Pernr);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"PernrS\", model.results[0].PernrS);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Prctr\", model.results[0].Prctr);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Redate\", model.results[0].Redate);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Slbm\", model.results[0].Slbm);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Sname\", model.results[0].Sname);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"SnameS\", model.results[0].SnameS);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Telnum\", model.results[0].Telnum);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Usrid\", model.results[0].Usrid);\r\n\t\t\t// \t\t\tthat.getView().byId(\"view_Edit_save\").setEnabled(true);\r\n\t\t\t// \t\t\tthat.getView().byId(\"view_Edit_submit\").setEnabled(true);\r\n\t\t\t// \t\t} else {\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Spzt\", model.results[0].Spzt);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Recode\", model.results[0].Recode);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Accountfor\", model.results[0].Accountfor);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Amountsum\", model.results[0].Amountsum);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Aufnr\", model.results[0].Aufnr);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Bukrs\", model.results[0].Bukrs);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Butxt\", model.results[0].Butxt);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Dkkd\", model.results[0].Dkkd);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Dknm\", model.results[0].Dknm);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Etkd\", model.results[0].Etkd);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Etnm\", model.results[0].Etnm);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Kostl\", model.results[0].Kostl);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Ktext\", model.results[0].Ktext);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"KtextAufnr\", model.results[0].KtextAufnr);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"KtextPrctr\", model.results[0].KtextPrctr);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Pernr\", model.results[0].Pernr);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"PernrS\", model.results[0].PernrS);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Prctr\", model.results[0].Prctr);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Redate\", model.results[0].Redate);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Slbm\", model.results[0].Slbm);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Sname\", model.results[0].Sname);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"SnameS\", model.results[0].SnameS);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Telnum\", model.results[0].Telnum);\r\n\t\t\t// \t\t\tthat.getView().getModel().setProperty(path + \"Usrid\", model.results[0].Usrid);\r\n\t\t\t// \t\t\tthat.getView().byId(\"view_Edit_save\").setEnabled(false);\r\n\t\t\t// \t\t\tthat.getView().byId(\"view_Edit_submit\").setEnabled(false);\r\n\t\t\t// \t\t}\r\n\r\n\t\t\t// \t},\r\n\t\t\t// \terror: function(oError) {\r\n\t\t\t// \t\tthis.setBusy(false);\r\n\t\t\t// \t\tMessageToast.show(\"get RYBHSet error!\");\r\n\t\t\t// \t},\r\n\t\t\t// \tasync: false\r\n\t\t\t// });\r\n\t\t},\r\n\r\n\t\t//选择单据类型\r\n\t\tcheckDkkd: function(Dkkd) {\r\n\t\t\tswitch (Dkkd) {\r\n\t\t\t\tcase \"SQ\":\r\n\t\t\t\t\tvar Spath = \"/HEADERSAVESet\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"JK\":\r\n\t\t\t\t\tvar Spath = \"/HEADERSAVESet\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t// case CL:\r\n\r\n\t\t\t\t\t// \tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t// n 与\r\n\t\t\t}\r\n\t\t\treturn Spath;\r\n\t\t},\r\n\r\n\t\t//设置BUSY状态\r\n\t\tsetBusy: function(busy) {\r\n\t\t\tjQuery.sap.require(\"sap.ui.core.BusyIndicator\");\r\n\t\t\tbusy ? BusyIndicator.show(0) : BusyIndicator.hide();\r\n\t\t},\r\n\r\n\t\t//shenqingren//申请人 点击搜索\r\n\t\tonSearchPROPOSE: function(oEvent, that) {\r\n\t\t\tvar path = that.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Bukrs = that.getView().getModel().getProperty(path + \"Bukrs\");\r\n\t\t\tvar value = oEvent.getParameter(\"query\");\r\n\t\t\t//判断是否含有中文\r\n\t\t\tif (!/^[\\u4e00-\\u9fa5]/.test(value)) {\r\n\t\t\t\tvar sPath = \"/RYBHSet?$filter=Bukrs eq '\" + Bukrs + \"' and substringof( '\" + (value ? value : '') + \"',Pernr)\";\r\n\t\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\r\n\t\t\t\toDataModel.read(sPath, {\r\n\t\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\t\tthat.getView().setModel(model, \"model_PROPOSER\");\r\n\t\t\t\t\t\tUtil.debug(model);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\tMessageToast.show(\"get RYBHSet error!\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tvar sPath = \"/RYBHSet?$filter=Bukrs eq '\" + Bukrs + \"' and substringof( '\" + (value ? value : '') + \"',Sname)\";\r\n\t\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\r\n\t\t\t\toDataModel.read(sPath, {\r\n\t\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\t\tthat.getView().setModel(model, \"model_PROPOSER\");\r\n\t\t\t\t\t\t// that.getView().setModel(model, \"model_PROPOSER\");\r\n\t\t\t\t\t\tUtil.debug(model);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\tMessageToast.show(\"get RYBHSet error!\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t//成本\r\n\t\tonSearchPROPOSER_KOSTLed: function(oEvent, that) {\r\n\t\t\tvar path = that.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Bukrs = sap.ui.getCore().AppContext.Bukrs;\r\n\t\t\tif (oEvent === undefined) {\r\n\t\t\t\tvar value = \"\";\r\n\t\t\t} else {\r\n\t\t\t\tvar value = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\t//value = (Array(10).join(0) + value).slice(-10);\r\n\t\t\tif (!/^[\\u4e00-\\u9fa5]/.test(value)) {\r\n\t\t\t\tvar sPath = \"/CSKSSet?$filter=Bukrs eq '\" + Bukrs + \"' and substringof( '\" + (value ? value : '') + \"',Kostl)\";\r\n\t\t\t\t//var sPath = \"/CSKSSet?$filter=Kostl eq '\" + (value?value:'') + \"'\";\r\n\t\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\r\n\t\t\t\toDataModel.read(sPath, {\r\n\t\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\t\tthat.getView().setModel(model, \"model_PROPOSER_KOSTLed\");\r\n\t\t\t\t\t\tUtil.debug(model);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\tMessageToast.show(\"get RYBHSet error!\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tvar sPath = \"/CSKSSet?$filter=Bukrs eq '\" + Bukrs + \"' and substringof( '\" + (value ? value : '') + \"',Ktext)\";\r\n\t\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\r\n\t\t\t\toDataModel.read(sPath, {\r\n\t\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\t\tthat.getView().setModel(model, \"model_PROPOSER_KOSTLed\");\r\n\t\t\t\t\t\t// that.getView().setModel(model, \"model_PROPOSER\");\r\n\t\t\t\t\t\tUtil.debug(model);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\tMessageToast.show(\"get RYBHSet error!\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t//搜索订单\r\n\t\tonSearchAufnr: function(oEvent, that) {\r\n\t\t\tvar path = that.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Bukrs = that.getView().getModel().getProperty(path + \"Bukrs\");\r\n\t\t\tvar value = oEvent.getParameter(\"query\");\r\n\t\t\tif (!/^[\\u4e00-\\u9fa5]/.test(value)) {\r\n\t\t\t\tvar sPath = \"/AUFKSet?$filter=Bukrs eq '\" + Bukrs + \"' and substringof( '\" + (value ? value : '') + \"',Aufnr)\";\r\n\t\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\r\n\t\t\t\toDataModel.read(sPath, {\r\n\t\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\t\tthat.getView().setModel(model, \"model_Aufnr\");\r\n\t\t\t\t\t\tUtil.debug(model);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\tMessageToast.show(\"get RYBHSet error!\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tvar sPath = \"/AUFKSet?$filter=Bukrs eq '\" + Bukrs + \"' and substringof( '\" + (value ? value : '') + \"',Ktext)\";\r\n\t\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\r\n\t\t\t\toDataModel.read(sPath, {\r\n\t\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\t\tthat.getView().setModel(model, \"model_Aufnr\");\r\n\t\t\t\t\t\tUtil.debug(model);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\tMessageToast.show(\"get RYBHSet error!\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonShowPROPOSERHelp: function(oEvent, that) {\r\n\t\t\t// var cl = that.getView().byId(\"CLBX_CLXX_table\").getItems().length !== 0;\r\n\r\n\t\t\tvar hxobj = that.getView().byId(\"table_hx\");\r\n\t\t\tvar sqobj = that.getView().byId(\"table_sq\");\r\n\t\t\tvar fpobj = that.getView().byId(\"table_fp\");\r\n\t\t\tif (hxobj && sqobj && fpobj) {\r\n\t\t\t\tvar hx = hxobj.getItems().length !== 0;\r\n\t\t\t\tvar sq = sqobj.getItems().length !== 0;\r\n\t\t\t\tvar fp = fpobj.getItems().length !== 0;\r\n\t\t\t\tif (hx || sq || fp) {\r\n\t\t\t\t\tUtil.showError(\"更改报销人，需先删除\" + (fp ? \" “增值税发票” \" : \"\") +\r\n\t\t\t\t\t\t(sq ? \" “关联申请单” \" : \"\") + (hx ? \" “核销借款” \" : \"\") + \"的行信息\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!that.oDialogCostCenterHelpName) {\r\n\t\t\t\tthat.oDialogCostCenterHelpName = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogCostCenterHelpName\", that);\r\n\t\t\t\t//jQuery.sap.syncStyleClass(that.getOwnerComponent().getContentDensityClass(),that.getView(), that.oDialogCostCenterHelp);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogCostCenterHelpName);\r\n\t\t\t\t//console.log(that.byId('view_Edit_PROPOSER'));\r\n\t\t\t\t//sap.ui.getCore().byId('Namelist').removeSelections();\r\n\t\t\t}\r\n\t\t\tthat.oDialogCostCenterHelpName.open();\r\n\t\t},\r\n\r\n\t\tonShowCheckName: function(that) {\r\n\t\t\tif (!that.oDialogCheckName) {\r\n\t\t\t\tthat.oDialogCheckName = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogCheckName\", that);\r\n\t\t\t\t//jQuery.sap.syncStyleClass(that.getOwnerComponent().getContentDensityClass(),that.getView(), that.oDialogCostCenterHelp);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogCheckName);\r\n\t\t\t\t//console.log(that.byId('view_Edit_PROPOSER'));\r\n\t\t\t\t//sap.ui.getCore().byId('Namelist').removeSelections();\r\n\t\t\t}\r\n\t\t\tthat.oDialogCheckName.open();\r\n\t\t},\r\n\r\n\t\t//bumen\r\n\t\t//部门点击搜索\r\n\t\tonSearchPROPOSER_KOSTL: function(oEvent, that) {\r\n\t\t\tvar path = that.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Bukrs = that.getView().getModel().getProperty(path + \"Bukrs\");\r\n\t\t\tvar value = oEvent.getParameter(\"query\");\r\n\t\t\t//value = (Array(10).join(0) + value).slice(-10);\r\n\t\t\tif (!/^[\\u4e00-\\u9fa5]/.test(value)) {\r\n\t\t\t\tvar sPath = \"/ORGEHSet?$filter=Bukrs eq '\" + Bukrs + \"' and substringof( '\" + (value ? value : '') + \"',Orgeh)\";\r\n\t\t\t\t//var sPath = \"/CSKSSet?$filter=Kostl eq '\" + (value?value:'') + \"'\";\r\n\t\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\r\n\t\t\t\toDataModel.read(sPath, {\r\n\t\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\t\tthat.getView().setModel(model, \"model_PROPOSER_KOSTL\");\r\n\t\t\t\t\t\tUtil.debug(model);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\tMessageToast.show(\"get RYBHSet error!\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tvar sPath = \"/ORGEHSet?$filter=Bukrs eq '\" + Bukrs + \"' and substringof( '\" + (value ? value : '') + \"',OrgehText)\";\r\n\t\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\r\n\t\t\t\toDataModel.read(sPath, {\r\n\t\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\t\tthat.getView().setModel(model, \"model_PROPOSER_KOSTL\");\r\n\t\t\t\t\t\t// that.getView().setModel(model, \"model_PROPOSER\");\r\n\t\t\t\t\t\tUtil.debug(model);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\tMessageToast.show(\"get RYBHSet error!\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//搜索费用类型\r\n\t\tonSearchEtdsc: function(oEvent, that, DKKD) {\r\n\t\t\tvar path = that.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Bukrs = that.getView().getModel().getProperty(path + \"Bukrs\");\r\n\t\t\tvar value = oEvent.getParameter(\"query\");\r\n\t\t\tvar sPath = \"/BETYPESet?$filter=( Bukrs eq '\" + Bukrs + \"' ) and ( Dkkd eq '\" + DKKD + \"' )\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\r\n\t\t\tthat.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Etdsc\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Etdsclist\",\r\n\t\t\t\t\t\tparams: [\"Etkd\", \"Etdsc\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tUtil.showError(\"get RECODESet error!\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tonShowCostPartHelp: function(oEvent, that) {\r\n\t\t\tif (!that.oDialogCostPartHelp) {\r\n\t\t\t\tthat.oDialogCostPartHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogCostPartHelp\", that);\r\n\t\t\t\t//jQuery.sap.syncStyleClass(that.getOwnerComponent().getContentDensityClass(),that.getView(), that.oDialogCostCenterHelp);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogCostPartHelp);\r\n\t\t\t\t//sap.ui.getCore().byId('Partlist').removeSelections();\r\n\t\t\t}\r\n\t\t\tthat.oDialogCostPartHelp.open();\r\n\t\t},\r\n\t\t//展开订单\r\n\t\tonShowAufnrHelp: function(oEvent, that) {\r\n\t\t\tif (!that.oDialogAufnrHelp) {\r\n\t\t\t\tthat.oDialogAufnrHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogAufnrHelp\", that);\r\n\t\t\t\t//jQuery.sap.syncStyleClass(that.getOwnerComponent().getContentDensityClass(),that.getView(), that.oDialogCostCenterHelp);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogAufnrHelp);\r\n\t\t\t\t//sap.ui.getCore().byId('Partlist').removeSelections();\r\n\t\t\t}\r\n\t\t\tthat.oDialogAufnrHelp.open();\r\n\t\t\tvar value = \"\";\r\n\t\t\tvar path = that.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Bukrs = that.getView().getModel().getProperty(path + \"Bukrs\");\r\n\t\t\tvar sPath = \"/AUFKSet?$filter=Bukrs eq '\" + Bukrs + \"' and substringof( '\" + (value ? value : '') + \"',Aufnr)\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Aufnr\");\r\n\t\t\t\t\tUtil.debug(model);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get RYBHSet error!\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tonShowCostConHelp: function(oEvent, that) {\r\n\t\t\tif (!that.oDialogCostConHelp) {\r\n\t\t\t\tthat.oDialogCostConHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogCostConHelp\", that);\r\n\t\t\t\t//jQuery.sap.syncStyleClass(that.getOwnerComponent().getContentDensityClass(),that.getView(), that.oDialogCostCenterHelp);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogCostConHelp);\r\n\t\t\t\t//sap.ui.getCore().byId('conlist').removeSelections();\r\n\t\t\t}\r\n\t\t\tthat.oDialogCostConHelp.open();\r\n\t\t},\r\n\t\t//lirunzhongxin\t\r\n\t\t//利润中心点击搜索\r\n\t\tonSearchPROPOSER_PRCTR: function(oEvent, that) {\r\n\t\t\tvar path = that.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Bukrs = that.getView().getModel().getProperty(path + \"Bukrs\");\r\n\t\t\tvar value = oEvent.getParameter(\"query\");\r\n\t\t\tif (!/^[\\u4e00-\\u9fa5]/.test(value)) {\r\n\t\t\t\tvar sPath = \"/CEPC_BUKRSSet?$filter=Bukrs eq '\" + Bukrs + \"' and substringof( '\" + (value ? value : '') + \"',Prctr)\";\r\n\t\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\r\n\t\t\t\toDataModel.read(sPath, {\r\n\t\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\t\tthat.getView().setModel(model, \"model_PROPOSER_PRCTR\");\r\n\t\t\t\t\t\t//console.log(model)\r\n\t\t\t\t\t\tUtil.debug(model);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\tMessageToast.show(\"get RYBHSet error!\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tvar sPath = \"/CEPC_BUKRSSet?$filter=Bukrs eq '\" + Bukrs + \"' and substringof( '\" + (value ? value : '') + \"',Ktext)\";\r\n\t\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\r\n\t\t\t\toDataModel.read(sPath, {\r\n\t\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\t\tthat.getView().setModel(model, \"model_PROPOSER_PRCTR\");\r\n\t\t\t\t\t\t// that.getView().setModel(model, \"model_PROPOSER\");\r\n\t\t\t\t\t\tUtil.debug(model);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\tMessageToast.show(\"get RYBHSet error!\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t//OPEN费用类型\r\n\t\tonShowEtdscHelp: function(oEvent, that, Dkkd) {\r\n\t\t\tif (!that.oDialogEtdscHelp) {\r\n\t\t\t\tthat.oDialogEtdscHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogEtdscHelp\", that);\r\n\t\t\t\t//jQuery.sap.syncStyleClass(that.getOwnerComponent().getContentDensityClass(),that.getView(), that.oDialogCostCenterHelp);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogEtdscHelp);\r\n\t\t\t\t//sap.ui.getCore().byId('centerlist').removeSelections();\r\n\t\t\t}\r\n\t\t\tthat.oDialogEtdscHelp.open();\r\n\t\t\tUtil.onSearchEtdsc(oEvent, that, Dkkd);\r\n\t\t},\r\n\r\n\t\tonShowCostCenterHelp: function(oEvent, that) {\r\n\t\t\tif (!that.oDialogCostCenterHelp) {\r\n\t\t\t\tthat.oDialogCostCenterHelp = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogCostCenterHelp\", that);\r\n\t\t\t\t//jQuery.sap.syncStyleClass(that.getOwnerComponent().getContentDensityClass(),that.getView(), that.oDialogCostCenterHelp);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogCostCenterHelp);\r\n\t\t\t\t//sap.ui.getCore().byId('centerlist').removeSelections();\r\n\t\t\t}\r\n\t\t\tthat.oDialogCostCenterHelp.open();\r\n\t\t\tvar value = \"\";\r\n\t\t\tvar path = that.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Bukrs = that.getView().getModel().getProperty(path + \"Bukrs\");\r\n\t\t\tvar sPath = \"/CEPC_BUKRSSet?$filter=Bukrs eq '\" + Bukrs + \"' and substringof( '\" + (value ? value : '') + \"',Prctr)\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_PROPOSER_PRCTR\");\r\n\t\t\t\t\t//console.log(model)\r\n\t\t\t\t\tUtil.debug(model);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get RYBHSet error!\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t//费用项目      \r\n\t\tonShowEINM: function(oEvent, that) {\r\n\t\t\tif (!that.oDialogEinm) {\r\n\t\t\t\tthat.oDialogEinm = sap.ui.xmlfragment(\"sh.bz.common.fragment.DialogEinm\", that);\r\n\t\t\t\t//jQuery.sap.syncStyleClass(that.getOwnerComponent().getContentDensityClass(),that.getView(), that.oDialogCostCenterHelp);\r\n\t\t\t\tthat.getView().addDependent(that.oDialogEinm);\r\n\t\t\t\t//sap.ui.getCore().byId('centerlist').removeSelections();\r\n\t\t\t}\r\n\t\t\tthat.oDialogEinm.open();\r\n\t\t},\r\n\r\n\t\tdebug: function(msg) {\r\n\t\t\tconsole.info(msg);\r\n\t\t},\r\n\r\n\t\tshowInfo: function(msg) {\r\n\t\t\tMessageToast.show(msg);\r\n\t\t},\r\n\r\n\t\tshowError: function(sDetails) {\r\n\t\t\tif (this._bMessageOpen) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._bMessageOpen = true;\r\n\t\t\tMessageBox.error(\r\n\t\t\t\tsDetails, {\r\n\t\t\t\t\tid: \"serviceErrorMessageBox\",\r\n\t\t\t\t\t//\tdetails: sDetails,\r\n\t\t\t\t\t//\tstyleClass: this._oComponent.getContentDensityClass(),\r\n\t\t\t\t\tactions: [MessageBox.Action.CLOSE],\r\n\t\t\t\t\tonClose: function() {\r\n\t\t\t\t\t\tthis._bMessageOpen = false;\r\n\t\t\t\t\t}.bind(this)\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tonSearchBUKRS: function(oEvent, that) {\r\n\t\t\tif (oEvent === undefined) {\r\n\t\t\t\tvar value = \"\";\r\n\t\t\t} else {\r\n\t\t\t\tvar value = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar loc = location.href.toLowerCase();\r\n\t\t\tif (loc.indexOf(\"fiorilaunchpad.html\") > 0) {\r\n\t\t\t\tthat.getOwnerComponent()._userid = sap.ushell.Container.getService(\"UserInfo\").getId();\r\n\t\t\t} else {\r\n\t\t\t\tthat.getOwnerComponent()._userid = \"ZZLIYJ\";\r\n\t\t\t};\r\n\t\t\tvar userid = that.getOwnerComponent()._userid;\r\n\t\t\tvar sPath = \"/T001Set?$filter=Userid  eq '\" + userid + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tUtil.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_BUKRS\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Burklist\",\r\n\t\t\t\t\t\tparams: [\"Bxbukrs\", \"Butxt\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get TaxcodeSet error!\");\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tvalidateSeachFields: function(oEvent, that) {\r\n\t\t\tvar thatView = that.getView(),\r\n\t\t\t\tdata = thatView.getModel(\"model_search\").oData;\r\n\t\t\tif (sap.ushell != null)\r\n\t\t\t\tuserid = sap.ushell.Container.getService(\"UserInfo\").getId(); //in Fiori FLP\r\n\t\t\telse\r\n\t\t\t\tvar userid = \"ZZLIYJ\"; //in SAP WebIDE test environment\r\n\r\n\t\t\t//add search all function s\r\n\t\t\tvar control = that.getOwnerComponent().getModel(\"CONTROL\").getProperty(\"/control\");\r\n\t\t\tvar sPath;\r\n\t\t\tif (control === 'AL') {\r\n\r\n\t\t\t\tsPath = \"/GRCXSet?$filter=Bukrs eq '\" + data.Bukrs + \"' and substringof( '\" + data.Recode + \"',Recode)  and substringof( '\" + data.Sname +\r\n\t\t\t\t\t\"',Sname) and substringof( '\" + data.SnameC + \"',SnameC) and substringof( '\" + data.Spzt +\r\n\t\t\t\t\t\"',Spzt) and substringof( '\" + data.OrgehText + \"',OrgehText) and substringof( '\" + data.Dkkd + \"',Dkkd) and substringof( '\" +\r\n\t\t\t\t\tdata.Zfzt + \"',Zfzt)\";\r\n\t\t\t} else {\r\n\t\t\t\tsPath = \"/GRCXSet?$filter=Usrid eq '\" + userid + \"' and substringof( '\" + data.Recode + \"',Recode)  and substringof( '\" + data.Sname +\r\n\t\t\t\t\t\"',Sname) and substringof( '\" + data.SnameC + \"',SnameC) and substringof( '\" + data.Spzt +\r\n\t\t\t\t\t\"',Spzt) and substringof( '\" + data.OrgehText + \"',OrgehText) and substringof( '\" + data.Dkkd + \"',Dkkd) and substringof( '\" +\r\n\t\t\t\t\tdata.Zfzt + \"',Zfzt) and Bukrs eq '\" + data.Bukrs + \"'\";\r\n\t\t\t};\r\n\t\t\t//add search all function e\r\n\t\t\t// var that = this;\r\n\t\t\t// var sPath = \"/GRCXSet?$filter=Usrid eq '\" + userid + \"' and substringof( '\" + data.Recode + \"',Recode)  and substringof( '\" + data.Sname +\r\n\t\t\t// \t\"',Sname) and substringof( '\" + data.SnameC + \"',SnameC) and substringof( '\" + data.Spzt +\r\n\t\t\t// \t\"',Spzt) and substringof( '\" + data.OrgehText + \"',OrgehText) and substringof( '\" + data.Dkkd + \"',Dkkd) and substringof( '\" +\r\n\t\t\t// \tdata.Zfzt + \"',Zfzt)\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROSQDTB_SRV/\", true);\r\n\t\t\toDataModel.read(encodeURI(sPath), {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar data_all = new sap.ui.model.json.JSONModel(oData).getData();\r\n\t\t\t\t\tthat.getView().setModel(new sap.ui.model.json.JSONModel(data_all), \"model_data_all\");\r\n\t\t\t\t\tthat.toFirstPage(data_all);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tUtil.showError(\"get RYBHSet error!\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 清除校验错误提示\r\n\t\tonClearValueState: function(oEvent) {\r\n\t\t\toEvent.getSource().setValueState(\"None\");\r\n\t\t\toEvent.getSource().setValueStateText(\"\");\r\n\t\t},\r\n\r\n\t\t// 校验数据\r\n\t\tvalidateInputFields: function(that) {\r\n\t\t\tvar bInputValid = true;\r\n\t\t\tvar bFocus = false;\r\n\t\t\tvar data = that.getView().getModel(\"model_edit\").getData();\r\n\t\t\t//判断申请人code是否为空\r\n\t\t\tif (that.byId(\"view_Edit_PROPOSER\")) {\r\n\t\t\t\tif (!data.PROPOSERNumber || !data.PROPOSERNumber.trim()) {\r\n\t\t\t\t\tbInputValid = false;\r\n\t\t\t\t\tdata.PROPOSERValueState = \"Error\";\r\n\t\t\t\t\tdata.PROPOSERValueStateText = \"必填项不能为空\";\r\n\t\t\t\t\tif (!bFocus) {\r\n\t\t\t\t\t\tbFocus = true;\r\n\t\t\t\t\t\tthat.byId(\"view_Edit_PROPOSER\").focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//判断申请人部门code是否为空\r\n\t\t\tif (that.byId(\"view_Edit_PROPOSER_KOSTL\")) {\r\n\t\t\t\tif (!data.PROPOSER_KOSTLNumber || !data.PROPOSER_KOSTLNumber.trim()) {\r\n\t\t\t\t\tbInputValid = false;\r\n\t\t\t\t\tdata.PROPOSER_KOSTLState = \"Error\";\r\n\t\t\t\t\tdata.PROPOSER_KOSTLtateText = \"必填项不能为空\";\r\n\t\t\t\t\tif (!bFocus) {\r\n\t\t\t\t\t\tbFocus = true;\r\n\t\t\t\t\t\tthat.byId(\"view_Edit_PROPOSER_KOSTL\").focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//金额判断\r\n\t\t\tif (that.byId(\"view_Edit_AMOUNTSUM\")) {\r\n\t\t\t\tif (data.AMOUNTSUM <= 0) {\r\n\t\t\t\t\tbInputValid = false;\r\n\t\t\t\t\tdata.AMOUNTSUMState = \"Error\";\r\n\t\t\t\t\tdata.AMOUNTSUMStateText = \"请输入正确的金额\";\r\n\t\t\t\t\tif (!bFocus) {\r\n\t\t\t\t\t\tbFocus = true;\r\n\t\t\t\t\t\tthat.byId(\"view_Edit_AMOUNTSUM\").focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//联系方式\r\n\t\t\tif (that.byId(\"view_Edit_TELNUM\")) {\r\n\t\t\t\tif (!(/^(1[3578])\\d{9}$/.test(data.TELNUM))) {\r\n\t\t\t\t\tbInputValid = false;\r\n\t\t\t\t\tdata.TELNUMState = \"Error\";\r\n\t\t\t\t\tdata.TELNUMStateText = \"请输入正确的手机号\";\r\n\t\t\t\t\tif (!bFocus) {\r\n\t\t\t\t\t\tbFocus = true;\r\n\t\t\t\t\t\tthat.byId(\"view_Edit_TELNUM\").focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// 判断利润中心code是否为空\r\n\t\t\tif (that.byId(\"view_Edit_PROPOSER_PRCTR\")) {\r\n\t\t\t\tif (!data.PROPOSER_PRCTRNumber || !data.PROPOSER_PRCTRNumber.trim()) {\r\n\t\t\t\t\tbInputValid = false;\r\n\t\t\t\t\tdata.PROPOSER_PRCTRState = \"Error\";\r\n\t\t\t\t\tdata.PROPOSER_PRCTRStateText = \"必填项不能为空\";\r\n\t\t\t\t\tif (!bFocus) {\r\n\t\t\t\t\t\tbFocus = true;\r\n\t\t\t\t\t\tthat.byId(\"view_Edit_PROPOSER_PRCTR\").focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//判断费用用途是否为空\r\n\t\t\tif (that.byId(\"view_Edit_ACCOUNTFOR\")) {\r\n\t\t\t\tif (!data.ACCOUNTFOR || !data.ACCOUNTFOR.trim()) {\r\n\t\t\t\t\tbInputValid = false;\r\n\t\t\t\t\tdata.ACCOUNTFORState = \"Error\";\r\n\t\t\t\t\tdata.ACCOUNTFORStateText = \"必填项不能为空\";\r\n\t\t\t\t\tif (!bFocus) {\r\n\t\t\t\t\t\tbFocus = true;\r\n\t\t\t\t\t\tthat.byId(\"view_Edit_ACCOUNTFOR\").focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthat.getView().getModel(\"model_edit\").refresh();\r\n\t\t\treturn bInputValid;\r\n\t\t},\r\n\r\n\t\t// =================费用项目====================\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchEinm: function(oEvent, that) {\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (oEvent !== undefined) {\r\n\t\t\t\tvalue = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\t// var data = that.getView().getModel(\"GLOBLEDATA\").oData.DKKD;\r\n\t\t\tvar path = sap.ui.getCore().CLBX_HOMEVIEW.getBindingContext();\r\n\t\t\tvar kostl = sap.ui.getCore().CLBX_HOMEVIEW.getModel().getProperty(path + \"/Kostl\");\r\n\t\t\tvar Etkd = sap.ui.getCore().CLBX_HOMEVIEW.getModel().getProperty(path + \"/Etkd\");\r\n\t\t\tvar Bukrs = sap.ui.getCore().CLBX_HOMEVIEW.getModel().getProperty(path + \"/Bukrs\");\r\n\t\t\tvar sPath = \"/BetitmSet?$filter=Etkd eq '\" + Etkd + \"' and Bukrs eq '\" + Bukrs + \"' and Kostl eq '\" + kostl + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tUtil.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Einm\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Einmlist\",\r\n\t\t\t\t\t\tparams: [\"Einm\", \"Eikd\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get RybhSet error!\");\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// =================税码====================\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchMwskz: function(oEvent, that) {\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (oEvent !== undefined) {\r\n\t\t\t\tvalue = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\t// var value = oEvent.getParameter(\"query\");\r\n\t\t\tvar sPath = \"/TaxcodeSet\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tUtil.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Mwskz\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Mwskzlist\",\r\n\t\t\t\t\t\tparams: [\"Mwskz\", \"Text1\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get TaxcodeSet error!\");\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// =================订单====================\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchAufnrClbx: function(oEvent, that) {\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (oEvent !== undefined) {\r\n\t\t\t\tvalue = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar Bukrs = sap.ui.getCore().AppContext.Bukrs;\r\n\t\t\tvar sPath = \"/AufkSet?$filter=Bukrs eq '\" + Bukrs + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tUtil.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Aufnr\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Aufnrlist\",\r\n\t\t\t\t\t\tparams: [\"Aufnr\", \"Ktext\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get AufkSet error!\");\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// =================交通工具====================\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchVektp: function(oEvent, that) {\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (oEvent !== undefined) {\r\n\t\t\t\tvalue = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar sPath = \"/VekSet\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tUtil.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Vektp\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Vektplist\",\r\n\t\t\t\t\t\tparams: [\"Vektp\", \"Veknm\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get VekSet error!\");\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// =================舱位席别====================\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchSps: function(oEvent, that) {\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (oEvent !== undefined) {\r\n\t\t\t\tvalue = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar path = that.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Vektp = that.getView().getModel().getProperty(path).Vektp;\r\n\t\t\tif (!Vektp) {\r\n\t\t\t\tsap.m.MessageBox.information(\"请先选择交通工具\", {\r\n\t\t\t\t\ttitle: \"警告\",\r\n\t\t\t\t\tonClose: null,\r\n\t\t\t\t\tstyleClass: \"\",\r\n\t\t\t\t\tinitialFocus: null,\r\n\t\t\t\t\ttextDirection: sap.ui.core.TextDirection.Inherit\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar sPath = \"/VeksSet?$filter=Vektp eq '\" + Vektp + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tUtil.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Sps\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Spslist\",\r\n\t\t\t\t\t\tparams: [\"Sps\", \"Spsdsc\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get VekSet error!\");\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// =================城市====================\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchCtkd: function(oEvent, that) {\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (oEvent !== undefined) {\r\n\t\t\t\tvalue = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar Bukrs = sap.ui.getCore().AppContext.Bukrs;\r\n\t\t\tvar sPath = \"/BctSet?$filter=Bukrs eq '\" + Bukrs + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tUtil.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Ctkd\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Ctkdlist\",\r\n\t\t\t\t\t\tparams: [\"Ctkd\", \"Ctnm\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get BctSet error!\");\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// =================地区类别====================\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchDqlb: function(oEvent, that) {\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (oEvent !== undefined) {\r\n\t\t\t\tvalue = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar sPath = \"/DqlbSet?$filter=substringof('\" + (value ? value : '') + \"',Zzdqlbms)\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tUtil.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Dqlb\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Zzdqlblist\",\r\n\t\t\t\t\t\tparams: [\"Zzdqlb\", \"Zzdqlbms\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get BctSet error!\");\r\n\t\t\t\t\tUtil.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// =================功能范围====================\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchFkber: function(oEvent, that) {\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (oEvent !== undefined) {\r\n\t\t\t\tvalue = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar sPath = \"/TfkbtSet\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tthat.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Fkber\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Fkberlist\",\r\n\t\t\t\t\t\tparams: [\"Fkber\", \"Fkbtx\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get TfkbtSet error!\");\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// =================车型====================\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzcx: function(oEvent, that) {\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (oEvent !== undefined) {\r\n\t\t\t\tvalue = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar Bukrs = sap.ui.getCore().AppContext.Bukrs;\r\n\t\t\tvar sPath = \"/CxSet?$filter=Bukrs eq '\" + Bukrs + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tthat.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Zzcx\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Zzcxlist\",\r\n\t\t\t\t\t\tparams: [\"Zzcx\", \"Zzcxms\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get ZzcxSet error!\");\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// =================车号====================\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzch: function(oEvent, that) {\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (oEvent !== undefined) {\r\n\t\t\t\tvalue = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar path = that.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Zzcx = that.getView().getModel().getProperty(path).Zzcx;\r\n\t\t\tif (!Zzcx) {\r\n\t\t\t\tsap.m.MessageBox.information(\"请先选择车型\", {\r\n\t\t\t\t\ttitle: \"警告\",\r\n\t\t\t\t\tonClose: null,\r\n\t\t\t\t\tstyleClass: \"\",\r\n\t\t\t\t\tinitialFocus: null,\r\n\t\t\t\t\ttextDirection: sap.ui.core.TextDirection.Inherit\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar Bukrs = sap.ui.getCore().AppContext.Bukrs;\r\n\t\t\tvar sPath = \"/ChSet?$filter=Bukrs eq '\" + Bukrs + \"' and Zzcx eq '\" + Zzcx + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tthat.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Zzch\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Zzchlist\",\r\n\t\t\t\t\t\tparams: [\"Zzch\", \"Zzchms\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get HTHSet error!\");\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// =================分线核算====================\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzfxcb: function(oEvent, that) {\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (oEvent !== undefined) {\r\n\t\t\t\tvalue = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar Bukrs = sap.ui.getCore().AppContext.Bukrs;\r\n\t\t\tvar sPath = \"/FxcbSet?$filter=Bukrs eq '\" + Bukrs + \"' and substringof('\" + (value ? value : '') + \"',Zzfxcb)\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tthat.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Zzfxcb\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Zzfxcblist\",\r\n\t\t\t\t\t\tparams: [\"Zzfxcb\", \"Zzfxcbms\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get FxcbSet error!\");\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// =================辅助核算01====================\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzfzhs01: function(oEvent, that) {\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (oEvent !== undefined) {\r\n\t\t\t\tvalue = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar Bukrs = sap.ui.getCore().AppContext.Bukrs;\r\n\t\t\tvar sPath = \"/Fzhs01Set?$filter=Bukrs eq '\" + Bukrs + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tthat.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Zzfzhs01\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Zzfzhs01slist\",\r\n\t\t\t\t\t\tparams: [\"Zzfzhs01\", \"Zzfzhs01ms\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get HTHSet error!\");\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// =================辅助核算02====================\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzfzhs02: function(oEvent, that) {\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (oEvent !== undefined) {\r\n\t\t\t\tvalue = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar Bukrs = sap.ui.getCore().AppContext.Bukrs;\r\n\t\t\tvar sPath = \"/Fzhs02Set?$filter=Bukrs eq '\" + Bukrs + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tthat.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Zzfzhs02\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Zzfzhs02slist\",\r\n\t\t\t\t\t\tparams: [\"Zzfzhs02\", \"Zzfzhs02ms\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get HTHSet error!\");\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// =================辅助核算03====================\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzfzhs03: function(oEvent, that) {\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (oEvent !== undefined) {\r\n\t\t\t\tvalue = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar Bukrs = sap.ui.getCore().AppContext.Bukrs;\r\n\t\t\tvar sPath = \"/Fzhs03Set?$filter=Bukrs eq '\" + Bukrs + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tthat.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Zzfzhs03\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Zzfzhs03slist\",\r\n\t\t\t\t\t\tparams: [\"Zzfzhs03\", \"Zzfzhs03ms\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get HTHSet error!\");\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// =================辅助核算04====================\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzfzhs04: function(oEvent, that) {\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (oEvent !== undefined) {\r\n\t\t\t\tvalue = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar Bukrs = sap.ui.getCore().AppContext.Bukrs;\r\n\t\t\tvar sPath = \"/Fzhs04Set?$filter=Bukrs eq '\" + Bukrs + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tthat.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Zzfzhs04\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Zzfzhs04slist\",\r\n\t\t\t\t\t\tparams: [\"Zzfzhs04\", \"Zzfzhs04ms\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get HTHSet error!\");\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// =================辅助核算05====================\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzfzhs05: function(oEvent, that) {\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (oEvent !== undefined) {\r\n\t\t\t\tvalue = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar Bukrs = sap.ui.getCore().AppContext.Bukrs;\r\n\t\t\tvar sPath = \"/Fzhs05Set?$filter=Bukrs eq '\" + Bukrs + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tthat.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Zzfzhs05\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Zzfzhs05slist\",\r\n\t\t\t\t\t\tparams: [\"Zzfzhs05\", \"Zzfzhs05ms\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get HTHSet error!\");\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// =================辅助核算类别====================\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzfzhslb: function(oEvent, that) {\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (oEvent !== undefined) {\r\n\t\t\t\tvalue = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar Bukrs = sap.ui.getCore().AppContext.Bukrs;\r\n\t\t\tvar sPath = \"/FzlbSet?$filter=Bukrs eq '\" + Bukrs + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tthat.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Zzfzhslb\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Zzfzhslblist\",\r\n\t\t\t\t\t\tparams: [\"Zzfzhslb\", \"Zzfzhslbms\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get HTHSet error!\");\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// =================辅助核算内容====================\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzfzhsnr: function(oEvent, that) {\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (oEvent !== undefined) {\r\n\t\t\t\tvalue = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar Bukrs = sap.ui.getCore().AppContext.Bukrs;\r\n\t\t\tvar sPath = \"/FznrSet?$filter=Bukrs eq '\" + Bukrs + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tthat.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Zzfzhsnr\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Zzfzhsnrlist\",\r\n\t\t\t\t\t\tparams: [\"Zzfzhsnr\", \"Zzfzhsnrms\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get HTHSet error!\");\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// var oFilter = new sap.ui.model.Filter(\"Fbkid\", sap.ui.model.FilterOperator.Contains, value);\r\n\t\t\t// this.getView().byId(\"Fbkidlist\").getBinding(\"items\").filter([oFilter]);\r\n\t\t},\r\n\t\t// =================业务类型====================\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzghjh: function(oEvent, that) {\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (oEvent !== undefined) {\r\n\t\t\t\tvalue = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar Bukrs = sap.ui.getCore().AppContext.Bukrs;\r\n\t\t\tvar sPath = \"/GhjfxmSet?$filter=Bukrs eq '\" + Bukrs + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tthat.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Zzghjh\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Zzghjhlist\",\r\n\t\t\t\t\t\tparams: [\"Zzghjh\", \"Zzghjhms\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get HTHSet error!\");\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// var oFilter = new sap.ui.model.Filter(\"Fbkid\", sap.ui.model.FilterOperator.Contains, value);\r\n\t\t\t// this.getView().byId(\"Fbkidlist\").getBinding(\"items\").filter([oFilter]);\r\n\t\t},\r\n\t\t// // =================合同编号====================\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzhtbh: function(oEvent, that) {\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (oEvent !== undefined) {\r\n\t\t\t\tvalue = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar Bukrs = sap.ui.getCore().AppContext.Bukrs;\r\n\t\t\tvar sPath = \"/HthSet?$filter=Bukrs eq '\" + Bukrs + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tthat.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Zzhtbh\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Zzhtbhlist\",\r\n\t\t\t\t\t\tparams: [\"Zzhth\", \"Zzhthms\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get HthSet error!\");\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// =================往来业务性质====================\r\n\t\t// 2.搜索odata帮助\r\n\t\tonSearchZzjshkdw: function(oEvent, that) {\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (oEvent !== undefined) {\r\n\t\t\t\tvalue = oEvent.getParameter(\"query\");\r\n\t\t\t}\r\n\t\t\tvar path = that.getView().getBindingContext().getPath() + \"/\";\r\n\t\t\tvar Bukrs = that.getView().getModel().getProperty(path + \"Bukrs\");\r\n\t\t\tvar sPath = \"/JshkdwSet?$filter=Bukrs eq '\" + Bukrs + \"'\";\r\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZFYBX_CLBX_SRV\", true);\r\n\t\t\tthat.setBusy(true);\r\n\t\t\toDataModel.read(sPath, {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\tthat.getView().setModel(model, \"model_Zzjshkdw\");\r\n\t\t\t\t\t//按条件搜索\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tid: \"Zzjshkdwlist\",\r\n\t\t\t\t\t\tparams: [\"Zzjshkdw\", \"Zzjshkdwms\"],\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.onFilterSearchBase(that, obj);\r\n\t\t\t\t\t//关闭Busy等待\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"get HTHSet error!\");\r\n\t\t\t\t\tthat.setBusy(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tgetUserId: function() {\r\n\t\t\t//cache\r\n\t\t\tif (this._userid) {\r\n\t\t\t\treturn this._userid;\r\n\t\t\t}\r\n\r\n\t\t\tvar loc = location.href.toLowerCase();\r\n\t\t\tif (loc.indexOf(\"fiorilaunchpad.html\") > 0) {\r\n\t\t\t\tthis._userid = sap.ushell.Container.getService(\"UserInfo\").getId();\r\n\t\t\t} else {\r\n\t\t\t\tthis._userid = \"ZZLIUC\";\r\n\t\t\t}\r\n\t\t\treturn this._userid;\r\n\t\t}\r\n\r\n\t};\r\n\treturn Util;\r\n});",
		"sh/bz/common/common/controller/Fkxx.controller.js": "/*global location*/\nsap.ui.define([\n\t\"sh/bz/common/controller/BaseController\",\n\t\"sap/ui/model/json/JSONModel\",\n\t\"sap/ui/core/routing/History\",\n\t\"sh/bz/common/controller/formatter\",\n\t\"sh/bz/common/controller/Util\"\n], function(\n\tBaseController,\n\tJSONModel,\n\tHistory,\n\tformatter,\n\tUtil\n) {\n\t\"use strict\";\n\treturn BaseController.extend(\"sh.bz.common.controller.Fkxx\", {\n\t\t// debugger;\n\t\tformatter: formatter,\n\t\t/* ================================BaseController=========================== */\n\t\t/* lifecycle methods                                           */\n\t\t/* =========================================================== */\n\t\tonInit: function() {\n\t\t\t// debugger;\n\t\t\t// Model used to manipulate control states. The chosen values make sure,\n\t\t\t// detail page is busy indication immediately so there is no break in\n\t\t\t// between the busy indication for loading the view's meta data\n\t\t\tvar iOriginalBusyDelay,\n\t\t\t\toViewModel = new JSONModel({\n\t\t\t\t\tbusy: true,\n\t\t\t\t\tdelay: 0\n\t\t\t\t});\n\t\t\tthis.getRouter().getRoute(\"DETAIL_CL\").attachPatternMatched(this._onObjectMatched, this);\n\t\t\tthis.getRouter().getRoute(\"DETAIL_JK\").attachPatternMatched(this._onObjectMatched, this);\n\t\t\t// Store original busy indicator delay, so it can be restored later on\n\t\t\tiOriginalBusyDelay = this.getView().getBusyIndicatorDelay();\n\t\t\tthis.setModel(oViewModel, \"objectView\");\n\t\t\tthis.getOwnerComponent().getModel().metadataLoaded().then(function() {\n\t\t\t\t// Restore original busy indicator delay for the object view\n\t\t\t\toViewModel.setProperty(\"/delay\", iOriginalBusyDelay);\n\t\t\t});\n\n\t\t},\n\n\t\t/* =========================================================== */\n\t\t/* event handlers                                              */\n\t\t/* =========================================================== */\n\t\tonNavBack: function() {\n\t\t\tvar sPreviousHash = History.getInstance().getPreviousHash(),\n\t\t\t\toCrossAppNavigator = sap.ushell.Container.getService(\"CrossApplicationNavigation\");\n\n\t\t\tif (sPreviousHash !== undefined || !oCrossAppNavigator.isInitialNavigation()) {\n\t\t\t\thistory.go(-1);\n\t\t\t} else {\n\t\t\t\tthis.getRouter().navTo(\"worklist\", {}, true);\n\t\t\t}\n\t\t},\n\n\t\t/* =========================================================== */\n\t\t/* internal methods                                            */\n\t\t/* =========================================================== */\n\t\t_onObjectMatched: function(oEvent) {\n\t\t\tthis.getView().setModel(this.getView().getModel(\"CLMODEL\"));\n\t\t\tvar data = {};\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\n\t\t\tvar sObjectId = oEvent.getParameter(\"arguments\").id;\n\t\t\tthis.id = sObjectId;\n\t\t\tvar Bukrs = sap.ui.getCore().AppContext.Bukrs;\n\t\t\tthis.getView().byId('Todo_IP_Recode').setValue(sObjectId);\n\t\t\tthis.getView().byId('Todo_IP_Bukrs').setValue(Bukrs);\n\t\t\t//初始化输入框\n\t\t\tvar view = this.getView();\n\t\t\tvar inputs = [\n\t\t\t\tview.byId(\"Todo_IP_Fkfzh\"),\n\t\t\t\tview.byId(\"Todo_IP_Hbkid\"),\n\t\t\t\tview.byId(\"Todo_IP_Bankn\"),\n\t\t\t\tview.byId(\"Todo_IP_Rstgr\")\n\t\t\t];\n\t\t\tvar i;\n\t\t\tfor (i = 0; i < inputs.length; i++) {\n\t\t\t\tvar vauleI = inputs[i].getValue();\n\t\t\t\tinputs[i].setValueState();\n\t\t\t}\n\t\t\tvar that = this;\n\t\t\tthat.getView().byId(\"view_Fkxx_save\").setEnabled(true);\n\t\t\tthat.getView().byId(\"Todo_IP_Fkfzh\").setEditable(true);\n\t\t\tthat.getView().byId(\"Todo_IP_Rstgr\").setEditable(true);\n\t\t\tthat.getView().byId(\"Todo_IP_Hbkid\").setEditable(true);\n\t\t\tthat.getView().byId(\"Todo_IP_Bankn\").setEditable(true);\n\t\t\tthat.getView().byId(\"Todo_IP_Zzhth\").setEditable(true);\n\t\t\tthat.getView().byId(\"Todo_IP_Zzzjjh\").setEditable(true);\n\t\t\tthat.getView().byId(\"Todo_IP_Prctr\").setEditable(true);\n\t\t\t//根据编号获取付款详情\n\t\t\tthis.readFKXX(this);\n\t\t},\n\t\treadFKXX: function(that) {\n\t\t\t//根据编号获取付款信息\n\t\t\tvar Recode = that.getView().byId('Todo_IP_Recode').getValue();\n\t\t\t// var sPath = \"/DATASAVESet?$filter=Recode eq '\" + Recode + \"' \";\n\t\t\tvar sPath = \"/DATASAVESet('\" + Recode + \"')\";\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROCWSP_SRV/\", true);\n\t\t\tvar that = this;\n\t\t\toDataModel.read(sPath, {\n\t\t\t\tsuccess: function(oData, response) {\n\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\n\t\t\t\t\tthat.getView().setModel(model, \"fkxx_data\");\n\t\t\t\t\tif (model.oData.Flag_gz === 'X') {\n\t\t\t\t\t\tthat.getView().byId(\"view_Fkxx_save\").setEnabled(false);\n\t\t\t\t\t\tthat.getView().byId(\"Todo_IP_Fkfzh\").setEditable(false);\n\t\t\t\t\t\tthat.getView().byId(\"Todo_IP_Rstgr\").setEditable(false);\n\t\t\t\t\t\tthat.getView().byId(\"Todo_IP_Hbkid\").setEditable(false);\n\t\t\t\t\t\tthat.getView().byId(\"Todo_IP_Bankn\").setEditable(false);\n\t\t\t\t\t\tthat.getView().byId(\"Todo_IP_Zzhth\").setEditable(false);\n\t\t\t\t\t\tthat.getView().byId(\"Todo_IP_Zzzjjh\").setEditable(false);\n\t\t\t\t\t\tthat.getView().byId(\"Todo_IP_Prctr\").setEditable(false);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror: function(oError) {\n\n\t\t\t\t},\n\t\t\t\tasync: false\n\t\t\t});\n\t\t},\n\n\t\t//保存付款信息\n\t\tTodoListFkxxsavePressed: function(oEvent) {\n\t\t\t// 保存时候的校验\t\n\t\t\tthis.validateInputHead();\n\t\t\tvar that = this;\n\t\t\t// var path = that.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar Recode = that.getView().byId('Todo_IP_Recode').getValue();\n\t\t\t var Data = that.getView().getModel(\"fkxx_data\").getData();\n\t\t\tif (this.type) {\n\t\t\t\tif (Data.Flag === '') {\n\t\t\t\t\tvar oEntry = {\n\t\t\t\t\t\t\"Recode\": Recode, //单据编号\n\t\t\t\t\t\t\"Bukrs\": Data.Bukrs, //公司代码 \n\t\t\t\t\t\t\"Fkfzh\": Data.Fkfzh, //付款方账户名称\n\t\t\t\t\t\t\"Rstgr\": Data.Rstgr, //原因代码\n\t\t\t\t\t\t\"Zzhth\": Data.Zzhth, //合同号\n\t\t\t\t\t\t\"Hbkid\": Data.Hbkid, //付款银行\t\n\t\t\t\t\t\t\"Banka\": Data.Banka,\n\t\t\t\t\t\t\"Bankn\": Data.Bankn, //付款银行账户\t\n\t\t\t\t\t\t\"Prctr\": Data.Prctr, //利润中心\n\t\t\t\t\t\t\"Zzzjjh\": Data.Zzzjjh, //资金计划项目\t\n\t\t\t\t\t\t\"Flag\": \"N\"\n\t\t\t\t\t};\n\t\t\t\t\tvar oModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROCWSP_SRV/\", true);\n\t\t\t\t\tvar sPath = \"/DATASAVESet\";\n\t\t\t\t\toModel.create(sPath, oEntry, {\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\n\t\t\t\t\t\t\tUtil.showInfo(\"保存成功\");\n\t\t\t\t\t\t\tsap.ui.getCore().doc.getController().initdata(that.id);\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(error) {\n\t\t\t\t\t\t\tUtil.showError(\"保存失败!\");\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tvar oEntry = {\n\t\t\t\t\t\t\"Recode\": Recode, //单据编号\n\t\t\t\t\t\t\"Bukrs\": Data.Bukrs, //公司代码 \n\t\t\t\t\t\t\"Fkfzh\": Data.Fkfzh, //付款方账户名称\n\t\t\t\t\t\t\"Rstgr\":Data.Rstgr, //原因代码\n\t\t\t\t\t\t\"Zzhth\": Data.Zzhth, //合同号\n\t\t\t\t\t\t\"Hbkid\": Data.Hbkid, //付款银行\t\n\t\t\t\t\t\t\"Banka\": Data.Banka,\n\t\t\t\t\t\t\"Bankn\": Data.Bankn, //付款银行账户\t\n\t\t\t\t\t\t\"Prctr\": Data.Prctr, //利润中心\t\n\t\t\t\t\t\t\"Zzzjjh\": Data.Zzzjjh, //资金计划项目\t\n\t\t\t\t\t\t\"Flag\": \"U\"\n\t\t\t\t\t};\n\t\t\t\t\tvar oModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROCWSP_SRV/\", true);\n\t\t\t\t\tvar sPath = \"/DATASAVESet('\" + Recode + \"')\";\n\t\t\t\t\toModel.update(sPath, oEntry, {\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\n\t\t\t\t\t\t\tUtil.showInfo(\"保存成功\");\n\t\t\t\t\t\t\tsap.ui.getCore().doc.getController().initdata(that.id);\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(error) {\n\t\t\t\t\t\t\tUtil.showError(\"保存失败!\");\n\t\t\t\t\t\t},\n\t\t\t\t\t\tasync: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tvalidateInputHead: function() {\n\t\t\tvar view = this.getView();\n\t\t\tvar inputs = [\n\t\t\t\tview.byId(\"Todo_IP_Fkfzh\"),\n\t\t\t\tview.byId(\"Todo_IP_Hbkid\"),\n\t\t\t\tview.byId(\"Todo_IP_Bankn\"),\n\t\t\t\tview.byId(\"Todo_IP_Rstgr\")\n\t\t\t];\n\t\t\tvar i;\n\t\t\tvar canContinue = true;\n\t\t\tthis.type = canContinue;\n\t\t\tfor (i = 0; i < inputs.length; i++) {\n\t\t\t\tvar vauleI = inputs[i].getValue();\n\t\t\t\tif (!vauleI) {\n\t\t\t\t\tinputs[i].setValueState(\"Error\");\n\t\t\t\t\tcanContinue = false;\n\t\t\t\t} else {\n\t\t\t\t\tinputs[i].setValueState();\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.type = canContinue;\n\t\t\tif (canContinue) {} else {\n\t\t\t\tUtil.showError(\"请输入必输字段!\");\n\t\t\t}\n\t\t},\n\n\t\t//合同号\n\t\trowSelectedZzhth: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Zzhth\").getPath();\n\t\t\tthis.getView().getModel(\"model_Zzhth\").setProperty(\"/sPath\", sPath);\n\t\t\tvar data = this.getView().getModel(\"fkxx_data\").oData;\n\t\t\tdata.Zzhth = this.getView().getModel(\"model_Zzhth\").getProperty(sPath + \"/\" + \"Zzhth\");\n\t\t\tdata.Zzhthms = this.getView().getModel(\"model_Zzhth\").getProperty(sPath + \"/\" + \"Zzhthms\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"fkxx_data\");\n\t\t\tthis.getView().getModel(\"fkxx_data\").refresh();\n\t\t\tthis.oDialogZzhthHelp.close();\n\t\t\tthis.getView().getModel(\"model_Zzhth\").setData(null);\n\t\t},\n\t\t//yuany原因原因\n\t\trowSelectedRstgr: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Rstgr\").getPath();\n\t\t\tthis.getView().getModel(\"model_Rstgr\").setProperty(\"/sPath\", sPath);\n\t\t\tvar data = this.getView().getModel(\"fkxx_data\").oData;\n\t\t\tdata.Rstgr = this.getView().getModel(\"model_Rstgr\").getProperty(sPath + \"/\" + \"Rstgr\");\n\t\t\tdata.Txt20 = this.getView().getModel(\"model_Rstgr\").getProperty(sPath + \"/\" + \"Txt20\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"fkxx_data\");\n\t\t\tthis.getView().getModel(\"fkxx_data\").refresh();\n\t\t\tthis.oDialogRstgrHelp.close();\n\t\t\tthis.getView().getModel(\"model_Rstgr\").setData(null);\n\t\t},\n\t\t//\n\n\t\t// 3.付款银行名称\n\t\trowSelectedHbkid: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Hbkid\").getPath();\n\t\t\tthis.getView().getModel(\"model_Hbkid\").setProperty(\"/sPath\", sPath);\n\t\t\tvar data = this.getView().getModel(\"fkxx_data\").oData;\n\t\t\tdata.Hbkid = this.getView().getModel(\"model_Hbkid\").getProperty(sPath + \"/\" + \"Hbkid\");\n\t\t\tdata.Banka = this.getView().getModel(\"model_Hbkid\").getProperty(sPath + \"/\" + \"Banka\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"fkxx_data\");\n\t\t\tthis.getView().getModel(\"fkxx_data\").refresh();\n\t\t\tthis.oDialogHbkidHelp.close();\n\t\t\tthis.getView().getModel(\"model_Hbkid\").setData(null);\n\t\t\tthis.getView().byId('Todo_IP_Bankn').setValue(null);\n\t\t},\n\n\t\t//付款银行账号\n\n\t\trowSelectedBankn: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Bankn\").getPath();\n\t\t\tthis.getView().getModel(\"model_Bankn\").setProperty(\"/sPath\", sPath);\n\t\t\tvar data = this.getView().getModel(\"fkxx_data\").oData;\n\t\t\tdata.Bankn = this.getView().getModel(\"model_Bankn\").getProperty(sPath + \"/\" + \"Bankn\");\n\t\t\tdata.Text1 = this.getView().getModel(\"model_Bankn\").getProperty(sPath + \"/\" + \"Text1\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"fkxx_data\");\n\t\t\tthis.getView().getModel(\"fkxx_data\").refresh();\n\t\t\tthis.oDialogBanknHelp.close();\n\t\t\tthis.getView().getModel(\"model_Bankn\").setData(null);\n\t\t},\n\n\t\t// 资金计划项\n\t\trowSelectedZzzjjh: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Zzzjjh\").getPath();\n\t\t\tthis.getView().getModel(\"model_Zzzjjh\").setProperty(\"/sPath\", sPath);\n\t\t\tvar data = this.getView().getModel(\"fkxx_data\").oData;\n\t\t\tdata.Zzzjjh = this.getView().getModel(\"model_Zzzjjh\").getProperty(sPath + \"/\" + \"Zzzjjh\");\n\t\t\tdata.Zzzjjhms = this.getView().getModel(\"model_Zzzjjh\").getProperty(sPath + \"/\" + \"Zzzjjhms\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"fkxx_data\");\n\t\t\tthis.getView().getModel(\"fkxx_data\").refresh();\n\t\t\tthis.oDialogZzzjjhHelp.close();\n\t\t\tthis.getView().getModel(\"model_Zzzjjh\").setData(null);\n\t\t},\n\t\t// 利润中心付款信息\n\t\trowSelectedCostCenterBukrs: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_CostCenter\").getPath();\n\t\t\tthis.getView().getModel(\"model_CostCenter\").setProperty(\"/sPath\", sPath);\n\t\t\tvar data = this.getView().getModel(\"fkxx_data\").oData;\n\t\t\tdata.Prctr = this.getView().getModel(\"model_CostCenter\").getProperty(sPath + \"/\" + \"Prctr\");\n\t\t\tdata.KtextPrctr = this.getView().getModel(\"model_CostCenter\").getProperty(sPath + \"/\" + \"Ktext\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"fkxx_data\");\n\t\t\tthis.getView().getModel(\"fkxx_data\").refresh();\n\t\t\tthis.oDialogCostCenterHelp.close();\n\t\t\tthis.getView().getModel(\"model_CostCenter\").setData(null);\n\t\t},\n\n\t\t_bindView: function(sObjectPath) {},\n\n\t\t_onBindingChange: function() {}\n\n\t});\n\n});",
		"sh/bz/common/common/controller/JKDHome.controller.js": "sap.ui.define([\n\t\"sap/ui/core/mvc/Controller\",\n\t\"sh/bz/common/controller/BaseController\",\n\t\"sh/bz/common/controller/Util\",\n\t\"sh/bz/common/controller/Base64\",\n\t\"sh/bz/common/controller/UtilTest\",\n\t\"sh/bz/common/controller/Formatter\",\n\t\"sh/bz/common/controller/UtilWorkFlow\",\n], function(Controller, BaseController, Util, Base64, UtilTest, Formatter, UtilWorkFlow, FileUploaderParameter) {\n\t\"use strict\";\n\t//手机号、固话正则表达\n\tvar reg_PHONE = /^1[35678]\\d{9}$|^((0\\d{2}-)?\\d{8}(-\\d{1,4})?)$|^(0\\d{3}-\\d{7,8}(-\\d{1,4})?)$/;\n\t\n\treturn BaseController.extend(\"sh.bz.common.controller.JKDHome\", {\n\t\t//1 申请人选择\n\t\trowSelected: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_PROPOSER\").getPath();\n\t\t\tthis.getView().getModel(\"model_PROPOSER\").setProperty(\"/sPath\", sPath);\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar PernrS = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Pernr\");\n\t\t\tvar SnameS = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Sname\");\n\t\t\tvar Bukrs = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Bukrs\");\n\t\t\tvar Butxt = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Butxt\");\n\t\t\tvar Kostl = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Kostl\");\n\t\t\tvar Ktext = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Ktext\");\n\t\t\tvar Telnum = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"Ptel\");\n\t\t\tvar UsridS = this.getView().getModel(\"model_PROPOSER\").getProperty(sPath + \"/\" + \"UsridS\");\n\t\t\t/* for fysq */\n\t\t\t/* \n\t\t\tthis.getView().getModel().setProperty(path + \"PernrS\", PernrS);\n\t\t\tthis.getView().getModel().setProperty(path + \"SnameS\", SnameS);\n\t\t\t*/\n\t\t\t/* for cbbx */\n\t\t\t/*\n\t\t\tthis.getView().getModel().setProperty(path + \"PernrB\", PernrS);\n\t\t\tthis.getView().getModel().setProperty(path + \"SnameB\", SnameS);\n\t\t\t*/\n\t\t\t/* for jkd */\n\t\t\tthis.getView().getModel().setProperty(path + \"PernrJ\", PernrS);\n\t\t\tthis.getView().getModel().setProperty(path + \"SnameJ\", SnameS);\n\t\t\tthis.getView().getModel().setProperty(path + \"Bukrs\", Bukrs);\n\t\t\tthis.getView().getModel().setProperty(path + \"Butxt\", Butxt);\n\t\t\tthis.getView().getModel().setProperty(path + \"Kostl\", Kostl);\n\t\t\tthis.getView().getModel().setProperty(path + \"Ktext\", Ktext);\n\t\t\tthis.getView().getModel().setProperty(path + \"Telnum\", Telnum);\n\t\t\tthis.getView().getModel().setProperty(path + \"UsridS\", UsridS);\n\t\t\tvar data = {};\n\t\t\tvar model = [];\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_PROPOSER\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_search\");\n\t\t\tthis.oDialogCostCenterHelpName.close();\n\t\t},\n\n\t\t//2 利润中心选择\n\t\trowSelectedPROPOSER_PRCTR: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_PROPOSER_PRCTR\").getPath();\n\t\t\tthis.getView().getModel(\"model_PROPOSER_PRCTR\").setProperty(\"/sPath\", sPath);\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\t/* for fysq, jkd */\n\n\t\t\tvar Prctr = this.getView().getModel(\"model_PROPOSER_PRCTR\").getProperty(sPath + \"/\" + \"Prctr\");\n\t\t\tvar KtextPrctr = this.getView().getModel(\"model_PROPOSER_PRCTR\").getProperty(sPath + \"/\" + \"Ktext\");\n\t\t\tthis.getView().getModel().setProperty(path + \"Prctr\", Prctr);\n\t\t\tthis.getView().getModel().setProperty(path + \"KtextPrctr\", KtextPrctr);\n\t\t\t/* for clbx */\n\t\t\t/*\n\t\t\tvar Prctr = this.getView().getModel(\"model_PROPOSER_PRCTR\").getProperty(sPath + \"/\" + \"Prctr\");\n\t\t\tvar PrctrKtext = this.getView().getModel(\"model_PROPOSER_PRCTR\").getProperty(sPath + \"/\" + \"Ktext\");\n\t\t\tthis.getView().getModel().setProperty(path + \"Prctr\", Prctr);\n\t\t\tthis.getView().getModel().setProperty(path + \"PrctrKtext\", PrctrKtext);\n\t\t\t*/\n\n\t\t\tvar data = {};\n\t\t\tvar model = [];\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_PROPOSER_PRCTR\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_search\");\n\t\t\tthis.oDialogCostCenterHelp.close();\n\t\t},\n\t\t//往来业务类型\n\t\trowSelectedZzjshkdw: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Zzjshkdw\").getPath();\n\t\t\tthis.getView().getModel(\"model_Zzjshkdw\").setProperty(\"/sPath\", sPath);\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar Zzjshkdw = this.getView().getModel(\"model_Zzjshkdw\").getProperty(sPath + \"/\" + \"Zzjshkdw\");\n\t\t\tvar Zzjshkdwms = this.getView().getModel(\"model_Zzjshkdw\").getProperty(sPath + \"/\" + \"Zzjshkdwms\");\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzjshkdw\", Zzjshkdw);\n\t\t\tthis.getView().getModel().setProperty(path + \"Zzjshkdwms\", Zzjshkdwms);\n\t\t\tvar data = {};\n\t\t\tvar model = [];\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_PROPOSER\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_search\");\n\t\t\tthis.oDialogZzjshkdwHelp.close();\n\t\t},\n\t\t//3 部门选择\n\t\trowSelectedPROPOSER_KOSTL: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_PROPOSER_KOSTL\").getPath();\n\t\t\tthis.getView().getModel(\"model_PROPOSER_KOSTL\").setProperty(\"/sPath\", sPath);\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar Orgeh = this.getView().getModel(\"model_PROPOSER_KOSTL\").getProperty(sPath + \"/\" + \"Orgeh\");\n\t\t\tvar OrgehText = this.getView().getModel(\"model_PROPOSER_KOSTL\").getProperty(sPath + \"/\" + \"OrgehText\");\n\t\t\tthis.getView().getModel().setProperty(path + \"Orgeh\", Orgeh);\n\t\t\tthis.getView().getModel().setProperty(path + \"OrgehText\", OrgehText);\n\t\t\tvar data = {};\n\t\t\tvar model = [];\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_PROPOSER\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_search\");\n\t\t\tthis.oDialogCostPartHelp.close();\n\t\t},\n\n\t\t//4 费用类型选择\n\t\trowSelectedEtdsc: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Etdsc\").getPath();\n\t\t\tthis.getView().getModel(\"model_Etdsc\").setProperty(\"/sPath\", sPath);\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar Etkd = this.getView().getModel(\"model_Etdsc\").getProperty(sPath + \"/\" + \"Etkd\");\n\t\t\tvar Etnm = this.getView().getModel(\"model_Etdsc\").getProperty(sPath + \"/\" + \"Etnm\");\n\t\t\tthis.getView().getModel().setProperty(path + \"Etkd\", Etkd);\n\t\t\tthis.getView().getModel().setProperty(path + \"Etnm\", Etnm);\n\t\t\tvar data = this.getView().getModel(\"model_edit\");\n\t\t\tdata.Lcid = this.getView().getModel(\"model_Etdsc\").getProperty(sPath + \"/\" + \"Lcid\");\n\t\t\tdata.Lcbm = this.getView().getModel(\"model_Etdsc\").getProperty(sPath + \"/\" + \"Lcbm\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\n\t\t\tvar data = {};\n\t\t\tvar model = [];\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_Etdsc\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_search\");\n\t\t\tthis.oDialogEtdscHelp.close();\n\t\t},\n\n\t\t//5 订单选择\n\t\trowSelectedAufnr: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_Aufnr\").getPath();\n\t\t\tthis.getView().getModel(\"model_Aufnr\").setProperty(\"/sPath\", sPath);\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar Aufnr = this.getView().getModel(\"model_Aufnr\").getProperty(sPath + \"/\" + \"Aufnr\");\n\t\t\tvar KtextAufnr = this.getView().getModel(\"model_Aufnr\").getProperty(sPath + \"/\" + \"Ktext\");\n\t\t\tthis.getView().getModel().setProperty(path + \"Aufnr\", Aufnr);\n\t\t\tthis.getView().getModel().setProperty(path + \"KtextAufnr\", KtextAufnr);\n\t\t\tvar data = {};\n\t\t\tvar model = [];\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_Aufnr\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_search\");\n\t\t\tthis.oDialogAufnrHelp.close();\n\t\t},\n\n\t\t//付款方式6 窗口 选择一行数据\n\t\trowSelectedZlsch: function(oEvent) {\n\t\t\tvar path = oEvent.getSource().getBindingContext().getPath() + \"/\";\n\t\t\tvar model = this.getView().byId(\"zlschlist\").getModel();\n\t\t\tvar Zlsch = model.getProperty(path + \"Zlsch\");\n\t\t\tvar Text2 = model.getProperty(path + \"Text2\");\n\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tthis.getView().getModel().setProperty(path + \"Zlsch\", Zlsch);\n\t\t\tthis.getView().getModel().setProperty(path + \"Text2\", Text2);\n\n\t\t\tthis.oDialogZlschHelp.close();\n\t\t},\n\n\t\t//货币7 选择\n\t\trowSelectedWaers: function(oEvent) {\n\t\t\tvar path = oEvent.getSource().getBindingContext().getPath() + \"/\";\n\t\t\tvar model = this.getView().byId(\"waerslist\").getModel();\n\t\t\tvar Waers = model.getProperty(path + \"Waers\");\n\t\t\tvar Ktext = model.getProperty(path + \"Ktext\");\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tthis.getView().getModel().setProperty(path + \"Currency\", Waers);\n\t\t\tthis.getView().getModel().setProperty(path + \"Ktext_waers\", Ktext);\n\t\t\tthis.onCurrencyChange();\n\t\t\tthis.oDialogWaersHelp.close();\n\t\t},\n\n\t\t//8 公司选择\n\t\trowSelectedBukrs: function(oEvent) {\n\t\t\tvar sPath = oEvent.getSource().getBindingContext(\"model_BUKRS\").getPath();\n\t\t\tthis.getView().getModel(\"model_BUKRS\").setProperty(\"/sPath\", sPath);\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar Bxbukrs = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"Bxbukrs\");\n\t\t\tvar Butxt = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"Butxt\");\n\t\t\tvar Orgeh = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"Orgeh\");\n\t\t\tvar Short = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"Short\");\n\t\t\tvar Prctr = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"Prctr\");\n\t\t\tvar KtextPrctr = this.getView().getModel(\"model_BUKRS\").getProperty(sPath + \"/\" + \"KtextPrctr\");\n\t\t\tthis.getView().getModel().setProperty(path + \"Bukrs\", Bxbukrs);\n\t\t\tthis.getView().getModel().setProperty(path + \"Butxt\", Butxt);\n\t\t\tthis.getView().getModel().setProperty(path + \"Orgeh\", Orgeh);\n\t\t\tthis.getView().getModel().setProperty(path + \"OrgehText\", Short);\n\t\t\tthis.getView().getModel().setProperty(path + \"Prctr\", Prctr);\n\t\t\tthis.getView().getModel().setProperty(path + \"KtextPrctr\", KtextPrctr);\n\t\t\tvar data = {};\n\t\t\tvar model = [];\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_BUKRS\");\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_BUKRS\");\n\t\t\tthis.oDialogBukrsHelp.close();\n\t\t},\n\t\t//flag:3的时候的流程确认操作\n\t\tonConfirmCheckName: function(oEvent, that) {\n\t\t\tUtilWorkFlow.onConfirmCheckName(oEvent, this);\n\t\t},\n\n\t\tonCancelCheckName: function(oEvent) {\n\t\t\tvar model = [];\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(model), \"model_CHECK\");\n\t\t\tthis.oDialogCheckName.close();\n\t\t},\n\n\t\t//初始化数据\n\t\tonInit: function() {\n\t\t\tvar oRouter = sap.ui.core.UIComponent.getRouterFor(this);\n\t\t\tthis.getView().addStyleClass(this.getContentDensityClass());\n\t\t\toRouter.getRoute(\"DETAIL_JK\").attachMatched(this._onRouteMatched, this);\n\t\t\tUtil.debug(\"jkd version 0.102\");\n\t\t\tthis.yjhkDate(this); //预计还款日期 范围控制\n\t\t},\n\t\t//预计还款日期 范围控制\n\t\tyjhkDate: function() {\n\t\t\tvar currentDate = new Date(),\n\t\t\t\tyjhkrq = this.byId(\"JKD_IP_Yjhkrq\");\n\t\t\t// currentDate.setDate(currentDate.getDate() - 1);\n\t\t\tcurrentDate.setHours(0, 0, 0, 0);\n\t\t\tyjhkrq.setMinDate(currentDate);\n\t\t},\n\n\t\t//费用类型搜索\n\t\tonSearchEtdsc: function(oEvent) {\n\t\t\tvar DKKD = \"JK\";\n\t\t\tUtil.onSearchEtdsc(oEvent, this, DKKD);\n\t\t},\n\n\t\tsavePressed: function(oEvent) {\n\t\t\t//保存时候的录入数据校验2\n\t\t\tvar objs = [{\n\t\t\t\tidStr: \"JKD_IP_PernrJ\", //借款人\n\t\t\t\tvalidNull: true\n\t\t\t}, {\n\t\t\t\tidStr: \"JKD_IP_Pernr\", //经办人ID\n\t\t\t\tvalidNull: true\n\t\t\t}, {\n\t\t\t\tidStr: \"JKD_IP_Kostl\", //借款人部门\n\t\t\t\tvalidNull: true\n\t\t\t}, {\n\t\t\t\tidStr: \"JKD_IP_Prctr\", //利润中心\n\t\t\t\tvalidNull: true\n\t\t\t}, {\n\t\t\t\t// \tidStr: \"JKD_IP_Zlsch\", //付款方式\n\t\t\t\t// \tvalidNull: true\n\t\t\t\t// }, {\n\t\t\t\tidStr: \"IP_BUKRS\", //借款人公司\n\t\t\t\tvalidNull: true\n\t\t\t}, {\n\t\t\t\tidStr: \"JKD_IP_Kursf\", //汇率\n\t\t\t\tvalidNull: true\n\t\t\t}, {\n\t\t\t\tidStr: \"JKD_IP_Wrbtr\", //借款金额\n\t\t\t\tvalidNull: true,\n\t\t\t\treg: /^\\d+\\.\\d\\d$/, // float保留两位精度\n\t\t\t\tmsg: \"需输入有效数值\"\n\t\t\t}, {\n\t\t\t\tidStr: \"JKD_IP_Numpg\", //附件张数\n\t\t\t\tvalidNull: true,\n\t\t\t\treg: /^\\d+$/, // float保留两位精度\n\t\t\t\tmsg: \"需输入数字\"\n\t\t\t}, {\n\t\t\t\tidStr: \"JKD_IP_Telnum\", //联系方式\n\t\t\t\tvalidNull: true,\n\t\t\t\treg: reg_PHONE, //验证手机号\n\t\t\t\tmsg: \"需输入有效手机号\"\n\t\t\t}, {\n\t\t\t\tidStr: \"JKD_IP_Yjhkrq\", //预计还款日期\n\t\t\t\tvalidNull: true,\n\t\t\t\treg: /^[1-9]\\d{3}\\/(0[1-9]|1[0-2])\\/(0[1-9]|[1-2][0-9]|3[0-1])$/, // 日期\n\t\t\t\tmsg: \"需选择有效日期\"\n\t\t\t}, {\n\t\t\t\tidStr: \"JKD_IP_Accountfor\", //借款用途\n\t\t\t\tvalidNull: true\n\t\t\t}, {\n\t\t\t\tidStr: \"JKD_IP_Accountname\", //户名\n\t\t\t\tvalidNull: true\n\t\t\t}, {\n\t\t\t\tidStr: \"JKD_IP_Banka\", //开户行\n\t\t\t\tvalidNull: true\n\t\t\t}, {\n\t\t\t\tidStr: \"JKD_IP_Bankn\", //账号\n\t\t\t\tvalidNull: true\n\t\t\t}, {\n\t\t\t\tidStr: \"JKD_IP_Zzjshkdw\", //往来业务性质\n\t\t\t\tvalidNull: true\n\t\t\t}];\n\t\t\tif (sap.ui.getCore().AppContext.Bukrs === '9200')\n\t\t\t\tobjs.push({\n\t\t\t\t\tidStr: \"JKD_IP_Aufnr\", //订单\n\t\t\t\t\tvalidNull: true\n\t\t\t\t});\n\t\t\t/*借款金额不能为0*/\n\t\t\tvar $Wrbtr = this.getView().byId(\"JKD_IP_Wrbtr\"),\n\t\t\t\tWrbtrVal = Number($Wrbtr._lastValue);\n\t\t\tif (WrbtrVal <= 0) {\n\t\t\t\t$Wrbtr.setValue(\"\");\n\t\t\t}\n\t\t\tif (this.validForm(oEvent, this, objs))\n\t\t\t\treturn;\n\n\t\t\t//借款单 计算  本位币金额=借款金额x汇率\n\t\t\tthis.doCaculate(this);\n\n\t\t\t//保存主表\n\t\t\t/*\n\t\t\tif (sap.ushell != null)\n\t\t\t\tuserid = sap.ushell.Container.getService(\"UserInfo\").getId(); //in Fiori FLP\n\t\t\telse\n\t\t\t\tvar userid = \"ZZLIYJ\"; //in SAP WebIDE test environment\n\t\t\t*/\n\t\t\tvar userid = Util.getUserId();\n\t\t\tvar saveSuccess = false;\n\t\t\tvar that = this;\n\t\t\tvar path = that.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar Recode = that.getView().getModel().getProperty(path + \"Recode\");\n\t\t\t//MERGE\n\t\t\tif (that.getView().getModel().getProperty(path + \"Usrid\") !== undefined) {\n\t\t\t\tvar sPath = \"/HEADERSAVESet('\" + Recode + \"')\";\n\t\t\t\tvar oEntry = that.getView().getBindingContext().getProperty();\n\t\t\t\toEntry.Yjhkrq = new Date(oEntry.Yjhkrq); //预计还款日期\n\t\t\t\toEntry.Yjhkrq.setHours(8);\n\t\t\t\tUtil.debug(oEntry.Yjhkrq);\n\t\t\t\tdelete oEntry.Uzeitcr; //创建时间\t\tTODO\n\t\t\t\tdelete oEntry.Uzeit_Cr; //创建时间\t\tTODO\n\t\t\t\tdelete oEntry.Zzjshkdwms; //往来业务类型  \n\t\t\t\tdelete oEntry.OrgehText;\n\t\t\t\tUtil.debug(oEntry);\n\t\t\t\tthat.getView().getModel().update(sPath, oEntry, {\n\t\t\t\t\tmerge: true,\n\t\t\t\t\tsuccess: function(oData, oResponse) {\n\t\t\t\t\t\tvar data = that.getView().getModel(\"model_edit\").getData();\n\t\t\t\t\t\tdata.button_save_enabled = true;\n\t\t\t\t\t\tdata.button_submit_enabled = true;\n\t\t\t\t\t\tthat.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\n\t\t\t\t\t\tthat.getView().getModel(\"model_edit\").refresh();\n\t\t\t\t\t\tUtil.showInfo(\"更新保存成功\");\n\t\t\t\t\t\tthat.setscreen(\"A\");\n\t\t\t\t\t},\n\t\t\t\t\terror: function(error) {\n\t\t\t\t\t\tUtil.showInfo(\"更新保存失败\");\n\t\t\t\t\t},\n\t\t\t\t\tasync: false\n\t\t\t\t});\n\t\t\t} else { //CREATE\n\t\t\t\t// var Recode = that.getRecode(that);\n\t\t\t\tthat.getView().getModel().setProperty(path + \"Recode\", Recode);\n\t\t\t\tthat.getView().getModel().setProperty(path + \"Yhxje\", \"0.00\");\n\t\t\t\tthat.getView().getModel().setProperty(path + \"Spzt\", \"A\");\n\t\t\t\tthat.getView().getModel().setProperty(path + \"Spztms\", \"起草\");\n\t\t\t\tthat.getView().getModel().setProperty(path + \"Dkkd\", \"JK\");\n\t\t\t\tthat.getView().getModel().setProperty(path + \"Dknm\", \"借款单\"); //2017-12-11\n\t\t\t\tthat.getView().getModel().setProperty(path + \"UsridS\", userid); //2017-12-11\n\n\t\t\t\tthat.getView().getModel().setProperty(path + \"Usrid\", userid);\n\t\t\t\tvar sPath = \"/HEADERSAVESet\";\n\t\t\t\tvar oEntry = that.getView().getBindingContext().getProperty();\n\t\t\t\toEntry.Yjhkrq = new Date(oEntry.Yjhkrq); //预计还款日期\n\t\t\t\toEntry.Yjhkrq.setHours(8);\n\t\t\t\tUtil.debug(oEntry.Yjhkrq);\n\t\t\t\tdelete oEntry.Uzeitcr; //创建时间\t\tTODO\n\t\t\t\tdelete oEntry.Uzeit_Cr; //创建时间\t\tTODO\n\t\t\t\tdelete oEntry.Zzjshkdwms; //往来业务类型\n\t\t\t\tdelete oEntry.OrgehText;\n\t\t\t\tUtil.debug(oEntry);\n\t\t\t\tvar oModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROJKD_SRV/\");\n\t\t\t\toModel.create(sPath, oEntry, {\n\t\t\t\t\tsuccess: function(oData, oResponse) {\n\t\t\t\t\t\tif (oData.Recode === \"\") {\n\t\t\t\t\t\t\tUtil.showError(\"保存失败\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Recode\", oData.Recode);\n\t\t\t\t\t\t\tvar data = that.getView().getModel(\"model_edit\").getData();\n\t\t\t\t\t\t\tdata.button_save_enabled = true;\n\t\t\t\t\t\t\tdata.button_submit_enabled = true;\n\t\t\t\t\t\t\tthat.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\n\t\t\t\t\t\t\tthat.getView().getModel(\"model_edit\").refresh();\n\t\t\t\t\t\t\tthat.setscreen(\"A\");\n\t\t\t\t\t\t\tUtil.showInfo(\"保存成功\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t},\n\t\t\t\t\terror: function(error) {\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Usrid\", undefined);\n\t\t\t\t\t\tUtil.showError(\"保存失败:\" + error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t//提交\n\t\tsubmitPressed: function() {\n\t\t\t//TODO 保存时候的校验\n\t\t\t// this.validateInputHead();\n\t\t\tvar that = this;\n\t\t\tif (this.getView().getModel(\"model_workflow\") === undefined) {\n\t\t\t\tvar oEntry = that.getView().getBindingContext().getProperty();\n\t\t\t\tvar Bukrs = oEntry.Bukrs;\n\t\t\t\tvar DKKD = \"JK\";\n\t\t\t\tvar sPath = \"/BETYPESet?$filter=( Bukrs eq '\" + Bukrs + \"' ) and ( Dkkd eq '\" + DKKD + \"' )\";\n\t\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\n\t\t\t\toDataModel.read(sPath, {\n\t\t\t\t\tsuccess: function(oData, response) {\n\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData).oData.results[0];\n\t\t\t\t\t\tvar id = model.Lcid;\n\t\t\t\t\t\tvar ZSlbm = model.Lcbm;\n\t\t\t\t\t\tvar path = that.getView().getBindingContext().getPath() + \"/\";\n\t\t\t\t\t\tvar name = oEntry.Sname; //申请人\n\t\t\t\t\t\tvar e_business_code = oEntry.Recode; //单据编号\n\t\t\t\t\t\tvar e_business_name = oEntry.Accountfor; //费用申请说明\n\t\t\t\t\t\tvar e_business_count = oEntry.Dmbtr; //申请金额\n\t\t\t\t\t\tvar Orgeh = oEntry.Orgeh;\n\t\t\t\t\t\tvar Aufnr = oEntry.Aufnr;\n\t\t\t\t\t\t/*\n\t\t\t\t\t\tif (sap.ushell != null)\n\t\t\t\t\t\t\tuserid = sap.ushell.Container.getService(\"UserInfo\").getId(); //in Fiori FLP\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tvar userid = \"ZZLIYJ\"; //in SAP WebIDE test environment\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tvar userid = Util.getUserId();\n\t\t\t\t\t\tvar sPaths = \"/HEADERSAVESet('\" + e_business_code + \"')\";\n\t\t\t\t\t\tvar oDataModels = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROJKD_SRV/\", true);\n\t\t\t\t\t\toDataModels.read(sPaths, {\n\t\t\t\t\t\t\tsuccess: function(oData, response) {\n\t\t\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\n\t\t\t\t\t\t\t\tvar oEntryd = that.getView().getBindingContext().getProperty();\n\t\t\t\t\t\t\t\tif (model.oData.Slbm === \"\") {\n\t\t\t\t\t\t\t\t\tvar obj = {};\n\t\t\t\t\t\t\t\t\tobj.id = id;\n\t\t\t\t\t\t\t\t\tobj.amountsum = e_business_count;\n\t\t\t\t\t\t\t\t\tobj.name = name;\n\t\t\t\t\t\t\t\t\tobj.business_code = e_business_code;\n\t\t\t\t\t\t\t\t\tobj.business_name = e_business_name;\n\t\t\t\t\t\t\t\t\tobj.userid = userid;\n\t\t\t\t\t\t\t\t\tobj.Zslbm = ZSlbm;\n\t\t\t\t\t\t\t\t\tobj.Orgeh = Orgeh;\n\t\t\t\t\t\t\t\t\tobj.Aufnr = Aufnr;\n\t\t\t\t\t\t\t\t\tUtilWorkFlow.submited(obj, that);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (oEntryd.Spzt === \"R\") {\n\t\t\t\t\t\t\t\t\t\tvar obj = {};\n\t\t\t\t\t\t\t\t\t\tobj.id = id;\n\t\t\t\t\t\t\t\t\t\tobj.amountsum = e_business_count;\n\t\t\t\t\t\t\t\t\t\tobj.name = name;\n\t\t\t\t\t\t\t\t\t\tobj.business_code = e_business_code;\n\t\t\t\t\t\t\t\t\t\tobj.business_name = e_business_name;\n\t\t\t\t\t\t\t\t\t\tobj.userid = userid;\n\t\t\t\t\t\t\t\t\t\tobj.Zslbm = model.oData.Slbm;\n\t\t\t\t\t\t\t\t\t\tobj.Orgeh = Orgeh;\n\t\t\t\t\t\t\t\t\t\tobj.Aufnr = Aufnr;\n\t\t\t\t\t\t\t\t\t\tvar oEntry = {\n\t\t\t\t\t\t\t\t\t\t\tZslbm: model.oData.Slbm,\n\t\t\t\t\t\t\t\t\t\t\tZlcid: id,\n\t\t\t\t\t\t\t\t\t\t\tZyhm: userid\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\tUtilWorkFlow.restartflow(oEntry, that, obj);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tvar obj = {\n\t\t\t\t\t\t\t\t\t\t\tamountsum: e_business_count,\n\t\t\t\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\t\t\t\tbusiness_code: e_business_code,\n\t\t\t\t\t\t\t\t\t\t\tbusiness_name: e_business_name,\n\t\t\t\t\t\t\t\t\t\t\tZslbm: model.oData.Slbm,\n\t\t\t\t\t\t\t\t\t\t\tZyhm: userid,\n\t\t\t\t\t\t\t\t\t\t\tOrgeh: Orgeh,\n\t\t\t\t\t\t\t\t\t\t\tAufnr : Aufnr\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\tUtilWorkFlow.subed(obj, that);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terror: function(oError) {\n\t\t\t\t\t\t\t\t// MessageToast.show(\"get RYBHSet error!\");\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tasync: false\n\t\t\t\t\t\t});\n\t\t\t\t\t\t// Util.debug(model);\n\t\t\t\t\t},\n\t\t\t\t\terror: function(oError) {\n\t\t\t\t\t\tUtil.showError(\"get RECODESet error!\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvar data = this.getView().getModel(\"model_workflow\").getData();\n\t\t\t\tvar id = data.Lcid;\n\t\t\t\tvar ZSlbm = data.Lcbm;\n\t\t\t\tvar path = that.getView().getBindingContext().getPath() + \"/\";\n\t\t\t\tvar model = this.getView().getModel();\n\t\t\t\tvar name = model.getProperty(path + \"Sname\"); //申请人\n\t\t\t\tvar e_business_code = model.getProperty(path + \"Recode\"); //单据编号\n\t\t\t\tvar e_business_name = model.getProperty(path + \"Accountfor\"); //费用申请说明\n\t\t\t\tvar e_business_count = model.getProperty(path + \"Dmbtr\"); //申请金额\n\t\t\t\tvar Orgeh = model.getProperty(path + \"Orgeh\");\n\t\t\t\tvar Aufnr = model.getProperty(path + \"Aufnr\");\n\t\t\t\tvar userid = Util.getUserId();\n\t\t\t\tvar sPath = \"/HEADERSAVESet('\" + e_business_code + \"')\";\n\t\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROJKD_SRV/\", true);\n\t\t\t\toDataModel.read(sPath, {\n\t\t\t\t\tsuccess: function(oData, response) {\n\t\t\t\t\t\tvar oEntryd = that.getView().getBindingContext().getProperty();\n\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(oData);\n\t\t\t\t\t\tif (model.oData.Slbm === \"\") {\n\t\t\t\t\t\t\tvar obj = {};\n\t\t\t\t\t\t\tobj.id = id;\n\t\t\t\t\t\t\tobj.amountsum = e_business_count;\n\t\t\t\t\t\t\tobj.name = name;\n\t\t\t\t\t\t\tobj.business_code = e_business_code;\n\t\t\t\t\t\t\tobj.business_name = e_business_name;\n\t\t\t\t\t\t\tobj.userid = userid;\n\t\t\t\t\t\t\tobj.Zslbm = ZSlbm;\n\t\t\t\t\t\t\tobj.Orgeh = Orgeh;\n\t\t\t\t\t\t\tobj.Aufnr = Aufnr;\n\t\t\t\t\t\t\tUtilWorkFlow.submited(obj, that);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (oEntryd.Spzt === \"R\") {\n\t\t\t\t\t\t\t\tvar obj = {};\n\t\t\t\t\t\t\t\tobj.id = id;\n\t\t\t\t\t\t\t\tobj.amountsum = e_business_count;\n\t\t\t\t\t\t\t\tobj.name = name;\n\t\t\t\t\t\t\t\tobj.business_code = e_business_code;\n\t\t\t\t\t\t\t\tobj.business_name = e_business_name;\n\t\t\t\t\t\t\t\tobj.userid = userid;\n\t\t\t\t\t\t\t\tobj.Zslbm = model.oData.Slbm;\n\t\t\t\t\t\t\t\tobj.Orgeh = Orgeh;\n\t\t\t\t\t\t\t\tobj.Aufnr = Aufnr;\n\t\t\t\t\t\t\t\tvar oEntry = {\n\t\t\t\t\t\t\t\t\tZslbm: model.oData.Slbm,\n\t\t\t\t\t\t\t\t\tZlcid: id,\n\t\t\t\t\t\t\t\t\tZyhm: userid\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tUtilWorkFlow.restartflow(oEntry, that, obj);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar obj = {\n\t\t\t\t\t\t\t\t\tamountsum: e_business_count,\n\t\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\t\tbusiness_code: e_business_code,\n\t\t\t\t\t\t\t\t\tbusiness_name: e_business_name,\n\t\t\t\t\t\t\t\t\tZslbm: model.oData.Slbm,\n\t\t\t\t\t\t\t\t\tZyhm: userid,\n\t\t\t\t\t\t\t\t\tOrgeh: Orgeh,\n\t\t\t\t\t\t\t\t\tAufnr : Aufnr\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tUtilWorkFlow.subed(obj, that);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// if(model.resu){}\n\t\t\t\t\t\t// console.log(model)\n\t\t\t\t\t\t//Util.debug(model);\n\t\t\t\t\t},\n\t\t\t\t\terror: function(oError) {\n\t\t\t\t\t\t// MessageToast.show(\"get RYBHSet error!\");\n\t\t\t\t\t},\n\t\t\t\t\tasync: false\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\treadBEType: function(that) {\n\t\t\tvar path = that.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar model = that.getView().getModel();\n\t\t\tvar Bukrs = model.getProperty(path + \"Bukrs\");\n\n\t\t\tvar DKKD = \"JK\"; //SQ, JK\n\n\t\t\t//var sPath = \"/BETYPESet?$filter=( Bukrs eq '\" + Bukrs + \"' ) and ( Dkkd eq '\" + DKKD + \"' ) and (Etkd eq '\" + ETKD + \"')\";\n\t\t\tvar sPath = \"/BETYPESet?$filter=( Bukrs eq '\" + Bukrs + \"' ) and ( Dkkd eq '\" + DKKD + \"' )\";\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01/\", true);\n\t\t\tUtil.debug(\"BETYPESet \" + sPath);\n\t\t\toDataModel.read(sPath, {\n\t\t\t\tsuccess: function(oData, response) {\n\t\t\t\t\tif (oData.results.length === 1) {\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Etkd\", oData.results[0].Etkd);\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Dkkd\", oData.results[0].Dkkd);\n\t\t\t\t\t\tvar data = {};\n\t\t\t\t\t\tdata.Etdsc = oData.results[0].Etdsc;\n\t\t\t\t\t\tdata.Lcid = oData.results[0].Lcid;\n\t\t\t\t\t\tdata.Lcbm = oData.results[0].Lcbm;\n\t\t\t\t\t\tvar model = new sap.ui.model.json.JSONModel(data);\n\t\t\t\t\t\tthat.getView().setModel(model, \"model_workflow\");\n\t\t\t\t\t\tUtil.debug(\"get BETYPESet success!\");\n\t\t\t\t\t\tUtil.debug(\"Lcid \" + data.Lcid);\n\t\t\t\t\t} else\n\t\t\t\t\t\tUtil.showError(\"get BETYPESet error!\");\n\t\t\t\t},\n\t\t\t\terror: function(oError) {\n\t\t\t\t\tUtil.showError(\"get BETYPESet error!\");\n\t\t\t\t},\n\t\t\t\tasync: false\n\t\t\t});\n\t\t},\n\n\t\t//借款单  判断 人名币\n\t\tonCurrencyChange: function(oEvent) {\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar model = this.getView().getModel();\n\n\t\t\tif (model.getProperty(path + \"Currency\") === \"CNY\") {\n\t\t\t\tthis.getView().byId(\"JKD_IP_Kursf\").setEditable(false);\n\t\t\t} else {\n\t\t\t\tthis.getView().byId(\"JKD_IP_Kursf\").setEditable(true);\n\t\t\t}\n\n\t\t\t/*\n\t\t\tvar data = this.getView().getModel(\"model_edit\").getData();\n\t\t\tif (model.getProperty(path + \"Currency\") === \"CNY\") {\n\t\t\t\tdata.Kursf_editable = false;\n\t\t\t} else {\n\t\t\t\tdata.Kursf_editable = true;\n\t\t\t}\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\n\t\t\t*/\n\t\t\tthis.doCaculate(this);\n\n\t\t},\n\n\t\t//借款单 计算  本位币金额=借款金额x汇率\n\t\tdoCaculate: function(that) {\n\t\t\tvar path = that.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar model = that.getView().getModel();\n\t\t\t//TODO JKD 判断 人名币 条件不对\n\t\t\tif (model.getProperty(path + \"Currency\") === \"CNY\") {\n\t\t\t\tmodel.setProperty(path + \"Kursf\", \"1.00000\"); //汇率\n\t\t\t}\n\n\t\t\tmodel.setProperty(path + \"Wrbtr\", Formatter.FloatFormat(model.getProperty(path + \"Wrbtr\"))); //金额\n\t\t\tvar value = parseFloat(model.getProperty(path + \"Wrbtr\")) * parseFloat(model.getProperty(path + \"Kursf\"));\n\t\t\tvalue = Formatter.FloatFormat(value);\n\t\t\tmodel.setProperty(path + \"Dmbtr\", value); //本位币金额\n\t\t},\n\n\t\tgetRecode: function(that) {\n\t\t\t//查询单据编号\n\t\t\tvar Recode = \"\";\n\n\t\t\tvar path = that.getView().getBindingContext().getPath() + \"/\";\n\t\t\tvar Bukrs = that.getView().getModel().getProperty(path + \"Bukrs\");\n\t\t\tvar sPath = \"/RECODESet?$filter=(Dkkd eq 'JK') and (Bukrs eq '\" + Bukrs + \"')\";\n\t\t\t//var sPath = \"/RECODESet?$filter=(Dkkd eq 'JK') and (Bukrs eq '1001')\";\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROJKD_SRV/\", true);\n\t\t\tvar bError = false;\n\t\t\toDataModel.read(sPath, {\n\t\t\t\tsuccess: function(oData, response) {\n\t\t\t\t\tRecode = oData.results[0].Recode;\n\t\t\t\t},\n\t\t\t\terror: function(oError) {\n\t\t\t\t\tUtil.showError(\"get RECODESet error!\");\n\t\t\t\t\tbError = true;\n\t\t\t\t},\n\t\t\t\tasync: false //false 同步操作 async operation\n\t\t\t});\n\t\t\tif (bError)\n\t\t\t\treturn \"\";\n\t\t\telse\n\t\t\t\treturn Recode;\n\t\t},\n\n\t\treadRYBH: function(that, Userid) {\n\t\t\tvar path = that.getView().getBindingContext().getPath() + \"/\";\n\n\t\t\t//查询人员信息\n\t\t\tvar sPath = \"/RYBHSet?$filter=Usrid eq '\" + Userid + \"'\";\n\t\t\tvar oDataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZPROFYSQD_SRV_01\", true);\n\t\t\toDataModel.read(sPath, {\n\t\t\t\tsuccess: function(oData, response) {\n\t\t\t\t\tif (oData.results.length === 1) {\n\t\t\t\t\t\tif (oData.results[0].Btmark === \"\") {\n\t\t\t\t\t\t\tthat.getView().byId(\"IP_BUKRS\").setEditable(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//example model.setProperty(\"/RYBHSet('ZZLIYJ')/Sname\", \"zz\");\n\t\t\t\t\t\t//that.getView().getModel().setProperty(path + \"Recode\", \"XX\");\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Currency\", \"CNY\");\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Ktext_waers\", \"人民币\");\n\t\t\t\t\t\t// that.getView().getModel().setProperty(path + \"Wrbtr\", 0.00);\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Kursf\", \"1.00000\"); //汇率\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Wrbtr\", \"\"); //借款金额\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Dmbtr\", \"0.00\");\n\t\t\t\t\t\t// that.getView().getModel().setProperty(path + \"Numpg\", 0); //附件张数\n\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Redate\", oData.results[0].Datum);\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"PernrJ\", oData.results[0].Pernr);\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"SnameJ\", oData.results[0].Sname);\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Pernr\", oData.results[0].Pernr);\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Sname\", oData.results[0].Sname);\n\t\t\t\t\t\t// that.getView().getModel().setProperty(path + \"Kostl\", oData.results[0].Kostl);\n\t\t\t\t\t\t// that.getView().getModel().setProperty(path + \"Ktext\", oData.results[0].Ktext);\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Orgeh\", oData.results[0].Orgeh);\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"OrgehText\", oData.results[0].OrgehText);\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Butxt\", oData.results[0].Butxt);\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Bukrs\", oData.results[0].Bukrs);\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Ktext\", oData.results[0].Ktext);\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Telnum\", oData.results[0].Ptel);\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Accountname\", oData.results[0].Sname);\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Banka\", oData.results[0].Banka);\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Bankn\", oData.results[0].Bankn);\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"Prctr\", oData.results[0].Prctr);\n\t\t\t\t\t\tthat.getView().getModel().setProperty(path + \"KtextPrctr\", oData.results[0].KtextPrctr);\n\t\t\t\t\t\tthat.readBEType(that);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror: function(oError) {\n\t\t\t\t\tUtil.showError(\"readRYBH error!\");\n\t\t\t\t},\n\t\t\t\tasync: false\n\t\t\t});\n\n\t\t},\n\n\t\t//\n\t\tonintJkdFz: function(Bukrs) {\n\t\t\tsap.ui.getCore().AppContext.Bukrs = Bukrs;\n\t\t\tif (sap.ui.getCore().AppContext.Bukrs === '9200') {\n\t\t\t\tthis.getView().byId(\"JKD_IP_Aufnr_label\").setRequired(true);\n\t\t\t} else {\n\t\t\t\tthis.getView().byId(\"JKD_IP_Aufnr_label\").setRequired(false);\n\t\t\t}\n\t\t},\n\n\t\t//初始化输入表单数据\n\t\tprepareNewData: function(that) {\n\t\t\t//初始化输入表单数据 附件上传\n\t\t\t//TODO attachment API\n\t\t\tvar data = {\n\t\t\t\t\"Item\": []\n\t\t\t};\n\t\t\tthat.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_file\");\n\n\t\t\t//初始化输入表单数据 数据校验\n\t\t\tvar data = {\n\t\t\t\t\"WrbtrValueState\": \"None\",\n\t\t\t\t\"WrbtrValueStateText\": \"\",\n\t\t\t\t\"Kursf_editable\": false,\n\t\t\t\t\"button_save_enabled\": true,\n\t\t\t\t\"button_submit_enabled\": false,\n\t\t\t};\n\t\t\tthat.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\n\n\t\t\t//初始化输入表单数据 总表 空数据\n\t\t\tvar oEntry = this.getView().getModel().createEntry(\"HEADERSAVESet\");\n\t\t\tthat.getView().setBindingContext(oEntry);\n\t\t\tthat.getView().bindElement(oEntry.getPath());\n\t\t\tthat.getView().getModel().setRefreshAfterChange(true);\n\n\t\t\t//初始化输入表单数据 总表\n\t\t\t/*\n\t\t\tif (sap.ushell != null)\n\t\t\t\tUserid = sap.ushell.Container.getService(\"UserInfo\").getId(); //in Fiori FLP\n\t\t\telse\n\t\t\t\tvar Userid = \"ZZLIYJ\"; //in SAP WebIDE test environment\n\t\t\t*/\n\t\t\tvar userid = Util.getUserId();\n\t\t\tthis.readRYBH(this, userid);\n\t\t\tvar path = this.getView().getBindingContext().getPath() + \"/\";\n\t\t\tthis.onintJkdFz(this.getView().getModel().getProperty(path + \"Bukrs\"));\n\t\t\tUtil.debug(\"prepareNewData completed\");\n\t\t},\n\n\t\tvalidateInputHead: function(oEvent) {\n\t\t\tvar bInputValid = Util.validateInputFields(this);\n\t\t\treturn bInputValid;\n\t\t},\n\n\t\t_onRouteMatched: function(oEvent) {\n\t\t\tthis.setscreen(this.getOwnerComponent()._status);\n\t\t\tthis.getView().setModel(this.getView().getModel(\"JKMODEL\"));\n\t\t\tUtil.debug(\"_onRouteMatched called\");\n\t\t\tvar oArgs, oView;\n\t\t\toArgs = oEvent.getParameter(\"arguments\");\n\t\t\tthis._id = oArgs.id;\n\t\t\t//if (oArgs.id == \"new\") {\n\t\t\tif (oArgs.id === undefined) {\n\t\t\t\tthis.setscreen(\"\");\n\t\t\t\tif (!sap.ui.getCore().AppContext) {\n\t\t\t\t\tsap.ui.getCore().AppContext = new Object();\n\t\t\t\t}\n\t\t\t\tif (!sap.ui.getCore().AppContext.shbzjkd) {\n\t\t\t\t\tsap.ui.getCore().AppContext.shbzjkd = new Object();\n\t\t\t\t}\n\n\t\t\t\tif (sap.ui.getCore().AppContext.shbzjkd.haveNewItem) {\n\t\t\t\t\tsap.ui.getCore().AppContext.shbzjkd.haveNewItem = false;\n\n\t\t\t\t\tvar model_edit = this.getView().getModel(\"model_edit\");\n\t\t\t\t\tvar data = model_edit.oData;\n\t\t\t\t\tif (data.ItemCount === undefined) {\n\t\t\t\t\t\tdata.ItemCount = 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdata.ItemCount = data.ItemCount + 1;\n\t\t\t\t\t}\n\t\t\t\t\tsap.ui.getCore().AppContext.shbzjkd.Item.NO = data.ItemCount;\n\t\t\t\t\tsap.ui.getCore().AppContext.shbzjkd.Item.AMOUNT = Formatter.FloatFormat(sap.ui.getCore().AppContext.shbzjkd.Item.AMOUNT);\n\t\t\t\t\tdata.Item.push(sap.ui.getCore().AppContext.shbzjkd.Item);\n\n\t\t\t\t\tvar amount = parseFloat(sap.ui.getCore().AppContext.shbzjkd.Item.AMOUNT);\n\t\t\t\t\tvar amountsum = parseFloat(data.AMOUNTSUM) + amount;\n\t\t\t\t\tdata.AMOUNTSUM = Formatter.FloatFormat(amountsum);\n\t\t\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\n\t\t\t\t\tthis.getView().getModel(\"model_edit\").refresh(true);\n\t\t\t\t} else if (sap.ui.getCore().AppContext.shbzjkd.haveUpdateItem) {\n\t\t\t\t\t//TODO\n\t\t\t\t\t//var data = sap.ui.getCore().AppContext.Item;\n\n\t\t\t\t\t//sap.ui.getCore().AppContext.haveUpdateItem = false;\n\t\t\t\t} else {\n\t\t\t\t\tvar that = this;\n\t\t\t\t\tthis.getView().getModel().metadataLoaded().then(function() {\n\t\t\t\t\t\tthat.prepareNewData(that);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.getData(this);\n\t\t\t}\n\t\t},\n\t\t//add by ymz s\n\t\tsetscreen: function(status, sdata) {\n\t\t\tvar that = this;\n\t\t\tif (this.getOwnerComponent().getModel(\"CONTROL\") && this.getOwnerComponent().getModel(\"CONTROL\").getProperty(\"/control\") === 'AL') {\n\t\t\t\tstatus = 'C';\n\t\t\t};\n\t\t\tif (status === \"A\" || status === \"\" || status === undefined || status === \"D\" || status === \"R\") {\n\t\t\t\t//起草\n\t\t\t\tif (sdata !== undefined) {\n\t\t\t\t\tif (sdata === \"\") {\n\t\t\t\t\t\tthis.getView().byId(\"IP_BUKRS\").setEditable(false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar sViewinfor = [];\n\t\t\t\t//this.addfiledcontrol(sViewinfor, 'JKD_IP_Recode', null, null, true);\n\t\t\t\t//this.addfiledcontrol(sViewinfor, 'JKD_IP_Pernr', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'JKD_IP_PernrJ', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'JKD_IP_Wrbtr', null, null, true);\n\t\t\t\t//this.addfiledcontrol(sViewinfor, 'JKD_IP_Dmbtr', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'JKD_IP_Zlsch', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'JKD_IP_Aufnr', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'JKD_IP_Prctr', null, null, true);\n\t\t\t\t//this.addfiledcontrol(sViewinfor, 'JKD_IP_Redate', null, null, true);\n\t\t\t\t//this.addfiledcontrol(sViewinfor, 'JKD_IP_Bukrs', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'JKD_IP_Kostl', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'JKD_IP_Currency', null, null, true);\n\n\t\t\t\t//this.addfiledcontrol(sViewinfor, 'JKD_IP_Kursf', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'JKD_IP_Numpg', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'JKD_IP_Yjhkrq', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'JKD_IP_Telnum', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'JKD_IP_Accountfor', null, null, true);\n\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'JKD_IP_Accountname', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'JKD_IP_Banka', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'JKD_IP_Bankn', null, null, true);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'JKD_IP_Zzjshkdw', null, null, true);\n\t\t\t\t// for buttom\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'fileUploader', true, null, null);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'fileUpload_delete', true, null, null);\n\t\t\t\tthis.addfiledcontrol(sViewinfor, 'view_Edit_save', true, null, null);\n\t\t\t\t// this.addfiledcontrol(sViewinfor, 'view_Edit_submit', true, null, null);\n\n\t\t\t\tfor (var i = 0; i < sViewinfor.length; i++) {\n\t\t\t\t\tif (sViewinfor[i].visible !== null) {\n\t\t\t\t\t\tthis.getView().byId(sViewinfor[i].element).setVisible(sViewinfor[i].visible);\n\t\t\t\t\t}\n\t\t\t\t\tif (sViewinfor[i].enable !== null) {\n\t\t\t\t\t\tthis.getView().byId(sViewinfor[i].element).setEnabled(sViewinfor[i].enable);\n\t\t\t\t\t}\n\t\t\t\t\tif (sViewinfor[i].editable !== null) {\n\t\t\t\t\t\tthis.getView().byId(sViewinfor[i].element).setEditable(sViewinfor[i].editable);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tif (this.getView().byId(\"JKPAGE\")) {\n\t\t\t\t\tthis.getView().byId(\"JKPAGE\").setShowFooter(true);\n\t\t\t\t}\n\n\t\t\t\t//未保存过时\n\t\t\t\tif (status === \"\" || status === undefined) {\n\t\t\t\t\tthis.addfiledcontrol(sViewinfor, 'view_Edit_submit', true, false, null);\n\t\t\t\t} else {\n\t\t\t\t\tthis.addfiledcontrol(sViewinfor, 'view_Edit_submit', true, true, null);\n\t\t\t\t};\n\n\t\t\t} else if (status === \"C\" || status === \"E\") {\n\t\t\t\tthis.getView().byId(\"fileUploader\").setVisible(false);\n\t\t\t\tvar elements = that.getView().findElements(true);\n\t\t\t\tthis.getView().byId(\"JKD_IP_Kursf\").setEditable(false);\n\t\t\t\tfor (var i = 0; i < elements.length; i++) {\n\t\t\t\t\tif (elements[i].getMetadata().getName() === \"sap.m.MultiInput\" || elements[i].getMetadata().getName() === \"sap.m.Input\" ||\n\t\t\t\t\t\telements[i].getMetadata().getName() === \"sap.m.TextArea\" || elements[i].getMetadata().getName() === \"sap.m.DatePicker\") {\n\t\t\t\t\t\telements[i].setEditable(false);\n\t\t\t\t\t}\n\t\t\t\t\tif (elements[i].getMetadata().getName() === \"sap.m.Button\") {\n\t\t\t\t\t\telements[i].setVisible(false);\n\t\t\t\t\t}\n\t\t\t\t\tif (elements[i].getMetadata().getName() === \"sap.m.Page\") {\n\t\t\t\t\t\telements[i].setShowFooter(false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\taddfiledcontrol: function(sViewinfor, selement, svisible, senable, seditable) {\n\t\t\tvar wa = {\n\t\t\t\telement: selement,\n\t\t\t\tvisible: svisible,\n\t\t\t\tenable: senable,\n\t\t\t\teditable: seditable,\n\t\t\t};\n\t\t\tsViewinfor.splice(0, 0, wa);\n\t\t\treturn sViewinfor;\n\t\t},\n\t\t//add by ymz e\n\t\t_toPage: function(key) {\n\n\t\t},\n\n\t\tonAfterRendering: function() {\n\n\t\t},\n\n\t\tgetData: function(that) {\n\t\t\t//初始化model_edit\n\t\t\tvar data = {};\n\t\t\tthat.getView().setModel(new sap.ui.model.json.JSONModel(data), \"model_edit\");\n\n\t\t\tvar spath = \"/HEADERSAVESet('\" + that._id + \"')\";\n\t\t\t// this.getView().bindElement(spath);\n\t\t\tthat.getView().bindElement({\n\t\t\t\tpath: spath,\n\t\t\t\tevents: {\n\t\t\t\t\tdataRequested: function() {\n\t\t\t\t\t\tUtil.debug(\"dataRequested\");\n\t\t\t\t\t},\n\t\t\t\t\tdataReceived: function(oData, response) {\n\t\t\t\t\t\tvar model = oData.getParameters();\n\t\t\t\t\t\tvar Recode = model.data.Recode;\n\t\t\t\t\t\tthat.getFiles(that, Recode);\n\t\t\t\t\t\t// if (model.data.Spzt === \"A\" || model.data.Spzt === \"D\" || model.data.Spzt === \"R\") {\n\t\t\t\t\t\t// \tthat.getView().byId(\"view_Edit_save\").setEnabled(true);\n\t\t\t\t\t\t// \tthat.getView().byId(\"view_Edit_submit\").setEnabled(true);\n\t\t\t\t\t\t// } else {\n\t\t\t\t\t\t// \tthat.getView().byId(\"view_Edit_save\").setEnabled(false);\n\t\t\t\t\t\t// \tthat.getView().byId(\"view_Edit_submit\").setEnabled(false);\n\t\t\t\t\t\t// }\n\t\t\t\t\t\tif (sap.ui.getCore().AppContext.Apps === \"Todolist\") {\n\t\t\t\t\t\t\t// that.getView().byId(\"view_Edit_save\").setVisible(false);\n\t\t\t\t\t\t\t// that.getView().byId(\"view_Edit_submit\").setVisible(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthat.setscreen(model.data.Spzt, model.data.Btmark);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (this.getView().getBindingContext() !== undefined) {\n\t\t\t\t// var model = this.getView().getBindingContext().getProperty();\n\t\t\t\t// if (model.Spzt === \"A\" || model.Spzt === \"D\" || model.Spzt === \"R\") {\n\t\t\t\t// \tthat.getView().byId(\"view_Edit_save\").setEnabled(true);\n\t\t\t\t// \tthat.getView().byId(\"view_Edit_submit\").setEnabled(true);\n\t\t\t\t// } else {\n\t\t\t\t// \tthat.getView().byId(\"view_Edit_save\").setEnabled(false);\n\t\t\t\t// \tthat.getView().byId(\"view_Edit_submit\").setEnabled(false);\n\t\t\t\t// }\n\t\t\t}\n\t\t}\n\t});\n});",
		"sh/bz/common/common/controller/UtilTest.js": "sap.ui.define([\r\n\t\"sap/m/MessageToast\",\r\n\t\"sap/m/MessageBox\"\r\n], function(MessageToast, MessageBox) {\r\n\t\"use strict\";\r\n\tvar UtilTest = {\r\n\t\t\r\n\t\tonDeleteItem: function(oEvent, that) {\r\n\t\t\t//delete index\r\n\t\t\tthat.sDeleteItemIndex = oEvent.getParameter(\"listItem\").getBindingContext(\"model_edit\").getPath().split(\"/\").reverse()[0];\r\n\t\t\t//newintem\r\n\t\t\tthat.getView().getModel(\"model_edit\").getData().Item.splice(that.sDeleteItemIndex, 1);\r\n\t\t\tvar odata = that.getView().getModel(\"model_edit\").getData();\r\n\t\t\tvar list = [];\r\n\t\t\todata.Item.forEach(function(rst) {\r\n\t\t\t\tdelete rst.NO;\r\n\t\t\t\tlist.push(rst);\r\n\t\t\t});\r\n\t\t\tvar newlist = list;\r\n\t\t\tlist.map(function(rst, index) {\r\n\t\t\t\tnewlist[index].NO = index + 1;\r\n\t\t\t});\r\n\t\t\todata.Item = newlist;\r\n\t\t\todata.ItemCount = odata.ItemCount - 1;\r\n\t\t\tthat.getView().getModel(\"model_edit\").refresh();\r\n\t\t}\r\n\r\n\r\n\t};\r\n\treturn UtilTest;\r\n});",
		"sh/bz/common/model/models.js": "sap.ui.define([\n\t\"sap/ui/model/json/JSONModel\",\n\t\"sap/ui/Device\"\n], function(JSONModel, Device) {\n\t\"use strict\";\n\n\treturn {\n\n\t\tcreateDeviceModel: function() {\n\t\t\tvar oModel = new JSONModel(Device);\n\t\t\toModel.setDefaultBindingMode(\"OneWay\");\n\t\t\treturn oModel;\n\t\t}\n\n\t};\n});",
		"sh/bz/common/controller/View1.controller.js": "sap.ui.define([\n\t\"sap/ui/core/mvc/Controller\"\n], function(Controller) {\n\t\"use strict\";\n\n\treturn Controller.extend(\"sh.bz.common.controller.View1\", {\n\n\t});\n});"
	}
});